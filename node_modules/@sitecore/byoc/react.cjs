"use strict";var C=Object.create;var b=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var _=(e,t)=>{for(var n in t)b(e,n,{get:t[n],enumerable:!0})},f=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of w(t))!k.call(e,r)&&r!==n&&b(e,r,{get:()=>t[r],enumerable:!(o=N(t,r))||o.enumerable});return e},i=(e,t,n)=>(f(e,t,"default"),n&&f(n,t,"default")),F=(e,t,n)=>(n=e!=null?C(h(e)):{},f(t||!e||!e.__esModule?b(n,"default",{value:e,enumerable:!0}):n,e)),P=e=>f(b({},"__esModule",{value:!0}),e);var l={};_(l,{Bundle:()=>W,Component:()=>R,NextComponent:()=>E,RegularComponent:()=>v,enableNextClientsideComponents:()=>J});module.exports=P(l);var c=require("@sitecore/byoc"),a=F(require("react"),1);i(l,require("@sitecore/byoc"),module.exports);var S=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n},y=null,d=null;function E(e){var t;let{componentName:n,clientFallback:o}=e,r=S(e,["componentName","clientFallback"]),s=(t=(0,c.getComponent)(n))===null||t===void 0?void 0:t.component,m=a.default.useMemo(()=>a.default.createElement(v,Object.assign({},r,{componentName:n})),[]),j=a.default.useMemo(()=>d(()=>Promise.resolve(y),{ssr:!1,loading:()=>m}),[]);var u=typeof window=="undefined"?JSON.parse(JSON.stringify(r)):r;return a.default.createElement(j,Object.assign({},u,{componentName:n,fallbackWrapper:!s,fallback:s?m:o?a.default.createElement(d(()=>Promise.resolve(()=>o),{ssr:!1})):e.fallback}))}function J(e,t){return d=e,y=t,t}function R(e){return Object.keys(e).length==0?a.default.createElement(a.default.Fragment,null):d&&!e._dynamic?E(Object.assign({_dynamic:!0},e)):v(e)}function W(){return a.default.createElement(a.default.Fragment,null,a.default.createElement("byoc-registration",{components:JSON.stringify(Object.values(c.registered)),datasources:JSON.stringify(Object.values(c.registeredDatasources)),suppressHydrationWarning:!0}),a.default.createElement(y,null))}function v(e){let{componentName:t,fallback:n,fallbackWrapper:o}=e,r=(0,c.getComponent)(t),s=r==null?void 0:r.component,{attributes:m,properties:j,merged:u}=(0,c.getMergedComponentProperties)(e);if(!s&&n||!t)return o===!1?a.default.createElement(a.default.Fragment,null,n):a.default.createElement("feaas-external",Object.assign({},m,{hydrate:"false"}),n);if(r&&s&&(0,c.isWebComponent)(s)){let x="byoc-"+(0,c.toKebabCase)(r.id);return a.default.createElement(x,Object.assign(Object.assign({},m),{ref:p=>{var g;p&&typeof window!="undefined"&&((g=window.customElements)===null||g===void 0||g.whenDefined(x).then(()=>{var O;(O=p.sitecoreContextCallback)===null||O===void 0||O.call(p,Object.assign({},u))}))}}))}return a.default.createElement(a.default.Fragment,null,a.default.createElement("feaas-external",Object.assign({},m,{hydrate:"false"}),s==null?null:a.default.createElement(s,Object.assign({},u))))}
//# sourceMappingURL=react.cjs.map
