{
  "version": 3,
  "sources": ["../../../ms/index.js", "../../../debug/src/common.js", "../../../debug/src/browser.js", "../../../cross-fetch/dist/browser-ponyfill.js", "../../../graphql/jsutils/isObjectLike.mjs", "../../../graphql/jsutils/invariant.mjs", "../../../graphql/language/location.mjs", "../../../graphql/language/printLocation.mjs", "../../../graphql/error/GraphQLError.mjs", "../../../graphql/error/syntaxError.mjs", "../../../graphql/language/ast.mjs", "../../../graphql/language/directiveLocation.mjs", "../../../graphql/language/kinds.mjs", "../../../graphql/language/characterClasses.mjs", "../../../graphql/language/blockString.mjs", "../../../graphql/language/tokenKind.mjs", "../../../graphql/language/lexer.mjs", "../../../graphql/jsutils/devAssert.mjs", "../../../graphql/jsutils/inspect.mjs", "../../../graphql/jsutils/instanceOf.mjs", "../../../graphql/language/source.mjs", "../../../graphql/language/parser.mjs", "../../../graphql/language/printString.mjs", "../../../graphql/language/visitor.mjs", "../../../graphql/language/printer.mjs", "../../../extract-files/public/ReactNativeFile.js", "../../../extract-files/public/isExtractableFile.js", "../../../extract-files/public/extractFiles.js", "../../../extract-files/public/index.js", "../../../graphql-request/node_modules/form-data/lib/browser.js", "../../../graphql-request/src/defaultJsonSerializer.ts", "../../../graphql-request/src/createRequestBody.ts", "../../../graphql-request/src/parseArgs.ts", "../../../graphql-request/src/types.ts", "../../../graphql-request/src/graphql-ws.ts", "../../../graphql-request/src/index.ts", "../../../requires-port/index.js", "../../../querystringify/index.js", "../../../url-parse/index.js", "../../../axios/lib/helpers/bind.js", "../../../axios/lib/utils.js", "../../../axios/lib/helpers/buildURL.js", "../../../axios/lib/core/InterceptorManager.js", "../../../axios/lib/helpers/normalizeHeaderName.js", "../../../axios/lib/core/enhanceError.js", "../../../axios/lib/core/createError.js", "../../../axios/lib/core/settle.js", "../../../axios/lib/helpers/cookies.js", "../../../axios/lib/helpers/isAbsoluteURL.js", "../../../axios/lib/helpers/combineURLs.js", "../../../axios/lib/core/buildFullPath.js", "../../../axios/lib/helpers/parseHeaders.js", "../../../axios/lib/helpers/isURLSameOrigin.js", "../../../axios/lib/adapters/xhr.js", "../../../axios/lib/defaults.js", "../../../axios/lib/core/transformData.js", "../../../axios/lib/cancel/isCancel.js", "../../../axios/lib/core/dispatchRequest.js", "../../../axios/lib/core/mergeConfig.js", "../../../axios/package.json", "../../../axios/lib/helpers/validator.js", "../../../axios/lib/core/Axios.js", "../../../axios/lib/cancel/Cancel.js", "../../../axios/lib/cancel/CancelToken.js", "../../../axios/lib/helpers/spread.js", "../../../axios/lib/helpers/isAxiosError.js", "../../../axios/lib/axios.js", "../../../axios/index.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/is-server.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/utils.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/env.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/editing.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/edit-frame.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/index.js", "../../../@sitecore-jss/sitecore-jss/utils.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/models.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/utils.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/constants.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/content-styles.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/layout-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/debug.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/axios-fetcher.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/data-fetcher.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/rest-layout-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/utils/timeout-promise.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/graphql-request-client.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/graphql-layout-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/themes.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/layout/index.js", "../../../@sitecore-jss/sitecore-jss/layout.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/tracking/trackingApi.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/tracking/index.js", "../../../@sitecore-jss/sitecore-jss/tracking.js", "../../../memory-cache/index.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/cache-client.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/i18n/dictionary-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/graphql/app-root-query.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/graphql/search-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/graphql/graphql-edge-proxy.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/graphql/index.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/i18n/graphql-dictionary-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/i18n/rest-dictionary-service.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/i18n/index.js", "../../../@sitecore-jss/sitecore-jss/i18n.js", "../../../@sitecore-jss/sitecore-jss/graphql.js", "../../../lodash.unescape/index.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/media/media-api.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/media/index.js", "../../../@sitecore-jss/sitecore-jss/media.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/feaas/themes.js", "../../../@sitecore-jss/sitecore-jss/dist/cjs/feaas/index.js", "../../../@sitecore-jss/sitecore-jss/feaas.js", "../../../style-attr/lib/index.js", "../../../fast-deep-equal/es6/react.js", "../../../@sitecore-jss/sitecore-jss/dist/esm/constants.js", "../../../@sitecore-jss/sitecore-jss/dist/esm/debug.js", "../../../@sitecore-jss/sitecore-jss/dist/esm/utils/is-server.js", "../../../@sitecore-jss/sitecore-jss/dist/esm/graphql-request-client.js", "../../../@sitecore-jss/sitecore-jss/dist/esm/axios-fetcher.js", "../../../@sitecore-jss/sitecore-jss/dist/esm/index.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/index.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/Placeholder.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/PlaceholderCommon.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/MissingComponent.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/utils.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/HiddenRendering.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/FEaaSComponent.js", "../../../@sitecore/byoc/src/utils.ts", "../../../@sitecore/byoc/src/datatypes.ts", "../../../@sitecore/byoc/src/schema.tsx", "../../../@sitecore/byoc/src/datasources.ts", "../../../@sitecore/byoc/src/components.ts", "../../../@sitecore/byoc/src/react.tsx", "../../../@sitecore-feaas/clientside/src/ui/react.tsx", "../../../@sitecore-feaas/clientside/src/dom/rendering.ts", "../../../@sitecore-feaas/clientside/src/utils/data.ts", "../../../@sitecore-feaas/clientside/node_modules/jsonpath-plus/dist/index-browser-esm.js", "../../../@sitecore-feaas/clientside/src/dom/scripts.ts", "../../../@sitecore-feaas/clientside/src/utils/datapath.ts", "../../../@sitecore-feaas/clientside/src/utils/date.ts", "../../../@sitecore-feaas/clientside/src/dom/html.ts", "../../../@sitecore-feaas/clientside/src/utils/settings.ts", "../../../@sitecore-feaas/clientside/src/ui/FEAAS.tsx", "../../../@sitecore-feaas/clientside/src/utils/promise.ts", "../../../@sitecore-feaas/clientside/src/components/FEAASElement.tsx", "../../../@sitecore-feaas/clientside/src/components/FEAASReactElement.tsx", "../../../@sitecore-feaas/clientside/src/fetch.ts", "../../../@sitecore-feaas/clientside/src/cdn.ts", "../../../@sitecore-feaas/clientside/src/dom/stylesheet.ts", "../../../@sitecore-feaas/clientside/src/dom/component.ts", "../../../@sitecore-feaas/clientside/src/components/FEAASComponent.tsx", "../../../@sitecore-feaas/clientside/src/components/FEAASLoader.tsx", "../../../@sitecore-feaas/clientside/src/components/FEAASStylesheet.tsx", "../../../@sitecore-feaas/clientside/src/dom/thumbnail.ts", "../../../@sitecore-feaas/clientside/src/headless.ts", "../../../@sitecore-feaas/clientside/src/ui/FEAASEditor.tsx", "../../../@sitecore-feaas/clientside/src/ui/FEAASPicker.tsx", "../../../@sitecore-feaas/clientside/src/ui/FEAASContext.tsx", "../../../@sitecore-feaas/clientside/src/ui/index.ts", "../../../@sitecore-feaas/clientside/src/ui/FEAASExternal.tsx", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/FEaaSWrapper.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/BYOCComponent.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/BYOCWrapper.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/enhancers/withComponentFactory.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/SitecoreContext.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/Image.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/RichText.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/Text.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/Date.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/Link.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/File.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/enhancers/withSitecoreContext.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/VisitorIdentification.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/enhancers/withEditorChromes.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/enhancers/withPlaceholder.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/enhancers/withDatasourceCheck.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/components/EditFrame.js", "../../../@sitecore-jss/sitecore-jss-react/dist/esm/ComponentBuilder.js"],
  "sourcesContent": ["/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(/\\s+/g, ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG') ;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "// Save global object in a variable\nvar __global__ =\n(typeof globalThis !== 'undefined' && globalThis) ||\n(typeof self !== 'undefined' && self) ||\n(typeof global !== 'undefined' && global);\n// Create an object that extends from __global__ without the fetch function\nvar __globalThis__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = __global__.DOMException\n}\nF.prototype = __global__; // Needed for feature detection on whatwg-fetch's code\nreturn new F();\n})();\n// Wraps whatwg-fetch with a function scope to hijack the global object\n// \"globalThis\" that's going to be patched\n(function(globalThis) {\n\nvar irrelevant = (function (exports) {\n\n  /* eslint-disable no-prototype-builtins */\n  var g =\n    (typeof globalThis !== 'undefined' && globalThis) ||\n    (typeof self !== 'undefined' && self) ||\n    // eslint-disable-next-line no-undef\n    (typeof global !== 'undefined' && global) ||\n    {};\n\n  var support = {\n    searchParams: 'URLSearchParams' in g,\n    iterable: 'Symbol' in g && 'iterator' in Symbol,\n    blob:\n      'FileReader' in g &&\n      'Blob' in g &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in g,\n    arrayBuffer: 'ArrayBuffer' in g\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n      throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        if (header.length != 2) {\n          throw new TypeError('Headers constructor: expected name/value pair to be length 2, found' + header.length)\n        }\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body._noBody) return\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type);\n    var encoding = match ? match[1] : 'utf-8';\n    reader.readAsText(blob, encoding);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      /*\n        fetch-mock wraps the Response object in an ES6 Proxy to\n        provide useful test harness features such as flush. However, on\n        ES5 browsers without fetch or Proxy support pollyfills must be used;\n        the proxy-pollyfill is unable to proxy an attribute unless it exists\n        on the object before the Proxy is created. This change ensures\n        Response.bodyUsed exists on the instance, while maintaining the\n        semantic of setting Request.bodyUsed in the constructor before\n        _initBody is called.\n      */\n      // eslint-disable-next-line no-self-assign\n      this.bodyUsed = this.bodyUsed;\n      this._bodyInit = body;\n      if (!body) {\n        this._noBody = true;\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this);\n        if (isConsumed) {\n          return isConsumed\n        } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else if (support.blob) {\n        return this.blob().then(readBlobAsArrayBuffer)\n      } else {\n        throw new Error('could not read as ArrayBuffer')\n      }\n    };\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'PATCH', 'POST', 'PUT', 'TRACE'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    if (!(this instanceof Request)) {\n      throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n    }\n\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal || (function () {\n      if ('AbortController' in g) {\n        var ctrl = new AbortController();\n        return ctrl.signal;\n      }\n    }());\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n\n    if (this.method === 'GET' || this.method === 'HEAD') {\n      if (options.cache === 'no-store' || options.cache === 'no-cache') {\n        // Search for a '_' parameter in the query string\n        var reParamSearch = /([?&])_=[^&]*/;\n        if (reParamSearch.test(this.url)) {\n          // If it already exists then set the value with the current time\n          this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime());\n        } else {\n          // Otherwise add a new '_' parameter to the end with the current time\n          var reQueryString = /\\?/;\n          this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime();\n        }\n      }\n    }\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n    // https://github.com/github/fetch/issues/748\n    // https://github.com/zloirock/core-js/issues/751\n    preProcessedHeaders\n      .split('\\r')\n      .map(function(header) {\n        return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n      })\n      .forEach(function(line) {\n        var parts = line.split(':');\n        var key = parts.shift().trim();\n        if (key) {\n          var value = parts.join(':').trim();\n          try {\n            headers.append(key, value);\n          } catch (error) {\n            console.warn('Response ' + error.message);\n          }\n        }\n      });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!(this instanceof Response)) {\n      throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n    }\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    if (this.status < 200 || this.status > 599) {\n      throw new RangeError(\"Failed to construct 'Response': The status provided (0) is outside the range [200, 599].\")\n    }\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = options.statusText === undefined ? '' : '' + options.statusText;\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 200, statusText: ''});\n    response.ok = false;\n    response.status = 0;\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = g.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        // This check if specifically for when a user fetches a file locally from the file system\n        // Only if the status is out of a normal range\n        if (request.url.indexOf('file://') === 0 && (xhr.status < 200 || xhr.status > 599)) {\n          options.status = 200;\n        } else {\n          options.status = xhr.status;\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        setTimeout(function() {\n          resolve(new Response(body, options));\n        }, 0);\n      };\n\n      xhr.onerror = function() {\n        setTimeout(function() {\n          reject(new TypeError('Network request failed'));\n        }, 0);\n      };\n\n      xhr.ontimeout = function() {\n        setTimeout(function() {\n          reject(new TypeError('Network request timed out'));\n        }, 0);\n      };\n\n      xhr.onabort = function() {\n        setTimeout(function() {\n          reject(new exports.DOMException('Aborted', 'AbortError'));\n        }, 0);\n      };\n\n      function fixUrl(url) {\n        try {\n          return url === '' && g.location.href ? g.location.href : url\n        } catch (e) {\n          return url\n        }\n      }\n\n      xhr.open(request.method, fixUrl(request.url), true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr) {\n        if (support.blob) {\n          xhr.responseType = 'blob';\n        } else if (\n          support.arrayBuffer\n        ) {\n          xhr.responseType = 'arraybuffer';\n        }\n      }\n\n      if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers || (g.Headers && init.headers instanceof g.Headers))) {\n        var names = [];\n        Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n          names.push(normalizeName(name));\n          xhr.setRequestHeader(name, normalizeValue(init.headers[name]));\n        });\n        request.headers.forEach(function(value, name) {\n          if (names.indexOf(name) === -1) {\n            xhr.setRequestHeader(name, value);\n          }\n        });\n      } else {\n        request.headers.forEach(function(value, name) {\n          xhr.setRequestHeader(name, value);\n        });\n      }\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!g.fetch) {\n    g.fetch = fetch;\n    g.Headers = Headers;\n    g.Request = Request;\n    g.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__globalThis__);\n// This is a ponyfill, so...\n__globalThis__.fetch.ponyfill = true;\ndelete __globalThis__.fetch.polyfill;\n// Choose between native implementation (__global__) or custom implementation (__globalThis__)\nvar ctx = __global__.fetch ? __global__ : __globalThis__;\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n", "/**\n * Return true if `value` is object-like. A value is object-like if it's not\n * `null` and has a `typeof` result of \"object\".\n */\nexport function isObjectLike(value) {\n  return typeof value == 'object' && value !== null;\n}\n", "export function invariant(condition, message) {\n  const booleanCondition = Boolean(condition);\n\n  if (!booleanCondition) {\n    throw new Error(\n      message != null ? message : 'Unexpected invariant triggered.',\n    );\n  }\n}\n", "import { invariant } from '../jsutils/invariant.mjs';\nconst LineRegExp = /\\r\\n|[\\n\\r]/g;\n/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  let lastLineStart = 0;\n  let line = 1;\n\n  for (const match of source.body.matchAll(LineRegExp)) {\n    typeof match.index === 'number' || invariant(false);\n\n    if (match.index >= position) {\n      break;\n    }\n\n    lastLineStart = match.index + match[0].length;\n    line += 1;\n  }\n\n  return {\n    line,\n    column: position + 1 - lastLineStart,\n  };\n}\n", "import { getLocation } from './location.mjs';\n\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\nexport function printLocation(location) {\n  return printSourceLocation(\n    location.source,\n    getLocation(location.source, location.start),\n  );\n}\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\nexport function printSourceLocation(source, sourceLocation) {\n  const firstLineColumnOffset = source.locationOffset.column - 1;\n  const body = ''.padStart(firstLineColumnOffset) + source.body;\n  const lineIndex = sourceLocation.line - 1;\n  const lineOffset = source.locationOffset.line - 1;\n  const lineNum = sourceLocation.line + lineOffset;\n  const columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;\n  const columnNum = sourceLocation.column + columnOffset;\n  const locationStr = `${source.name}:${lineNum}:${columnNum}\\n`;\n  const lines = body.split(/\\r\\n|[\\n\\r]/g);\n  const locationLine = lines[lineIndex]; // Special case for minified documents\n\n  if (locationLine.length > 120) {\n    const subLineIndex = Math.floor(columnNum / 80);\n    const subLineColumnNum = columnNum % 80;\n    const subLines = [];\n\n    for (let i = 0; i < locationLine.length; i += 80) {\n      subLines.push(locationLine.slice(i, i + 80));\n    }\n\n    return (\n      locationStr +\n      printPrefixedLines([\n        [`${lineNum} |`, subLines[0]],\n        ...subLines.slice(1, subLineIndex + 1).map((subLine) => ['|', subLine]),\n        ['|', '^'.padStart(subLineColumnNum)],\n        ['|', subLines[subLineIndex + 1]],\n      ])\n    );\n  }\n\n  return (\n    locationStr +\n    printPrefixedLines([\n      // Lines specified like this: [\"prefix\", \"string\"],\n      [`${lineNum - 1} |`, lines[lineIndex - 1]],\n      [`${lineNum} |`, locationLine],\n      ['|', '^'.padStart(columnNum)],\n      [`${lineNum + 1} |`, lines[lineIndex + 1]],\n    ])\n  );\n}\n\nfunction printPrefixedLines(lines) {\n  const existingLines = lines.filter(([_, line]) => line !== undefined);\n  const padLen = Math.max(...existingLines.map(([prefix]) => prefix.length));\n  return existingLines\n    .map(([prefix, line]) => prefix.padStart(padLen) + (line ? ' ' + line : ''))\n    .join('\\n');\n}\n", "import { isObjectLike } from '../jsutils/isObjectLike.mjs';\nimport { getLocation } from '../language/location.mjs';\nimport {\n  printLocation,\n  printSourceLocation,\n} from '../language/printLocation.mjs';\n\nfunction toNormalizedOptions(args) {\n  const firstArg = args[0];\n\n  if (firstArg == null || 'kind' in firstArg || 'length' in firstArg) {\n    return {\n      nodes: firstArg,\n      source: args[1],\n      positions: args[2],\n      path: args[3],\n      originalError: args[4],\n      extensions: args[5],\n    };\n  }\n\n  return firstArg;\n}\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\n\nexport class GraphQLError extends Error {\n  /**\n   * An array of `{ line, column }` locations within the source GraphQL document\n   * which correspond to this error.\n   *\n   * Errors during validation often contain multiple locations, for example to\n   * point out two things with the same name. Errors during execution include a\n   * single location, the field which produced the error.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array describing the JSON-path into the execution response which\n   * corresponds to this error. Only included for errors during execution.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array of GraphQL AST Nodes corresponding to this error.\n   */\n\n  /**\n   * The source GraphQL document for the first location of this error.\n   *\n   * Note that if this Error represents more than one node, the source may not\n   * represent nodes after the first node.\n   */\n\n  /**\n   * An array of character offsets within the source GraphQL document\n   * which correspond to this error.\n   */\n\n  /**\n   * The original error thrown from a field resolver during execution.\n   */\n\n  /**\n   * Extension fields to add to the formatted error.\n   */\n\n  /**\n   * @deprecated Please use the `GraphQLErrorOptions` constructor overload instead.\n   */\n  constructor(message, ...rawArgs) {\n    var _this$nodes, _nodeLocations$, _ref;\n\n    const { nodes, source, positions, path, originalError, extensions } =\n      toNormalizedOptions(rawArgs);\n    super(message);\n    this.name = 'GraphQLError';\n    this.path = path !== null && path !== void 0 ? path : undefined;\n    this.originalError =\n      originalError !== null && originalError !== void 0\n        ? originalError\n        : undefined; // Compute list of blame nodes.\n\n    this.nodes = undefinedIfEmpty(\n      Array.isArray(nodes) ? nodes : nodes ? [nodes] : undefined,\n    );\n    const nodeLocations = undefinedIfEmpty(\n      (_this$nodes = this.nodes) === null || _this$nodes === void 0\n        ? void 0\n        : _this$nodes.map((node) => node.loc).filter((loc) => loc != null),\n    ); // Compute locations in the source for the given nodes/positions.\n\n    this.source =\n      source !== null && source !== void 0\n        ? source\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : (_nodeLocations$ = nodeLocations[0]) === null ||\n          _nodeLocations$ === void 0\n        ? void 0\n        : _nodeLocations$.source;\n    this.positions =\n      positions !== null && positions !== void 0\n        ? positions\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : nodeLocations.map((loc) => loc.start);\n    this.locations =\n      positions && source\n        ? positions.map((pos) => getLocation(source, pos))\n        : nodeLocations === null || nodeLocations === void 0\n        ? void 0\n        : nodeLocations.map((loc) => getLocation(loc.source, loc.start));\n    const originalExtensions = isObjectLike(\n      originalError === null || originalError === void 0\n        ? void 0\n        : originalError.extensions,\n    )\n      ? originalError === null || originalError === void 0\n        ? void 0\n        : originalError.extensions\n      : undefined;\n    this.extensions =\n      (_ref =\n        extensions !== null && extensions !== void 0\n          ? extensions\n          : originalExtensions) !== null && _ref !== void 0\n        ? _ref\n        : Object.create(null); // Only properties prescribed by the spec should be enumerable.\n    // Keep the rest as non-enumerable.\n\n    Object.defineProperties(this, {\n      message: {\n        writable: true,\n        enumerable: true,\n      },\n      name: {\n        enumerable: false,\n      },\n      nodes: {\n        enumerable: false,\n      },\n      source: {\n        enumerable: false,\n      },\n      positions: {\n        enumerable: false,\n      },\n      originalError: {\n        enumerable: false,\n      },\n    }); // Include (non-enumerable) stack trace.\n\n    /* c8 ignore start */\n    // FIXME: https://github.com/graphql/graphql-js/issues/2317\n\n    if (\n      originalError !== null &&\n      originalError !== void 0 &&\n      originalError.stack\n    ) {\n      Object.defineProperty(this, 'stack', {\n        value: originalError.stack,\n        writable: true,\n        configurable: true,\n      });\n    } else if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, GraphQLError);\n    } else {\n      Object.defineProperty(this, 'stack', {\n        value: Error().stack,\n        writable: true,\n        configurable: true,\n      });\n    }\n    /* c8 ignore stop */\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'GraphQLError';\n  }\n\n  toString() {\n    let output = this.message;\n\n    if (this.nodes) {\n      for (const node of this.nodes) {\n        if (node.loc) {\n          output += '\\n\\n' + printLocation(node.loc);\n        }\n      }\n    } else if (this.source && this.locations) {\n      for (const location of this.locations) {\n        output += '\\n\\n' + printSourceLocation(this.source, location);\n      }\n    }\n\n    return output;\n  }\n\n  toJSON() {\n    const formattedError = {\n      message: this.message,\n    };\n\n    if (this.locations != null) {\n      formattedError.locations = this.locations;\n    }\n\n    if (this.path != null) {\n      formattedError.path = this.path;\n    }\n\n    if (this.extensions != null && Object.keys(this.extensions).length > 0) {\n      formattedError.extensions = this.extensions;\n    }\n\n    return formattedError;\n  }\n}\n\nfunction undefinedIfEmpty(array) {\n  return array === undefined || array.length === 0 ? undefined : array;\n}\n/**\n * See: https://spec.graphql.org/draft/#sec-Errors\n */\n\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n *\n * @deprecated Please use `error.toString` instead. Will be removed in v17\n */\nexport function printError(error) {\n  return error.toString();\n}\n/**\n * Given a GraphQLError, format it according to the rules described by the\n * Response Format, Errors section of the GraphQL Specification.\n *\n * @deprecated Please use `error.toJSON` instead. Will be removed in v17\n */\n\nexport function formatError(error) {\n  return error.toJSON();\n}\n", "import { GraphQLError } from './GraphQLError.mjs';\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError(`Syntax Error: ${description}`, {\n    source,\n    positions: [position],\n  });\n}\n", "/**\n * Contains a range of UTF-8 character offsets and token references that\n * identify the region of the source from which the AST derived.\n */\nexport class Location {\n  /**\n   * The character offset at which this Node begins.\n   */\n\n  /**\n   * The character offset at which this Node ends.\n   */\n\n  /**\n   * The Token at which this Node begins.\n   */\n\n  /**\n   * The Token at which this Node ends.\n   */\n\n  /**\n   * The Source document the AST represents.\n   */\n  constructor(startToken, endToken, source) {\n    this.start = startToken.start;\n    this.end = endToken.end;\n    this.startToken = startToken;\n    this.endToken = endToken;\n    this.source = source;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Location';\n  }\n\n  toJSON() {\n    return {\n      start: this.start,\n      end: this.end,\n    };\n  }\n}\n/**\n * Represents a range of characters represented by a lexical token\n * within a Source.\n */\n\nexport class Token {\n  /**\n   * The kind of Token.\n   */\n\n  /**\n   * The character offset at which this Node begins.\n   */\n\n  /**\n   * The character offset at which this Node ends.\n   */\n\n  /**\n   * The 1-indexed line number on which this Token appears.\n   */\n\n  /**\n   * The 1-indexed column number at which this Token begins.\n   */\n\n  /**\n   * For non-punctuation tokens, represents the interpreted value of the token.\n   *\n   * Note: is undefined for punctuation tokens, but typed as string for\n   * convenience in the parser.\n   */\n\n  /**\n   * Tokens exist as nodes in a double-linked-list amongst all tokens\n   * including ignored tokens. <SOF> is always the first node and <EOF>\n   * the last.\n   */\n  constructor(kind, start, end, line, column, value) {\n    this.kind = kind;\n    this.start = start;\n    this.end = end;\n    this.line = line;\n    this.column = column; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    this.value = value;\n    this.prev = null;\n    this.next = null;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Token';\n  }\n\n  toJSON() {\n    return {\n      kind: this.kind,\n      value: this.value,\n      line: this.line,\n      column: this.column,\n    };\n  }\n}\n/**\n * The list of all possible AST node types.\n */\n\n/**\n * @internal\n */\nexport const QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: [\n    'name',\n    'variableDefinitions',\n    'directives',\n    'selectionSet',\n  ],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: [\n    'name', // Note: fragment variable definitions are deprecated and will removed in v17.0.0\n    'variableDefinitions',\n    'typeCondition',\n    'directives',\n    'selectionSet',\n  ],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['description', 'directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: [\n    'description',\n    'name',\n    'interfaces',\n    'directives',\n    'fields',\n  ],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: [\n    'description',\n    'name',\n    'type',\n    'defaultValue',\n    'directives',\n  ],\n  InterfaceTypeDefinition: [\n    'description',\n    'name',\n    'interfaces',\n    'directives',\n    'fields',\n  ],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields'],\n};\nconst kindValues = new Set(Object.keys(QueryDocumentKeys));\n/**\n * @internal\n */\n\nexport function isNode(maybeNode) {\n  const maybeKind =\n    maybeNode === null || maybeNode === void 0 ? void 0 : maybeNode.kind;\n  return typeof maybeKind === 'string' && kindValues.has(maybeKind);\n}\n/** Name */\n\nvar OperationTypeNode;\n\n(function (OperationTypeNode) {\n  OperationTypeNode['QUERY'] = 'query';\n  OperationTypeNode['MUTATION'] = 'mutation';\n  OperationTypeNode['SUBSCRIPTION'] = 'subscription';\n})(OperationTypeNode || (OperationTypeNode = {}));\n\nexport { OperationTypeNode };\n", "/**\n * The set of allowed directive location values.\n */\nvar DirectiveLocation;\n\n(function (DirectiveLocation) {\n  DirectiveLocation['QUERY'] = 'QUERY';\n  DirectiveLocation['MUTATION'] = 'MUTATION';\n  DirectiveLocation['SUBSCRIPTION'] = 'SUBSCRIPTION';\n  DirectiveLocation['FIELD'] = 'FIELD';\n  DirectiveLocation['FRAGMENT_DEFINITION'] = 'FRAGMENT_DEFINITION';\n  DirectiveLocation['FRAGMENT_SPREAD'] = 'FRAGMENT_SPREAD';\n  DirectiveLocation['INLINE_FRAGMENT'] = 'INLINE_FRAGMENT';\n  DirectiveLocation['VARIABLE_DEFINITION'] = 'VARIABLE_DEFINITION';\n  DirectiveLocation['SCHEMA'] = 'SCHEMA';\n  DirectiveLocation['SCALAR'] = 'SCALAR';\n  DirectiveLocation['OBJECT'] = 'OBJECT';\n  DirectiveLocation['FIELD_DEFINITION'] = 'FIELD_DEFINITION';\n  DirectiveLocation['ARGUMENT_DEFINITION'] = 'ARGUMENT_DEFINITION';\n  DirectiveLocation['INTERFACE'] = 'INTERFACE';\n  DirectiveLocation['UNION'] = 'UNION';\n  DirectiveLocation['ENUM'] = 'ENUM';\n  DirectiveLocation['ENUM_VALUE'] = 'ENUM_VALUE';\n  DirectiveLocation['INPUT_OBJECT'] = 'INPUT_OBJECT';\n  DirectiveLocation['INPUT_FIELD_DEFINITION'] = 'INPUT_FIELD_DEFINITION';\n})(DirectiveLocation || (DirectiveLocation = {}));\n\nexport { DirectiveLocation };\n/**\n * The enum type representing the directive location values.\n *\n * @deprecated Please use `DirectiveLocation`. Will be remove in v17.\n */\n", "/**\n * The set of allowed kind values for AST nodes.\n */\nvar Kind;\n\n(function (Kind) {\n  Kind['NAME'] = 'Name';\n  Kind['DOCUMENT'] = 'Document';\n  Kind['OPERATION_DEFINITION'] = 'OperationDefinition';\n  Kind['VARIABLE_DEFINITION'] = 'VariableDefinition';\n  Kind['SELECTION_SET'] = 'SelectionSet';\n  Kind['FIELD'] = 'Field';\n  Kind['ARGUMENT'] = 'Argument';\n  Kind['FRAGMENT_SPREAD'] = 'FragmentSpread';\n  Kind['INLINE_FRAGMENT'] = 'InlineFragment';\n  Kind['FRAGMENT_DEFINITION'] = 'FragmentDefinition';\n  Kind['VARIABLE'] = 'Variable';\n  Kind['INT'] = 'IntValue';\n  Kind['FLOAT'] = 'FloatValue';\n  Kind['STRING'] = 'StringValue';\n  Kind['BOOLEAN'] = 'BooleanValue';\n  Kind['NULL'] = 'NullValue';\n  Kind['ENUM'] = 'EnumValue';\n  Kind['LIST'] = 'ListValue';\n  Kind['OBJECT'] = 'ObjectValue';\n  Kind['OBJECT_FIELD'] = 'ObjectField';\n  Kind['DIRECTIVE'] = 'Directive';\n  Kind['NAMED_TYPE'] = 'NamedType';\n  Kind['LIST_TYPE'] = 'ListType';\n  Kind['NON_NULL_TYPE'] = 'NonNullType';\n  Kind['SCHEMA_DEFINITION'] = 'SchemaDefinition';\n  Kind['OPERATION_TYPE_DEFINITION'] = 'OperationTypeDefinition';\n  Kind['SCALAR_TYPE_DEFINITION'] = 'ScalarTypeDefinition';\n  Kind['OBJECT_TYPE_DEFINITION'] = 'ObjectTypeDefinition';\n  Kind['FIELD_DEFINITION'] = 'FieldDefinition';\n  Kind['INPUT_VALUE_DEFINITION'] = 'InputValueDefinition';\n  Kind['INTERFACE_TYPE_DEFINITION'] = 'InterfaceTypeDefinition';\n  Kind['UNION_TYPE_DEFINITION'] = 'UnionTypeDefinition';\n  Kind['ENUM_TYPE_DEFINITION'] = 'EnumTypeDefinition';\n  Kind['ENUM_VALUE_DEFINITION'] = 'EnumValueDefinition';\n  Kind['INPUT_OBJECT_TYPE_DEFINITION'] = 'InputObjectTypeDefinition';\n  Kind['DIRECTIVE_DEFINITION'] = 'DirectiveDefinition';\n  Kind['SCHEMA_EXTENSION'] = 'SchemaExtension';\n  Kind['SCALAR_TYPE_EXTENSION'] = 'ScalarTypeExtension';\n  Kind['OBJECT_TYPE_EXTENSION'] = 'ObjectTypeExtension';\n  Kind['INTERFACE_TYPE_EXTENSION'] = 'InterfaceTypeExtension';\n  Kind['UNION_TYPE_EXTENSION'] = 'UnionTypeExtension';\n  Kind['ENUM_TYPE_EXTENSION'] = 'EnumTypeExtension';\n  Kind['INPUT_OBJECT_TYPE_EXTENSION'] = 'InputObjectTypeExtension';\n})(Kind || (Kind = {}));\n\nexport { Kind };\n/**\n * The enum type representing the possible kind values of AST nodes.\n *\n * @deprecated Please use `Kind`. Will be remove in v17.\n */\n", "/**\n * ```\n * WhiteSpace ::\n *   - \"Horizontal Tab (U+0009)\"\n *   - \"Space (U+0020)\"\n * ```\n * @internal\n */\nexport function isWhiteSpace(code) {\n  return code === 0x0009 || code === 0x0020;\n}\n/**\n * ```\n * Digit :: one of\n *   - `0` `1` `2` `3` `4` `5` `6` `7` `8` `9`\n * ```\n * @internal\n */\n\nexport function isDigit(code) {\n  return code >= 0x0030 && code <= 0x0039;\n}\n/**\n * ```\n * Letter :: one of\n *   - `A` `B` `C` `D` `E` `F` `G` `H` `I` `J` `K` `L` `M`\n *   - `N` `O` `P` `Q` `R` `S` `T` `U` `V` `W` `X` `Y` `Z`\n *   - `a` `b` `c` `d` `e` `f` `g` `h` `i` `j` `k` `l` `m`\n *   - `n` `o` `p` `q` `r` `s` `t` `u` `v` `w` `x` `y` `z`\n * ```\n * @internal\n */\n\nexport function isLetter(code) {\n  return (\n    (code >= 0x0061 && code <= 0x007a) || // A-Z\n    (code >= 0x0041 && code <= 0x005a) // a-z\n  );\n}\n/**\n * ```\n * NameStart ::\n *   - Letter\n *   - `_`\n * ```\n * @internal\n */\n\nexport function isNameStart(code) {\n  return isLetter(code) || code === 0x005f;\n}\n/**\n * ```\n * NameContinue ::\n *   - Letter\n *   - Digit\n *   - `_`\n * ```\n * @internal\n */\n\nexport function isNameContinue(code) {\n  return isLetter(code) || isDigit(code) || code === 0x005f;\n}\n", "import { isWhiteSpace } from './characterClasses.mjs';\n/**\n * Produces the value of a block string from its parsed raw value, similar to\n * CoffeeScript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n *\n * @internal\n */\n\nexport function dedentBlockStringLines(lines) {\n  var _firstNonEmptyLine2;\n\n  let commonIndent = Number.MAX_SAFE_INTEGER;\n  let firstNonEmptyLine = null;\n  let lastNonEmptyLine = -1;\n\n  for (let i = 0; i < lines.length; ++i) {\n    var _firstNonEmptyLine;\n\n    const line = lines[i];\n    const indent = leadingWhitespace(line);\n\n    if (indent === line.length) {\n      continue; // skip empty lines\n    }\n\n    firstNonEmptyLine =\n      (_firstNonEmptyLine = firstNonEmptyLine) !== null &&\n      _firstNonEmptyLine !== void 0\n        ? _firstNonEmptyLine\n        : i;\n    lastNonEmptyLine = i;\n\n    if (i !== 0 && indent < commonIndent) {\n      commonIndent = indent;\n    }\n  }\n\n  return lines // Remove common indentation from all lines but first.\n    .map((line, i) => (i === 0 ? line : line.slice(commonIndent))) // Remove leading and trailing blank lines.\n    .slice(\n      (_firstNonEmptyLine2 = firstNonEmptyLine) !== null &&\n        _firstNonEmptyLine2 !== void 0\n        ? _firstNonEmptyLine2\n        : 0,\n      lastNonEmptyLine + 1,\n    );\n}\n\nfunction leadingWhitespace(str) {\n  let i = 0;\n\n  while (i < str.length && isWhiteSpace(str.charCodeAt(i))) {\n    ++i;\n  }\n\n  return i;\n}\n/**\n * @internal\n */\n\nexport function isPrintableAsBlockString(value) {\n  if (value === '') {\n    return true; // empty string is printable\n  }\n\n  let isEmptyLine = true;\n  let hasIndent = false;\n  let hasCommonIndent = true;\n  let seenNonEmptyLine = false;\n\n  for (let i = 0; i < value.length; ++i) {\n    switch (value.codePointAt(i)) {\n      case 0x0000:\n      case 0x0001:\n      case 0x0002:\n      case 0x0003:\n      case 0x0004:\n      case 0x0005:\n      case 0x0006:\n      case 0x0007:\n      case 0x0008:\n      case 0x000b:\n      case 0x000c:\n      case 0x000e:\n      case 0x000f:\n        return false;\n      // Has non-printable characters\n\n      case 0x000d:\n        //  \\r\n        return false;\n      // Has \\r or \\r\\n which will be replaced as \\n\n\n      case 10:\n        //  \\n\n        if (isEmptyLine && !seenNonEmptyLine) {\n          return false; // Has leading new line\n        }\n\n        seenNonEmptyLine = true;\n        isEmptyLine = true;\n        hasIndent = false;\n        break;\n\n      case 9: //   \\t\n\n      case 32:\n        //  <space>\n        hasIndent || (hasIndent = isEmptyLine);\n        break;\n\n      default:\n        hasCommonIndent && (hasCommonIndent = hasIndent);\n        isEmptyLine = false;\n    }\n  }\n\n  if (isEmptyLine) {\n    return false; // Has trailing empty lines\n  }\n\n  if (hasCommonIndent && seenNonEmptyLine) {\n    return false; // Has internal indent\n  }\n\n  return true;\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n *\n * @internal\n */\n\nexport function printBlockString(value, options) {\n  const escapedValue = value.replace(/\"\"\"/g, '\\\\\"\"\"'); // Expand a block string's raw value into independent lines.\n\n  const lines = escapedValue.split(/\\r\\n|[\\n\\r]/g);\n  const isSingleLine = lines.length === 1; // If common indentation is found we can fix some of those cases by adding leading new line\n\n  const forceLeadingNewLine =\n    lines.length > 1 &&\n    lines\n      .slice(1)\n      .every((line) => line.length === 0 || isWhiteSpace(line.charCodeAt(0))); // Trailing triple quotes just looks confusing but doesn't force trailing new line\n\n  const hasTrailingTripleQuotes = escapedValue.endsWith('\\\\\"\"\"'); // Trailing quote (single or double) or slash forces trailing new line\n\n  const hasTrailingQuote = value.endsWith('\"') && !hasTrailingTripleQuotes;\n  const hasTrailingSlash = value.endsWith('\\\\');\n  const forceTrailingNewline = hasTrailingQuote || hasTrailingSlash;\n  const printAsMultipleLines =\n    !(options !== null && options !== void 0 && options.minimize) && // add leading and trailing new lines only if it improves readability\n    (!isSingleLine ||\n      value.length > 70 ||\n      forceTrailingNewline ||\n      forceLeadingNewLine ||\n      hasTrailingTripleQuotes);\n  let result = ''; // Format a multi-line block quote to account for leading space.\n\n  const skipLeadingNewLine = isSingleLine && isWhiteSpace(value.charCodeAt(0));\n\n  if ((printAsMultipleLines && !skipLeadingNewLine) || forceLeadingNewLine) {\n    result += '\\n';\n  }\n\n  result += escapedValue;\n\n  if (printAsMultipleLines || forceTrailingNewline) {\n    result += '\\n';\n  }\n\n  return '\"\"\"' + result + '\"\"\"';\n}\n", "/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nvar TokenKind;\n\n(function (TokenKind) {\n  TokenKind['SOF'] = '<SOF>';\n  TokenKind['EOF'] = '<EOF>';\n  TokenKind['BANG'] = '!';\n  TokenKind['DOLLAR'] = '$';\n  TokenKind['AMP'] = '&';\n  TokenKind['PAREN_L'] = '(';\n  TokenKind['PAREN_R'] = ')';\n  TokenKind['SPREAD'] = '...';\n  TokenKind['COLON'] = ':';\n  TokenKind['EQUALS'] = '=';\n  TokenKind['AT'] = '@';\n  TokenKind['BRACKET_L'] = '[';\n  TokenKind['BRACKET_R'] = ']';\n  TokenKind['BRACE_L'] = '{';\n  TokenKind['PIPE'] = '|';\n  TokenKind['BRACE_R'] = '}';\n  TokenKind['NAME'] = 'Name';\n  TokenKind['INT'] = 'Int';\n  TokenKind['FLOAT'] = 'Float';\n  TokenKind['STRING'] = 'String';\n  TokenKind['BLOCK_STRING'] = 'BlockString';\n  TokenKind['COMMENT'] = 'Comment';\n})(TokenKind || (TokenKind = {}));\n\nexport { TokenKind };\n/**\n * The enum type representing the token kinds values.\n *\n * @deprecated Please use `TokenKind`. Will be remove in v17.\n */\n", "import { syntaxError } from '../error/syntaxError.mjs';\nimport { Token } from './ast.mjs';\nimport { dedentBlockStringLines } from './blockString.mjs';\nimport { isDigit, isNameContinue, isNameStart } from './characterClasses.mjs';\nimport { TokenKind } from './tokenKind.mjs';\n/**\n * Given a Source object, creates a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\n\nexport class Lexer {\n  /**\n   * The previously focused non-ignored token.\n   */\n\n  /**\n   * The currently focused non-ignored token.\n   */\n\n  /**\n   * The (1-indexed) line containing the current token.\n   */\n\n  /**\n   * The character offset at which the current line begins.\n   */\n  constructor(source) {\n    const startOfFileToken = new Token(TokenKind.SOF, 0, 0, 0, 0);\n    this.source = source;\n    this.lastToken = startOfFileToken;\n    this.token = startOfFileToken;\n    this.line = 1;\n    this.lineStart = 0;\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Lexer';\n  }\n  /**\n   * Advances the token stream to the next non-ignored token.\n   */\n\n  advance() {\n    this.lastToken = this.token;\n    const token = (this.token = this.lookahead());\n    return token;\n  }\n  /**\n   * Looks ahead and returns the next non-ignored token, but does not change\n   * the state of Lexer.\n   */\n\n  lookahead() {\n    let token = this.token;\n\n    if (token.kind !== TokenKind.EOF) {\n      do {\n        if (token.next) {\n          token = token.next;\n        } else {\n          // Read the next token and form a link in the token linked-list.\n          const nextToken = readNextToken(this, token.end); // @ts-expect-error next is only mutable during parsing.\n\n          token.next = nextToken; // @ts-expect-error prev is only mutable during parsing.\n\n          nextToken.prev = token;\n          token = nextToken;\n        }\n      } while (token.kind === TokenKind.COMMENT);\n    }\n\n    return token;\n  }\n}\n/**\n * @internal\n */\n\nexport function isPunctuatorTokenKind(kind) {\n  return (\n    kind === TokenKind.BANG ||\n    kind === TokenKind.DOLLAR ||\n    kind === TokenKind.AMP ||\n    kind === TokenKind.PAREN_L ||\n    kind === TokenKind.PAREN_R ||\n    kind === TokenKind.SPREAD ||\n    kind === TokenKind.COLON ||\n    kind === TokenKind.EQUALS ||\n    kind === TokenKind.AT ||\n    kind === TokenKind.BRACKET_L ||\n    kind === TokenKind.BRACKET_R ||\n    kind === TokenKind.BRACE_L ||\n    kind === TokenKind.PIPE ||\n    kind === TokenKind.BRACE_R\n  );\n}\n/**\n * A Unicode scalar value is any Unicode code point except surrogate code\n * points. In other words, the inclusive ranges of values 0x0000 to 0xD7FF and\n * 0xE000 to 0x10FFFF.\n *\n * SourceCharacter ::\n *   - \"Any Unicode scalar value\"\n */\n\nfunction isUnicodeScalarValue(code) {\n  return (\n    (code >= 0x0000 && code <= 0xd7ff) || (code >= 0xe000 && code <= 0x10ffff)\n  );\n}\n/**\n * The GraphQL specification defines source text as a sequence of unicode scalar\n * values (which Unicode defines to exclude surrogate code points). However\n * JavaScript defines strings as a sequence of UTF-16 code units which may\n * include surrogates. A surrogate pair is a valid source character as it\n * encodes a supplementary code point (above U+FFFF), but unpaired surrogate\n * code points are not valid source characters.\n */\n\nfunction isSupplementaryCodePoint(body, location) {\n  return (\n    isLeadingSurrogate(body.charCodeAt(location)) &&\n    isTrailingSurrogate(body.charCodeAt(location + 1))\n  );\n}\n\nfunction isLeadingSurrogate(code) {\n  return code >= 0xd800 && code <= 0xdbff;\n}\n\nfunction isTrailingSurrogate(code) {\n  return code >= 0xdc00 && code <= 0xdfff;\n}\n/**\n * Prints the code point (or end of file reference) at a given location in a\n * source for use in error messages.\n *\n * Printable ASCII is printed quoted, while other points are printed in Unicode\n * code point form (ie. U+1234).\n */\n\nfunction printCodePointAt(lexer, location) {\n  const code = lexer.source.body.codePointAt(location);\n\n  if (code === undefined) {\n    return TokenKind.EOF;\n  } else if (code >= 0x0020 && code <= 0x007e) {\n    // Printable ASCII\n    const char = String.fromCodePoint(code);\n    return char === '\"' ? \"'\\\"'\" : `\"${char}\"`;\n  } // Unicode code point\n\n  return 'U+' + code.toString(16).toUpperCase().padStart(4, '0');\n}\n/**\n * Create a token with line and column location information.\n */\n\nfunction createToken(lexer, kind, start, end, value) {\n  const line = lexer.line;\n  const col = 1 + start - lexer.lineStart;\n  return new Token(kind, start, end, line, col, value);\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace until it finds the next lexable token, then lexes\n * punctuators immediately or calls the appropriate helper function for more\n * complicated tokens.\n */\n\nfunction readNextToken(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start;\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // SourceCharacter\n\n    switch (code) {\n      // Ignored ::\n      //   - UnicodeBOM\n      //   - WhiteSpace\n      //   - LineTerminator\n      //   - Comment\n      //   - Comma\n      //\n      // UnicodeBOM :: \"Byte Order Mark (U+FEFF)\"\n      //\n      // WhiteSpace ::\n      //   - \"Horizontal Tab (U+0009)\"\n      //   - \"Space (U+0020)\"\n      //\n      // Comma :: ,\n      case 0xfeff: // <BOM>\n\n      case 0x0009: // \\t\n\n      case 0x0020: // <space>\n\n      case 0x002c:\n        // ,\n        ++position;\n        continue;\n      // LineTerminator ::\n      //   - \"New Line (U+000A)\"\n      //   - \"Carriage Return (U+000D)\" [lookahead != \"New Line (U+000A)\"]\n      //   - \"Carriage Return (U+000D)\" \"New Line (U+000A)\"\n\n      case 0x000a:\n        // \\n\n        ++position;\n        ++lexer.line;\n        lexer.lineStart = position;\n        continue;\n\n      case 0x000d:\n        // \\r\n        if (body.charCodeAt(position + 1) === 0x000a) {\n          position += 2;\n        } else {\n          ++position;\n        }\n\n        ++lexer.line;\n        lexer.lineStart = position;\n        continue;\n      // Comment\n\n      case 0x0023:\n        // #\n        return readComment(lexer, position);\n      // Token ::\n      //   - Punctuator\n      //   - Name\n      //   - IntValue\n      //   - FloatValue\n      //   - StringValue\n      //\n      // Punctuator :: one of ! $ & ( ) ... : = @ [ ] { | }\n\n      case 0x0021:\n        // !\n        return createToken(lexer, TokenKind.BANG, position, position + 1);\n\n      case 0x0024:\n        // $\n        return createToken(lexer, TokenKind.DOLLAR, position, position + 1);\n\n      case 0x0026:\n        // &\n        return createToken(lexer, TokenKind.AMP, position, position + 1);\n\n      case 0x0028:\n        // (\n        return createToken(lexer, TokenKind.PAREN_L, position, position + 1);\n\n      case 0x0029:\n        // )\n        return createToken(lexer, TokenKind.PAREN_R, position, position + 1);\n\n      case 0x002e:\n        // .\n        if (\n          body.charCodeAt(position + 1) === 0x002e &&\n          body.charCodeAt(position + 2) === 0x002e\n        ) {\n          return createToken(lexer, TokenKind.SPREAD, position, position + 3);\n        }\n\n        break;\n\n      case 0x003a:\n        // :\n        return createToken(lexer, TokenKind.COLON, position, position + 1);\n\n      case 0x003d:\n        // =\n        return createToken(lexer, TokenKind.EQUALS, position, position + 1);\n\n      case 0x0040:\n        // @\n        return createToken(lexer, TokenKind.AT, position, position + 1);\n\n      case 0x005b:\n        // [\n        return createToken(lexer, TokenKind.BRACKET_L, position, position + 1);\n\n      case 0x005d:\n        // ]\n        return createToken(lexer, TokenKind.BRACKET_R, position, position + 1);\n\n      case 0x007b:\n        // {\n        return createToken(lexer, TokenKind.BRACE_L, position, position + 1);\n\n      case 0x007c:\n        // |\n        return createToken(lexer, TokenKind.PIPE, position, position + 1);\n\n      case 0x007d:\n        // }\n        return createToken(lexer, TokenKind.BRACE_R, position, position + 1);\n      // StringValue\n\n      case 0x0022:\n        // \"\n        if (\n          body.charCodeAt(position + 1) === 0x0022 &&\n          body.charCodeAt(position + 2) === 0x0022\n        ) {\n          return readBlockString(lexer, position);\n        }\n\n        return readString(lexer, position);\n    } // IntValue | FloatValue (Digit | -)\n\n    if (isDigit(code) || code === 0x002d) {\n      return readNumber(lexer, position, code);\n    } // Name\n\n    if (isNameStart(code)) {\n      return readName(lexer, position);\n    }\n\n    throw syntaxError(\n      lexer.source,\n      position,\n      code === 0x0027\n        ? 'Unexpected single quote character (\\'), did you mean to use a double quote (\")?'\n        : isUnicodeScalarValue(code) || isSupplementaryCodePoint(body, position)\n        ? `Unexpected character: ${printCodePointAt(lexer, position)}.`\n        : `Invalid character: ${printCodePointAt(lexer, position)}.`,\n    );\n  }\n\n  return createToken(lexer, TokenKind.EOF, bodyLength, bodyLength);\n}\n/**\n * Reads a comment token from the source file.\n *\n * ```\n * Comment :: # CommentChar* [lookahead != CommentChar]\n *\n * CommentChar :: SourceCharacter but not LineTerminator\n * ```\n */\n\nfunction readComment(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start + 1;\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // LineTerminator (\\n | \\r)\n\n    if (code === 0x000a || code === 0x000d) {\n      break;\n    } // SourceCharacter\n\n    if (isUnicodeScalarValue(code)) {\n      ++position;\n    } else if (isSupplementaryCodePoint(body, position)) {\n      position += 2;\n    } else {\n      break;\n    }\n  }\n\n  return createToken(\n    lexer,\n    TokenKind.COMMENT,\n    start,\n    position,\n    body.slice(start + 1, position),\n  );\n}\n/**\n * Reads a number token from the source file, either a FloatValue or an IntValue\n * depending on whether a FractionalPart or ExponentPart is encountered.\n *\n * ```\n * IntValue :: IntegerPart [lookahead != {Digit, `.`, NameStart}]\n *\n * IntegerPart ::\n *   - NegativeSign? 0\n *   - NegativeSign? NonZeroDigit Digit*\n *\n * NegativeSign :: -\n *\n * NonZeroDigit :: Digit but not `0`\n *\n * FloatValue ::\n *   - IntegerPart FractionalPart ExponentPart [lookahead != {Digit, `.`, NameStart}]\n *   - IntegerPart FractionalPart [lookahead != {Digit, `.`, NameStart}]\n *   - IntegerPart ExponentPart [lookahead != {Digit, `.`, NameStart}]\n *\n * FractionalPart :: . Digit+\n *\n * ExponentPart :: ExponentIndicator Sign? Digit+\n *\n * ExponentIndicator :: one of `e` `E`\n *\n * Sign :: one of + -\n * ```\n */\n\nfunction readNumber(lexer, start, firstCode) {\n  const body = lexer.source.body;\n  let position = start;\n  let code = firstCode;\n  let isFloat = false; // NegativeSign (-)\n\n  if (code === 0x002d) {\n    code = body.charCodeAt(++position);\n  } // Zero (0)\n\n  if (code === 0x0030) {\n    code = body.charCodeAt(++position);\n\n    if (isDigit(code)) {\n      throw syntaxError(\n        lexer.source,\n        position,\n        `Invalid number, unexpected digit after 0: ${printCodePointAt(\n          lexer,\n          position,\n        )}.`,\n      );\n    }\n  } else {\n    position = readDigits(lexer, position, code);\n    code = body.charCodeAt(position);\n  } // Full stop (.)\n\n  if (code === 0x002e) {\n    isFloat = true;\n    code = body.charCodeAt(++position);\n    position = readDigits(lexer, position, code);\n    code = body.charCodeAt(position);\n  } // E e\n\n  if (code === 0x0045 || code === 0x0065) {\n    isFloat = true;\n    code = body.charCodeAt(++position); // + -\n\n    if (code === 0x002b || code === 0x002d) {\n      code = body.charCodeAt(++position);\n    }\n\n    position = readDigits(lexer, position, code);\n    code = body.charCodeAt(position);\n  } // Numbers cannot be followed by . or NameStart\n\n  if (code === 0x002e || isNameStart(code)) {\n    throw syntaxError(\n      lexer.source,\n      position,\n      `Invalid number, expected digit but got: ${printCodePointAt(\n        lexer,\n        position,\n      )}.`,\n    );\n  }\n\n  return createToken(\n    lexer,\n    isFloat ? TokenKind.FLOAT : TokenKind.INT,\n    start,\n    position,\n    body.slice(start, position),\n  );\n}\n/**\n * Returns the new position in the source after reading one or more digits.\n */\n\nfunction readDigits(lexer, start, firstCode) {\n  if (!isDigit(firstCode)) {\n    throw syntaxError(\n      lexer.source,\n      start,\n      `Invalid number, expected digit but got: ${printCodePointAt(\n        lexer,\n        start,\n      )}.`,\n    );\n  }\n\n  const body = lexer.source.body;\n  let position = start + 1; // +1 to skip first firstCode\n\n  while (isDigit(body.charCodeAt(position))) {\n    ++position;\n  }\n\n  return position;\n}\n/**\n * Reads a single-quote string token from the source file.\n *\n * ```\n * StringValue ::\n *   - `\"\"` [lookahead != `\"`]\n *   - `\"` StringCharacter+ `\"`\n *\n * StringCharacter ::\n *   - SourceCharacter but not `\"` or `\\` or LineTerminator\n *   - `\\u` EscapedUnicode\n *   - `\\` EscapedCharacter\n *\n * EscapedUnicode ::\n *   - `{` HexDigit+ `}`\n *   - HexDigit HexDigit HexDigit HexDigit\n *\n * EscapedCharacter :: one of `\"` `\\` `/` `b` `f` `n` `r` `t`\n * ```\n */\n\nfunction readString(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start + 1;\n  let chunkStart = position;\n  let value = '';\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // Closing Quote (\")\n\n    if (code === 0x0022) {\n      value += body.slice(chunkStart, position);\n      return createToken(lexer, TokenKind.STRING, start, position + 1, value);\n    } // Escape Sequence (\\)\n\n    if (code === 0x005c) {\n      value += body.slice(chunkStart, position);\n      const escape =\n        body.charCodeAt(position + 1) === 0x0075 // u\n          ? body.charCodeAt(position + 2) === 0x007b // {\n            ? readEscapedUnicodeVariableWidth(lexer, position)\n            : readEscapedUnicodeFixedWidth(lexer, position)\n          : readEscapedCharacter(lexer, position);\n      value += escape.value;\n      position += escape.size;\n      chunkStart = position;\n      continue;\n    } // LineTerminator (\\n | \\r)\n\n    if (code === 0x000a || code === 0x000d) {\n      break;\n    } // SourceCharacter\n\n    if (isUnicodeScalarValue(code)) {\n      ++position;\n    } else if (isSupplementaryCodePoint(body, position)) {\n      position += 2;\n    } else {\n      throw syntaxError(\n        lexer.source,\n        position,\n        `Invalid character within String: ${printCodePointAt(\n          lexer,\n          position,\n        )}.`,\n      );\n    }\n  }\n\n  throw syntaxError(lexer.source, position, 'Unterminated string.');\n} // The string value and lexed size of an escape sequence.\n\nfunction readEscapedUnicodeVariableWidth(lexer, position) {\n  const body = lexer.source.body;\n  let point = 0;\n  let size = 3; // Cannot be larger than 12 chars (\\u{00000000}).\n\n  while (size < 12) {\n    const code = body.charCodeAt(position + size++); // Closing Brace (})\n\n    if (code === 0x007d) {\n      // Must be at least 5 chars (\\u{0}) and encode a Unicode scalar value.\n      if (size < 5 || !isUnicodeScalarValue(point)) {\n        break;\n      }\n\n      return {\n        value: String.fromCodePoint(point),\n        size,\n      };\n    } // Append this hex digit to the code point.\n\n    point = (point << 4) | readHexDigit(code);\n\n    if (point < 0) {\n      break;\n    }\n  }\n\n  throw syntaxError(\n    lexer.source,\n    position,\n    `Invalid Unicode escape sequence: \"${body.slice(\n      position,\n      position + size,\n    )}\".`,\n  );\n}\n\nfunction readEscapedUnicodeFixedWidth(lexer, position) {\n  const body = lexer.source.body;\n  const code = read16BitHexCode(body, position + 2);\n\n  if (isUnicodeScalarValue(code)) {\n    return {\n      value: String.fromCodePoint(code),\n      size: 6,\n    };\n  } // GraphQL allows JSON-style surrogate pair escape sequences, but only when\n  // a valid pair is formed.\n\n  if (isLeadingSurrogate(code)) {\n    // \\u\n    if (\n      body.charCodeAt(position + 6) === 0x005c &&\n      body.charCodeAt(position + 7) === 0x0075\n    ) {\n      const trailingCode = read16BitHexCode(body, position + 8);\n\n      if (isTrailingSurrogate(trailingCode)) {\n        // JavaScript defines strings as a sequence of UTF-16 code units and\n        // encodes Unicode code points above U+FFFF using a surrogate pair of\n        // code units. Since this is a surrogate pair escape sequence, just\n        // include both codes into the JavaScript string value. Had JavaScript\n        // not been internally based on UTF-16, then this surrogate pair would\n        // be decoded to retrieve the supplementary code point.\n        return {\n          value: String.fromCodePoint(code, trailingCode),\n          size: 12,\n        };\n      }\n    }\n  }\n\n  throw syntaxError(\n    lexer.source,\n    position,\n    `Invalid Unicode escape sequence: \"${body.slice(position, position + 6)}\".`,\n  );\n}\n/**\n * Reads four hexadecimal characters and returns the positive integer that 16bit\n * hexadecimal string represents. For example, \"000f\" will return 15, and \"dead\"\n * will return 57005.\n *\n * Returns a negative number if any char was not a valid hexadecimal digit.\n */\n\nfunction read16BitHexCode(body, position) {\n  // readHexDigit() returns -1 on error. ORing a negative value with any other\n  // value always produces a negative value.\n  return (\n    (readHexDigit(body.charCodeAt(position)) << 12) |\n    (readHexDigit(body.charCodeAt(position + 1)) << 8) |\n    (readHexDigit(body.charCodeAt(position + 2)) << 4) |\n    readHexDigit(body.charCodeAt(position + 3))\n  );\n}\n/**\n * Reads a hexadecimal character and returns its positive integer value (0-15).\n *\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 if the provided character code was not a valid hexadecimal digit.\n *\n * HexDigit :: one of\n *   - `0` `1` `2` `3` `4` `5` `6` `7` `8` `9`\n *   - `A` `B` `C` `D` `E` `F`\n *   - `a` `b` `c` `d` `e` `f`\n */\n\nfunction readHexDigit(code) {\n  return code >= 0x0030 && code <= 0x0039 // 0-9\n    ? code - 0x0030\n    : code >= 0x0041 && code <= 0x0046 // A-F\n    ? code - 0x0037\n    : code >= 0x0061 && code <= 0x0066 // a-f\n    ? code - 0x0057\n    : -1;\n}\n/**\n * | Escaped Character | Code Point | Character Name               |\n * | ----------------- | ---------- | ---------------------------- |\n * | `\"`               | U+0022     | double quote                 |\n * | `\\`               | U+005C     | reverse solidus (back slash) |\n * | `/`               | U+002F     | solidus (forward slash)      |\n * | `b`               | U+0008     | backspace                    |\n * | `f`               | U+000C     | form feed                    |\n * | `n`               | U+000A     | line feed (new line)         |\n * | `r`               | U+000D     | carriage return              |\n * | `t`               | U+0009     | horizontal tab               |\n */\n\nfunction readEscapedCharacter(lexer, position) {\n  const body = lexer.source.body;\n  const code = body.charCodeAt(position + 1);\n\n  switch (code) {\n    case 0x0022:\n      // \"\n      return {\n        value: '\\u0022',\n        size: 2,\n      };\n\n    case 0x005c:\n      // \\\n      return {\n        value: '\\u005c',\n        size: 2,\n      };\n\n    case 0x002f:\n      // /\n      return {\n        value: '\\u002f',\n        size: 2,\n      };\n\n    case 0x0062:\n      // b\n      return {\n        value: '\\u0008',\n        size: 2,\n      };\n\n    case 0x0066:\n      // f\n      return {\n        value: '\\u000c',\n        size: 2,\n      };\n\n    case 0x006e:\n      // n\n      return {\n        value: '\\u000a',\n        size: 2,\n      };\n\n    case 0x0072:\n      // r\n      return {\n        value: '\\u000d',\n        size: 2,\n      };\n\n    case 0x0074:\n      // t\n      return {\n        value: '\\u0009',\n        size: 2,\n      };\n  }\n\n  throw syntaxError(\n    lexer.source,\n    position,\n    `Invalid character escape sequence: \"${body.slice(\n      position,\n      position + 2,\n    )}\".`,\n  );\n}\n/**\n * Reads a block string token from the source file.\n *\n * ```\n * StringValue ::\n *   - `\"\"\"` BlockStringCharacter* `\"\"\"`\n *\n * BlockStringCharacter ::\n *   - SourceCharacter but not `\"\"\"` or `\\\"\"\"`\n *   - `\\\"\"\"`\n * ```\n */\n\nfunction readBlockString(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let lineStart = lexer.lineStart;\n  let position = start + 3;\n  let chunkStart = position;\n  let currentLine = '';\n  const blockLines = [];\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position); // Closing Triple-Quote (\"\"\")\n\n    if (\n      code === 0x0022 &&\n      body.charCodeAt(position + 1) === 0x0022 &&\n      body.charCodeAt(position + 2) === 0x0022\n    ) {\n      currentLine += body.slice(chunkStart, position);\n      blockLines.push(currentLine);\n      const token = createToken(\n        lexer,\n        TokenKind.BLOCK_STRING,\n        start,\n        position + 3, // Return a string of the lines joined with U+000A.\n        dedentBlockStringLines(blockLines).join('\\n'),\n      );\n      lexer.line += blockLines.length - 1;\n      lexer.lineStart = lineStart;\n      return token;\n    } // Escaped Triple-Quote (\\\"\"\")\n\n    if (\n      code === 0x005c &&\n      body.charCodeAt(position + 1) === 0x0022 &&\n      body.charCodeAt(position + 2) === 0x0022 &&\n      body.charCodeAt(position + 3) === 0x0022\n    ) {\n      currentLine += body.slice(chunkStart, position);\n      chunkStart = position + 1; // skip only slash\n\n      position += 4;\n      continue;\n    } // LineTerminator\n\n    if (code === 0x000a || code === 0x000d) {\n      currentLine += body.slice(chunkStart, position);\n      blockLines.push(currentLine);\n\n      if (code === 0x000d && body.charCodeAt(position + 1) === 0x000a) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      currentLine = '';\n      chunkStart = position;\n      lineStart = position;\n      continue;\n    } // SourceCharacter\n\n    if (isUnicodeScalarValue(code)) {\n      ++position;\n    } else if (isSupplementaryCodePoint(body, position)) {\n      position += 2;\n    } else {\n      throw syntaxError(\n        lexer.source,\n        position,\n        `Invalid character within String: ${printCodePointAt(\n          lexer,\n          position,\n        )}.`,\n      );\n    }\n  }\n\n  throw syntaxError(lexer.source, position, 'Unterminated string.');\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * ```\n * Name ::\n *   - NameStart NameContinue* [lookahead != NameContinue]\n * ```\n */\n\nfunction readName(lexer, start) {\n  const body = lexer.source.body;\n  const bodyLength = body.length;\n  let position = start + 1;\n\n  while (position < bodyLength) {\n    const code = body.charCodeAt(position);\n\n    if (isNameContinue(code)) {\n      ++position;\n    } else {\n      break;\n    }\n  }\n\n  return createToken(\n    lexer,\n    TokenKind.NAME,\n    start,\n    position,\n    body.slice(start, position),\n  );\n}\n", "export function devAssert(condition, message) {\n  const booleanCondition = Boolean(condition);\n\n  if (!booleanCondition) {\n    throw new Error(message);\n  }\n}\n", "const MAX_ARRAY_LENGTH = 10;\nconst MAX_RECURSIVE_DEPTH = 2;\n/**\n * Used to print values in error messages.\n */\n\nexport function inspect(value) {\n  return formatValue(value, []);\n}\n\nfunction formatValue(value, seenValues) {\n  switch (typeof value) {\n    case 'string':\n      return JSON.stringify(value);\n\n    case 'function':\n      return value.name ? `[function ${value.name}]` : '[function]';\n\n    case 'object':\n      return formatObjectValue(value, seenValues);\n\n    default:\n      return String(value);\n  }\n}\n\nfunction formatObjectValue(value, previouslySeenValues) {\n  if (value === null) {\n    return 'null';\n  }\n\n  if (previouslySeenValues.includes(value)) {\n    return '[Circular]';\n  }\n\n  const seenValues = [...previouslySeenValues, value];\n\n  if (isJSONable(value)) {\n    const jsonValue = value.toJSON(); // check for infinite recursion\n\n    if (jsonValue !== value) {\n      return typeof jsonValue === 'string'\n        ? jsonValue\n        : formatValue(jsonValue, seenValues);\n    }\n  } else if (Array.isArray(value)) {\n    return formatArray(value, seenValues);\n  }\n\n  return formatObject(value, seenValues);\n}\n\nfunction isJSONable(value) {\n  return typeof value.toJSON === 'function';\n}\n\nfunction formatObject(object, seenValues) {\n  const entries = Object.entries(object);\n\n  if (entries.length === 0) {\n    return '{}';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[' + getObjectTag(object) + ']';\n  }\n\n  const properties = entries.map(\n    ([key, value]) => key + ': ' + formatValue(value, seenValues),\n  );\n  return '{ ' + properties.join(', ') + ' }';\n}\n\nfunction formatArray(array, seenValues) {\n  if (array.length === 0) {\n    return '[]';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[Array]';\n  }\n\n  const len = Math.min(MAX_ARRAY_LENGTH, array.length);\n  const remaining = array.length - len;\n  const items = [];\n\n  for (let i = 0; i < len; ++i) {\n    items.push(formatValue(array[i], seenValues));\n  }\n\n  if (remaining === 1) {\n    items.push('... 1 more item');\n  } else if (remaining > 1) {\n    items.push(`... ${remaining} more items`);\n  }\n\n  return '[' + items.join(', ') + ']';\n}\n\nfunction getObjectTag(object) {\n  const tag = Object.prototype.toString\n    .call(object)\n    .replace(/^\\[object /, '')\n    .replace(/]$/, '');\n\n  if (tag === 'Object' && typeof object.constructor === 'function') {\n    const name = object.constructor.name;\n\n    if (typeof name === 'string' && name !== '') {\n      return name;\n    }\n  }\n\n  return tag;\n}\n", "import { inspect } from './inspect.mjs';\n/* c8 ignore next 3 */\n\nconst isProduction =\n  globalThis.process && // eslint-disable-next-line no-undef\n  process.env.NODE_ENV === 'production';\n/**\n * A replacement for instanceof which includes an error warning when multi-realm\n * constructors are detected.\n * See: https://expressjs.com/en/advanced/best-practice-performance.html#set-node_env-to-production\n * See: https://webpack.js.org/guides/production/\n */\n\nexport const instanceOf =\n  /* c8 ignore next 6 */\n  // FIXME: https://github.com/graphql/graphql-js/issues/2317\n  isProduction\n    ? function instanceOf(value, constructor) {\n        return value instanceof constructor;\n      }\n    : function instanceOf(value, constructor) {\n        if (value instanceof constructor) {\n          return true;\n        }\n\n        if (typeof value === 'object' && value !== null) {\n          var _value$constructor;\n\n          // Prefer Symbol.toStringTag since it is immune to minification.\n          const className = constructor.prototype[Symbol.toStringTag];\n          const valueClassName = // We still need to support constructor's name to detect conflicts with older versions of this library.\n            Symbol.toStringTag in value // @ts-expect-error TS bug see, https://github.com/microsoft/TypeScript/issues/38009\n              ? value[Symbol.toStringTag]\n              : (_value$constructor = value.constructor) === null ||\n                _value$constructor === void 0\n              ? void 0\n              : _value$constructor.name;\n\n          if (className === valueClassName) {\n            const stringifiedValue = inspect(value);\n            throw new Error(`Cannot use ${className} \"${stringifiedValue}\" from another module or realm.\n\nEnsure that there is only one instance of \"graphql\" in the node_modules\ndirectory. If different versions of \"graphql\" are the dependencies of other\nrelied on modules, use \"resolutions\" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate \"graphql\" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`);\n          }\n        }\n\n        return false;\n      };\n", "import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { instanceOf } from '../jsutils/instanceOf.mjs';\n\n/**\n * A representation of source input to GraphQL. The `name` and `locationOffset` parameters are\n * optional, but they are useful for clients who store GraphQL documents in source files.\n * For example, if the GraphQL input starts at line 40 in a file named `Foo.graphql`, it might\n * be useful for `name` to be `\"Foo.graphql\"` and location to be `{ line: 40, column: 1 }`.\n * The `line` and `column` properties in `locationOffset` are 1-indexed.\n */\nexport class Source {\n  constructor(\n    body,\n    name = 'GraphQL request',\n    locationOffset = {\n      line: 1,\n      column: 1,\n    },\n  ) {\n    typeof body === 'string' ||\n      devAssert(false, `Body must be a string. Received: ${inspect(body)}.`);\n    this.body = body;\n    this.name = name;\n    this.locationOffset = locationOffset;\n    this.locationOffset.line > 0 ||\n      devAssert(\n        false,\n        'line in locationOffset is 1-indexed and must be positive.',\n      );\n    this.locationOffset.column > 0 ||\n      devAssert(\n        false,\n        'column in locationOffset is 1-indexed and must be positive.',\n      );\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'Source';\n  }\n}\n/**\n * Test if the given value is a Source object.\n *\n * @internal\n */\n\nexport function isSource(source) {\n  return instanceOf(source, Source);\n}\n", "import { syntaxError } from '../error/syntaxError.mjs';\nimport { Location, OperationTypeNode } from './ast.mjs';\nimport { DirectiveLocation } from './directiveLocation.mjs';\nimport { Kind } from './kinds.mjs';\nimport { isPunctuatorTokenKind, Lexer } from './lexer.mjs';\nimport { isSource, Source } from './source.mjs';\nimport { TokenKind } from './tokenKind.mjs';\n/**\n * Configuration options to control parser behavior\n */\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nexport function parse(source, options) {\n  const parser = new Parser(source, options);\n  const document = parser.parseDocument();\n  Object.defineProperty(document, 'tokenCount', {\n    enumerable: false,\n    value: parser.tokenCount,\n  });\n  return document;\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\nexport function parseValue(source, options) {\n  const parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  const value = parser.parseValueLiteral(false);\n  parser.expectToken(TokenKind.EOF);\n  return value;\n}\n/**\n * Similar to parseValue(), but raises a parse error if it encounters a\n * variable. The return type will be a constant value.\n */\n\nexport function parseConstValue(source, options) {\n  const parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  const value = parser.parseConstValueLiteral();\n  parser.expectToken(TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\nexport function parseType(source, options) {\n  const parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  const type = parser.parseTypeReference();\n  parser.expectToken(TokenKind.EOF);\n  return type;\n}\n/**\n * This class is exported only to assist people in implementing their own parsers\n * without duplicating too much code and should be used only as last resort for cases\n * such as experimental syntax or if certain features could not be contributed upstream.\n *\n * It is still part of the internal API and is versioned, so any changes to it are never\n * considered breaking changes. If you still need to support multiple versions of the\n * library, please use the `versionInfo` variable for version detection.\n *\n * @internal\n */\n\nexport class Parser {\n  constructor(source, options = {}) {\n    const sourceObj = isSource(source) ? source : new Source(source);\n    this._lexer = new Lexer(sourceObj);\n    this._options = options;\n    this._tokenCounter = 0;\n  }\n\n  get tokenCount() {\n    return this._tokenCounter;\n  }\n  /**\n   * Converts a name lex token into a name parse node.\n   */\n\n  parseName() {\n    const token = this.expectToken(TokenKind.NAME);\n    return this.node(token, {\n      kind: Kind.NAME,\n      value: token.value,\n    });\n  } // Implements the parsing rules in the Document section.\n\n  /**\n   * Document : Definition+\n   */\n\n  parseDocument() {\n    return this.node(this._lexer.token, {\n      kind: Kind.DOCUMENT,\n      definitions: this.many(\n        TokenKind.SOF,\n        this.parseDefinition,\n        TokenKind.EOF,\n      ),\n    });\n  }\n  /**\n   * Definition :\n   *   - ExecutableDefinition\n   *   - TypeSystemDefinition\n   *   - TypeSystemExtension\n   *\n   * ExecutableDefinition :\n   *   - OperationDefinition\n   *   - FragmentDefinition\n   *\n   * TypeSystemDefinition :\n   *   - SchemaDefinition\n   *   - TypeDefinition\n   *   - DirectiveDefinition\n   *\n   * TypeDefinition :\n   *   - ScalarTypeDefinition\n   *   - ObjectTypeDefinition\n   *   - InterfaceTypeDefinition\n   *   - UnionTypeDefinition\n   *   - EnumTypeDefinition\n   *   - InputObjectTypeDefinition\n   */\n\n  parseDefinition() {\n    if (this.peek(TokenKind.BRACE_L)) {\n      return this.parseOperationDefinition();\n    } // Many definitions begin with a description and require a lookahead.\n\n    const hasDescription = this.peekDescription();\n    const keywordToken = hasDescription\n      ? this._lexer.lookahead()\n      : this._lexer.token;\n\n    if (keywordToken.kind === TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaDefinition();\n\n        case 'scalar':\n          return this.parseScalarTypeDefinition();\n\n        case 'type':\n          return this.parseObjectTypeDefinition();\n\n        case 'interface':\n          return this.parseInterfaceTypeDefinition();\n\n        case 'union':\n          return this.parseUnionTypeDefinition();\n\n        case 'enum':\n          return this.parseEnumTypeDefinition();\n\n        case 'input':\n          return this.parseInputObjectTypeDefinition();\n\n        case 'directive':\n          return this.parseDirectiveDefinition();\n      }\n\n      if (hasDescription) {\n        throw syntaxError(\n          this._lexer.source,\n          this._lexer.token.start,\n          'Unexpected description, descriptions are supported only on type definitions.',\n        );\n      }\n\n      switch (keywordToken.value) {\n        case 'query':\n        case 'mutation':\n        case 'subscription':\n          return this.parseOperationDefinition();\n\n        case 'fragment':\n          return this.parseFragmentDefinition();\n\n        case 'extend':\n          return this.parseTypeSystemExtension();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  } // Implements the parsing rules in the Operations section.\n\n  /**\n   * OperationDefinition :\n   *  - SelectionSet\n   *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n   */\n\n  parseOperationDefinition() {\n    const start = this._lexer.token;\n\n    if (this.peek(TokenKind.BRACE_L)) {\n      return this.node(start, {\n        kind: Kind.OPERATION_DEFINITION,\n        operation: OperationTypeNode.QUERY,\n        name: undefined,\n        variableDefinitions: [],\n        directives: [],\n        selectionSet: this.parseSelectionSet(),\n      });\n    }\n\n    const operation = this.parseOperationType();\n    let name;\n\n    if (this.peek(TokenKind.NAME)) {\n      name = this.parseName();\n    }\n\n    return this.node(start, {\n      kind: Kind.OPERATION_DEFINITION,\n      operation,\n      name,\n      variableDefinitions: this.parseVariableDefinitions(),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n    });\n  }\n  /**\n   * OperationType : one of query mutation subscription\n   */\n\n  parseOperationType() {\n    const operationToken = this.expectToken(TokenKind.NAME);\n\n    switch (operationToken.value) {\n      case 'query':\n        return OperationTypeNode.QUERY;\n\n      case 'mutation':\n        return OperationTypeNode.MUTATION;\n\n      case 'subscription':\n        return OperationTypeNode.SUBSCRIPTION;\n    }\n\n    throw this.unexpected(operationToken);\n  }\n  /**\n   * VariableDefinitions : ( VariableDefinition+ )\n   */\n\n  parseVariableDefinitions() {\n    return this.optionalMany(\n      TokenKind.PAREN_L,\n      this.parseVariableDefinition,\n      TokenKind.PAREN_R,\n    );\n  }\n  /**\n   * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n   */\n\n  parseVariableDefinition() {\n    return this.node(this._lexer.token, {\n      kind: Kind.VARIABLE_DEFINITION,\n      variable: this.parseVariable(),\n      type: (this.expectToken(TokenKind.COLON), this.parseTypeReference()),\n      defaultValue: this.expectOptionalToken(TokenKind.EQUALS)\n        ? this.parseConstValueLiteral()\n        : undefined,\n      directives: this.parseConstDirectives(),\n    });\n  }\n  /**\n   * Variable : $ Name\n   */\n\n  parseVariable() {\n    const start = this._lexer.token;\n    this.expectToken(TokenKind.DOLLAR);\n    return this.node(start, {\n      kind: Kind.VARIABLE,\n      name: this.parseName(),\n    });\n  }\n  /**\n   * ```\n   * SelectionSet : { Selection+ }\n   * ```\n   */\n\n  parseSelectionSet() {\n    return this.node(this._lexer.token, {\n      kind: Kind.SELECTION_SET,\n      selections: this.many(\n        TokenKind.BRACE_L,\n        this.parseSelection,\n        TokenKind.BRACE_R,\n      ),\n    });\n  }\n  /**\n   * Selection :\n   *   - Field\n   *   - FragmentSpread\n   *   - InlineFragment\n   */\n\n  parseSelection() {\n    return this.peek(TokenKind.SPREAD)\n      ? this.parseFragment()\n      : this.parseField();\n  }\n  /**\n   * Field : Alias? Name Arguments? Directives? SelectionSet?\n   *\n   * Alias : Name :\n   */\n\n  parseField() {\n    const start = this._lexer.token;\n    const nameOrAlias = this.parseName();\n    let alias;\n    let name;\n\n    if (this.expectOptionalToken(TokenKind.COLON)) {\n      alias = nameOrAlias;\n      name = this.parseName();\n    } else {\n      name = nameOrAlias;\n    }\n\n    return this.node(start, {\n      kind: Kind.FIELD,\n      alias,\n      name,\n      arguments: this.parseArguments(false),\n      directives: this.parseDirectives(false),\n      selectionSet: this.peek(TokenKind.BRACE_L)\n        ? this.parseSelectionSet()\n        : undefined,\n    });\n  }\n  /**\n   * Arguments[Const] : ( Argument[?Const]+ )\n   */\n\n  parseArguments(isConst) {\n    const item = isConst ? this.parseConstArgument : this.parseArgument;\n    return this.optionalMany(TokenKind.PAREN_L, item, TokenKind.PAREN_R);\n  }\n  /**\n   * Argument[Const] : Name : Value[?Const]\n   */\n\n  parseArgument(isConst = false) {\n    const start = this._lexer.token;\n    const name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    return this.node(start, {\n      kind: Kind.ARGUMENT,\n      name,\n      value: this.parseValueLiteral(isConst),\n    });\n  }\n\n  parseConstArgument() {\n    return this.parseArgument(true);\n  } // Implements the parsing rules in the Fragments section.\n\n  /**\n   * Corresponds to both FragmentSpread and InlineFragment in the spec.\n   *\n   * FragmentSpread : ... FragmentName Directives?\n   *\n   * InlineFragment : ... TypeCondition? Directives? SelectionSet\n   */\n\n  parseFragment() {\n    const start = this._lexer.token;\n    this.expectToken(TokenKind.SPREAD);\n    const hasTypeCondition = this.expectOptionalKeyword('on');\n\n    if (!hasTypeCondition && this.peek(TokenKind.NAME)) {\n      return this.node(start, {\n        kind: Kind.FRAGMENT_SPREAD,\n        name: this.parseFragmentName(),\n        directives: this.parseDirectives(false),\n      });\n    }\n\n    return this.node(start, {\n      kind: Kind.INLINE_FRAGMENT,\n      typeCondition: hasTypeCondition ? this.parseNamedType() : undefined,\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n    });\n  }\n  /**\n   * FragmentDefinition :\n   *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n   *\n   * TypeCondition : NamedType\n   */\n\n  parseFragmentDefinition() {\n    const start = this._lexer.token;\n    this.expectKeyword('fragment'); // Legacy support for defining variables within fragments changes\n    // the grammar of FragmentDefinition:\n    //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n    if (this._options.allowLegacyFragmentVariables === true) {\n      return this.node(start, {\n        kind: Kind.FRAGMENT_DEFINITION,\n        name: this.parseFragmentName(),\n        variableDefinitions: this.parseVariableDefinitions(),\n        typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n        directives: this.parseDirectives(false),\n        selectionSet: this.parseSelectionSet(),\n      });\n    }\n\n    return this.node(start, {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: this.parseFragmentName(),\n      typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n    });\n  }\n  /**\n   * FragmentName : Name but not `on`\n   */\n\n  parseFragmentName() {\n    if (this._lexer.token.value === 'on') {\n      throw this.unexpected();\n    }\n\n    return this.parseName();\n  } // Implements the parsing rules in the Values section.\n\n  /**\n   * Value[Const] :\n   *   - [~Const] Variable\n   *   - IntValue\n   *   - FloatValue\n   *   - StringValue\n   *   - BooleanValue\n   *   - NullValue\n   *   - EnumValue\n   *   - ListValue[?Const]\n   *   - ObjectValue[?Const]\n   *\n   * BooleanValue : one of `true` `false`\n   *\n   * NullValue : `null`\n   *\n   * EnumValue : Name but not `true`, `false` or `null`\n   */\n\n  parseValueLiteral(isConst) {\n    const token = this._lexer.token;\n\n    switch (token.kind) {\n      case TokenKind.BRACKET_L:\n        return this.parseList(isConst);\n\n      case TokenKind.BRACE_L:\n        return this.parseObject(isConst);\n\n      case TokenKind.INT:\n        this.advanceLexer();\n        return this.node(token, {\n          kind: Kind.INT,\n          value: token.value,\n        });\n\n      case TokenKind.FLOAT:\n        this.advanceLexer();\n        return this.node(token, {\n          kind: Kind.FLOAT,\n          value: token.value,\n        });\n\n      case TokenKind.STRING:\n      case TokenKind.BLOCK_STRING:\n        return this.parseStringLiteral();\n\n      case TokenKind.NAME:\n        this.advanceLexer();\n\n        switch (token.value) {\n          case 'true':\n            return this.node(token, {\n              kind: Kind.BOOLEAN,\n              value: true,\n            });\n\n          case 'false':\n            return this.node(token, {\n              kind: Kind.BOOLEAN,\n              value: false,\n            });\n\n          case 'null':\n            return this.node(token, {\n              kind: Kind.NULL,\n            });\n\n          default:\n            return this.node(token, {\n              kind: Kind.ENUM,\n              value: token.value,\n            });\n        }\n\n      case TokenKind.DOLLAR:\n        if (isConst) {\n          this.expectToken(TokenKind.DOLLAR);\n\n          if (this._lexer.token.kind === TokenKind.NAME) {\n            const varName = this._lexer.token.value;\n            throw syntaxError(\n              this._lexer.source,\n              token.start,\n              `Unexpected variable \"$${varName}\" in constant value.`,\n            );\n          } else {\n            throw this.unexpected(token);\n          }\n        }\n\n        return this.parseVariable();\n\n      default:\n        throw this.unexpected();\n    }\n  }\n\n  parseConstValueLiteral() {\n    return this.parseValueLiteral(true);\n  }\n\n  parseStringLiteral() {\n    const token = this._lexer.token;\n    this.advanceLexer();\n    return this.node(token, {\n      kind: Kind.STRING,\n      value: token.value,\n      block: token.kind === TokenKind.BLOCK_STRING,\n    });\n  }\n  /**\n   * ListValue[Const] :\n   *   - [ ]\n   *   - [ Value[?Const]+ ]\n   */\n\n  parseList(isConst) {\n    const item = () => this.parseValueLiteral(isConst);\n\n    return this.node(this._lexer.token, {\n      kind: Kind.LIST,\n      values: this.any(TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n    });\n  }\n  /**\n   * ```\n   * ObjectValue[Const] :\n   *   - { }\n   *   - { ObjectField[?Const]+ }\n   * ```\n   */\n\n  parseObject(isConst) {\n    const item = () => this.parseObjectField(isConst);\n\n    return this.node(this._lexer.token, {\n      kind: Kind.OBJECT,\n      fields: this.any(TokenKind.BRACE_L, item, TokenKind.BRACE_R),\n    });\n  }\n  /**\n   * ObjectField[Const] : Name : Value[?Const]\n   */\n\n  parseObjectField(isConst) {\n    const start = this._lexer.token;\n    const name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    return this.node(start, {\n      kind: Kind.OBJECT_FIELD,\n      name,\n      value: this.parseValueLiteral(isConst),\n    });\n  } // Implements the parsing rules in the Directives section.\n\n  /**\n   * Directives[Const] : Directive[?Const]+\n   */\n\n  parseDirectives(isConst) {\n    const directives = [];\n\n    while (this.peek(TokenKind.AT)) {\n      directives.push(this.parseDirective(isConst));\n    }\n\n    return directives;\n  }\n\n  parseConstDirectives() {\n    return this.parseDirectives(true);\n  }\n  /**\n   * ```\n   * Directive[Const] : @ Name Arguments[?Const]?\n   * ```\n   */\n\n  parseDirective(isConst) {\n    const start = this._lexer.token;\n    this.expectToken(TokenKind.AT);\n    return this.node(start, {\n      kind: Kind.DIRECTIVE,\n      name: this.parseName(),\n      arguments: this.parseArguments(isConst),\n    });\n  } // Implements the parsing rules in the Types section.\n\n  /**\n   * Type :\n   *   - NamedType\n   *   - ListType\n   *   - NonNullType\n   */\n\n  parseTypeReference() {\n    const start = this._lexer.token;\n    let type;\n\n    if (this.expectOptionalToken(TokenKind.BRACKET_L)) {\n      const innerType = this.parseTypeReference();\n      this.expectToken(TokenKind.BRACKET_R);\n      type = this.node(start, {\n        kind: Kind.LIST_TYPE,\n        type: innerType,\n      });\n    } else {\n      type = this.parseNamedType();\n    }\n\n    if (this.expectOptionalToken(TokenKind.BANG)) {\n      return this.node(start, {\n        kind: Kind.NON_NULL_TYPE,\n        type,\n      });\n    }\n\n    return type;\n  }\n  /**\n   * NamedType : Name\n   */\n\n  parseNamedType() {\n    return this.node(this._lexer.token, {\n      kind: Kind.NAMED_TYPE,\n      name: this.parseName(),\n    });\n  } // Implements the parsing rules in the Type Definition section.\n\n  peekDescription() {\n    return this.peek(TokenKind.STRING) || this.peek(TokenKind.BLOCK_STRING);\n  }\n  /**\n   * Description : StringValue\n   */\n\n  parseDescription() {\n    if (this.peekDescription()) {\n      return this.parseStringLiteral();\n    }\n  }\n  /**\n   * ```\n   * SchemaDefinition : Description? schema Directives[Const]? { OperationTypeDefinition+ }\n   * ```\n   */\n\n  parseSchemaDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('schema');\n    const directives = this.parseConstDirectives();\n    const operationTypes = this.many(\n      TokenKind.BRACE_L,\n      this.parseOperationTypeDefinition,\n      TokenKind.BRACE_R,\n    );\n    return this.node(start, {\n      kind: Kind.SCHEMA_DEFINITION,\n      description,\n      directives,\n      operationTypes,\n    });\n  }\n  /**\n   * OperationTypeDefinition : OperationType : NamedType\n   */\n\n  parseOperationTypeDefinition() {\n    const start = this._lexer.token;\n    const operation = this.parseOperationType();\n    this.expectToken(TokenKind.COLON);\n    const type = this.parseNamedType();\n    return this.node(start, {\n      kind: Kind.OPERATION_TYPE_DEFINITION,\n      operation,\n      type,\n    });\n  }\n  /**\n   * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n   */\n\n  parseScalarTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('scalar');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.SCALAR_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n    });\n  }\n  /**\n   * ObjectTypeDefinition :\n   *   Description?\n   *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n   */\n\n  parseObjectTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('type');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n    return this.node(start, {\n      kind: Kind.OBJECT_TYPE_DEFINITION,\n      description,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * ImplementsInterfaces :\n   *   - implements `&`? NamedType\n   *   - ImplementsInterfaces & NamedType\n   */\n\n  parseImplementsInterfaces() {\n    return this.expectOptionalKeyword('implements')\n      ? this.delimitedMany(TokenKind.AMP, this.parseNamedType)\n      : [];\n  }\n  /**\n   * ```\n   * FieldsDefinition : { FieldDefinition+ }\n   * ```\n   */\n\n  parseFieldsDefinition() {\n    return this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseFieldDefinition,\n      TokenKind.BRACE_R,\n    );\n  }\n  /**\n   * FieldDefinition :\n   *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n   */\n\n  parseFieldDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    const name = this.parseName();\n    const args = this.parseArgumentDefs();\n    this.expectToken(TokenKind.COLON);\n    const type = this.parseTypeReference();\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.FIELD_DEFINITION,\n      description,\n      name,\n      arguments: args,\n      type,\n      directives,\n    });\n  }\n  /**\n   * ArgumentsDefinition : ( InputValueDefinition+ )\n   */\n\n  parseArgumentDefs() {\n    return this.optionalMany(\n      TokenKind.PAREN_L,\n      this.parseInputValueDef,\n      TokenKind.PAREN_R,\n    );\n  }\n  /**\n   * InputValueDefinition :\n   *   - Description? Name : Type DefaultValue? Directives[Const]?\n   */\n\n  parseInputValueDef() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    const name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    const type = this.parseTypeReference();\n    let defaultValue;\n\n    if (this.expectOptionalToken(TokenKind.EQUALS)) {\n      defaultValue = this.parseConstValueLiteral();\n    }\n\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.INPUT_VALUE_DEFINITION,\n      description,\n      name,\n      type,\n      defaultValue,\n      directives,\n    });\n  }\n  /**\n   * InterfaceTypeDefinition :\n   *   - Description? interface Name Directives[Const]? FieldsDefinition?\n   */\n\n  parseInterfaceTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('interface');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n    return this.node(start, {\n      kind: Kind.INTERFACE_TYPE_DEFINITION,\n      description,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * UnionTypeDefinition :\n   *   - Description? union Name Directives[Const]? UnionMemberTypes?\n   */\n\n  parseUnionTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('union');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const types = this.parseUnionMemberTypes();\n    return this.node(start, {\n      kind: Kind.UNION_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n      types,\n    });\n  }\n  /**\n   * UnionMemberTypes :\n   *   - = `|`? NamedType\n   *   - UnionMemberTypes | NamedType\n   */\n\n  parseUnionMemberTypes() {\n    return this.expectOptionalToken(TokenKind.EQUALS)\n      ? this.delimitedMany(TokenKind.PIPE, this.parseNamedType)\n      : [];\n  }\n  /**\n   * EnumTypeDefinition :\n   *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n   */\n\n  parseEnumTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('enum');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const values = this.parseEnumValuesDefinition();\n    return this.node(start, {\n      kind: Kind.ENUM_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n      values,\n    });\n  }\n  /**\n   * ```\n   * EnumValuesDefinition : { EnumValueDefinition+ }\n   * ```\n   */\n\n  parseEnumValuesDefinition() {\n    return this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseEnumValueDefinition,\n      TokenKind.BRACE_R,\n    );\n  }\n  /**\n   * EnumValueDefinition : Description? EnumValue Directives[Const]?\n   */\n\n  parseEnumValueDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    const name = this.parseEnumValueName();\n    const directives = this.parseConstDirectives();\n    return this.node(start, {\n      kind: Kind.ENUM_VALUE_DEFINITION,\n      description,\n      name,\n      directives,\n    });\n  }\n  /**\n   * EnumValue : Name but not `true`, `false` or `null`\n   */\n\n  parseEnumValueName() {\n    if (\n      this._lexer.token.value === 'true' ||\n      this._lexer.token.value === 'false' ||\n      this._lexer.token.value === 'null'\n    ) {\n      throw syntaxError(\n        this._lexer.source,\n        this._lexer.token.start,\n        `${getTokenDesc(\n          this._lexer.token,\n        )} is reserved and cannot be used for an enum value.`,\n      );\n    }\n\n    return this.parseName();\n  }\n  /**\n   * InputObjectTypeDefinition :\n   *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n   */\n\n  parseInputObjectTypeDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('input');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseInputFieldsDefinition();\n    return this.node(start, {\n      kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n      description,\n      name,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * ```\n   * InputFieldsDefinition : { InputValueDefinition+ }\n   * ```\n   */\n\n  parseInputFieldsDefinition() {\n    return this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseInputValueDef,\n      TokenKind.BRACE_R,\n    );\n  }\n  /**\n   * TypeSystemExtension :\n   *   - SchemaExtension\n   *   - TypeExtension\n   *\n   * TypeExtension :\n   *   - ScalarTypeExtension\n   *   - ObjectTypeExtension\n   *   - InterfaceTypeExtension\n   *   - UnionTypeExtension\n   *   - EnumTypeExtension\n   *   - InputObjectTypeDefinition\n   */\n\n  parseTypeSystemExtension() {\n    const keywordToken = this._lexer.lookahead();\n\n    if (keywordToken.kind === TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaExtension();\n\n        case 'scalar':\n          return this.parseScalarTypeExtension();\n\n        case 'type':\n          return this.parseObjectTypeExtension();\n\n        case 'interface':\n          return this.parseInterfaceTypeExtension();\n\n        case 'union':\n          return this.parseUnionTypeExtension();\n\n        case 'enum':\n          return this.parseEnumTypeExtension();\n\n        case 'input':\n          return this.parseInputObjectTypeExtension();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  }\n  /**\n   * ```\n   * SchemaExtension :\n   *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n   *  - extend schema Directives[Const]\n   * ```\n   */\n\n  parseSchemaExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('schema');\n    const directives = this.parseConstDirectives();\n    const operationTypes = this.optionalMany(\n      TokenKind.BRACE_L,\n      this.parseOperationTypeDefinition,\n      TokenKind.BRACE_R,\n    );\n\n    if (directives.length === 0 && operationTypes.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.SCHEMA_EXTENSION,\n      directives,\n      operationTypes,\n    });\n  }\n  /**\n   * ScalarTypeExtension :\n   *   - extend scalar Name Directives[Const]\n   */\n\n  parseScalarTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('scalar');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n\n    if (directives.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.SCALAR_TYPE_EXTENSION,\n      name,\n      directives,\n    });\n  }\n  /**\n   * ObjectTypeExtension :\n   *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend type Name ImplementsInterfaces? Directives[Const]\n   *  - extend type Name ImplementsInterfaces\n   */\n\n  parseObjectTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('type');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n\n    if (\n      interfaces.length === 0 &&\n      directives.length === 0 &&\n      fields.length === 0\n    ) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.OBJECT_TYPE_EXTENSION,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * InterfaceTypeExtension :\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]\n   *  - extend interface Name ImplementsInterfaces\n   */\n\n  parseInterfaceTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('interface');\n    const name = this.parseName();\n    const interfaces = this.parseImplementsInterfaces();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseFieldsDefinition();\n\n    if (\n      interfaces.length === 0 &&\n      directives.length === 0 &&\n      fields.length === 0\n    ) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.INTERFACE_TYPE_EXTENSION,\n      name,\n      interfaces,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * UnionTypeExtension :\n   *   - extend union Name Directives[Const]? UnionMemberTypes\n   *   - extend union Name Directives[Const]\n   */\n\n  parseUnionTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('union');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const types = this.parseUnionMemberTypes();\n\n    if (directives.length === 0 && types.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.UNION_TYPE_EXTENSION,\n      name,\n      directives,\n      types,\n    });\n  }\n  /**\n   * EnumTypeExtension :\n   *   - extend enum Name Directives[Const]? EnumValuesDefinition\n   *   - extend enum Name Directives[Const]\n   */\n\n  parseEnumTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('enum');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const values = this.parseEnumValuesDefinition();\n\n    if (directives.length === 0 && values.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.ENUM_TYPE_EXTENSION,\n      name,\n      directives,\n      values,\n    });\n  }\n  /**\n   * InputObjectTypeExtension :\n   *   - extend input Name Directives[Const]? InputFieldsDefinition\n   *   - extend input Name Directives[Const]\n   */\n\n  parseInputObjectTypeExtension() {\n    const start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('input');\n    const name = this.parseName();\n    const directives = this.parseConstDirectives();\n    const fields = this.parseInputFieldsDefinition();\n\n    if (directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return this.node(start, {\n      kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n      name,\n      directives,\n      fields,\n    });\n  }\n  /**\n   * ```\n   * DirectiveDefinition :\n   *   - Description? directive @ Name ArgumentsDefinition? `repeatable`? on DirectiveLocations\n   * ```\n   */\n\n  parseDirectiveDefinition() {\n    const start = this._lexer.token;\n    const description = this.parseDescription();\n    this.expectKeyword('directive');\n    this.expectToken(TokenKind.AT);\n    const name = this.parseName();\n    const args = this.parseArgumentDefs();\n    const repeatable = this.expectOptionalKeyword('repeatable');\n    this.expectKeyword('on');\n    const locations = this.parseDirectiveLocations();\n    return this.node(start, {\n      kind: Kind.DIRECTIVE_DEFINITION,\n      description,\n      name,\n      arguments: args,\n      repeatable,\n      locations,\n    });\n  }\n  /**\n   * DirectiveLocations :\n   *   - `|`? DirectiveLocation\n   *   - DirectiveLocations | DirectiveLocation\n   */\n\n  parseDirectiveLocations() {\n    return this.delimitedMany(TokenKind.PIPE, this.parseDirectiveLocation);\n  }\n  /*\n   * DirectiveLocation :\n   *   - ExecutableDirectiveLocation\n   *   - TypeSystemDirectiveLocation\n   *\n   * ExecutableDirectiveLocation : one of\n   *   `QUERY`\n   *   `MUTATION`\n   *   `SUBSCRIPTION`\n   *   `FIELD`\n   *   `FRAGMENT_DEFINITION`\n   *   `FRAGMENT_SPREAD`\n   *   `INLINE_FRAGMENT`\n   *\n   * TypeSystemDirectiveLocation : one of\n   *   `SCHEMA`\n   *   `SCALAR`\n   *   `OBJECT`\n   *   `FIELD_DEFINITION`\n   *   `ARGUMENT_DEFINITION`\n   *   `INTERFACE`\n   *   `UNION`\n   *   `ENUM`\n   *   `ENUM_VALUE`\n   *   `INPUT_OBJECT`\n   *   `INPUT_FIELD_DEFINITION`\n   */\n\n  parseDirectiveLocation() {\n    const start = this._lexer.token;\n    const name = this.parseName();\n\n    if (Object.prototype.hasOwnProperty.call(DirectiveLocation, name.value)) {\n      return name;\n    }\n\n    throw this.unexpected(start);\n  } // Core parsing utility functions\n\n  /**\n   * Returns a node that, if configured to do so, sets a \"loc\" field as a\n   * location object, used to identify the place in the source that created a\n   * given parsed object.\n   */\n\n  node(startToken, node) {\n    if (this._options.noLocation !== true) {\n      node.loc = new Location(\n        startToken,\n        this._lexer.lastToken,\n        this._lexer.source,\n      );\n    }\n\n    return node;\n  }\n  /**\n   * Determines if the next token is of a given kind\n   */\n\n  peek(kind) {\n    return this._lexer.token.kind === kind;\n  }\n  /**\n   * If the next token is of the given kind, return that token after advancing the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n\n  expectToken(kind) {\n    const token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this.advanceLexer();\n      return token;\n    }\n\n    throw syntaxError(\n      this._lexer.source,\n      token.start,\n      `Expected ${getTokenKindDesc(kind)}, found ${getTokenDesc(token)}.`,\n    );\n  }\n  /**\n   * If the next token is of the given kind, return \"true\" after advancing the lexer.\n   * Otherwise, do not change the parser state and return \"false\".\n   */\n\n  expectOptionalToken(kind) {\n    const token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this.advanceLexer();\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * If the next token is a given keyword, advance the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n\n  expectKeyword(value) {\n    const token = this._lexer.token;\n\n    if (token.kind === TokenKind.NAME && token.value === value) {\n      this.advanceLexer();\n    } else {\n      throw syntaxError(\n        this._lexer.source,\n        token.start,\n        `Expected \"${value}\", found ${getTokenDesc(token)}.`,\n      );\n    }\n  }\n  /**\n   * If the next token is a given keyword, return \"true\" after advancing the lexer.\n   * Otherwise, do not change the parser state and return \"false\".\n   */\n\n  expectOptionalKeyword(value) {\n    const token = this._lexer.token;\n\n    if (token.kind === TokenKind.NAME && token.value === value) {\n      this.advanceLexer();\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Helper function for creating an error when an unexpected lexed token is encountered.\n   */\n\n  unexpected(atToken) {\n    const token =\n      atToken !== null && atToken !== void 0 ? atToken : this._lexer.token;\n    return syntaxError(\n      this._lexer.source,\n      token.start,\n      `Unexpected ${getTokenDesc(token)}.`,\n    );\n  }\n  /**\n   * Returns a possibly empty list of parse nodes, determined by the parseFn.\n   * This list begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n\n  any(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    const nodes = [];\n\n    while (!this.expectOptionalToken(closeKind)) {\n      nodes.push(parseFn.call(this));\n    }\n\n    return nodes;\n  }\n  /**\n   * Returns a list of parse nodes, determined by the parseFn.\n   * It can be empty only if open token is missing otherwise it will always return non-empty list\n   * that begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n\n  optionalMany(openKind, parseFn, closeKind) {\n    if (this.expectOptionalToken(openKind)) {\n      const nodes = [];\n\n      do {\n        nodes.push(parseFn.call(this));\n      } while (!this.expectOptionalToken(closeKind));\n\n      return nodes;\n    }\n\n    return [];\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by the parseFn.\n   * This list begins with a lex token of openKind and ends with a lex token of closeKind.\n   * Advances the parser to the next lex token after the closing token.\n   */\n\n  many(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    const nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (!this.expectOptionalToken(closeKind));\n\n    return nodes;\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by the parseFn.\n   * This list may begin with a lex token of delimiterKind followed by items separated by lex tokens of tokenKind.\n   * Advances the parser to the next lex token after last item in the list.\n   */\n\n  delimitedMany(delimiterKind, parseFn) {\n    this.expectOptionalToken(delimiterKind);\n    const nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (this.expectOptionalToken(delimiterKind));\n\n    return nodes;\n  }\n\n  advanceLexer() {\n    const { maxTokens } = this._options;\n\n    const token = this._lexer.advance();\n\n    if (token.kind !== TokenKind.EOF) {\n      ++this._tokenCounter;\n\n      if (maxTokens !== undefined && this._tokenCounter > maxTokens) {\n        throw syntaxError(\n          this._lexer.source,\n          token.start,\n          `Document contains more that ${maxTokens} tokens. Parsing aborted.`,\n        );\n      }\n    }\n  }\n}\n/**\n * A helper function to describe a token as a string for debugging.\n */\n\nfunction getTokenDesc(token) {\n  const value = token.value;\n  return getTokenKindDesc(token.kind) + (value != null ? ` \"${value}\"` : '');\n}\n/**\n * A helper function to describe a token kind as a string for debugging.\n */\n\nfunction getTokenKindDesc(kind) {\n  return isPunctuatorTokenKind(kind) ? `\"${kind}\"` : kind;\n}\n", "/**\n * Prints a string as a GraphQL StringValue literal. Replaces control characters\n * and excluded characters (\" U+0022 and \\\\ U+005C) with escape sequences.\n */\nexport function printString(str) {\n  return `\"${str.replace(escapedRegExp, escapedReplacer)}\"`;\n} // eslint-disable-next-line no-control-regex\n\nconst escapedRegExp = /[\\x00-\\x1f\\x22\\x5c\\x7f-\\x9f]/g;\n\nfunction escapedReplacer(str) {\n  return escapeSequences[str.charCodeAt(0)];\n} // prettier-ignore\n\nconst escapeSequences = [\n  '\\\\u0000',\n  '\\\\u0001',\n  '\\\\u0002',\n  '\\\\u0003',\n  '\\\\u0004',\n  '\\\\u0005',\n  '\\\\u0006',\n  '\\\\u0007',\n  '\\\\b',\n  '\\\\t',\n  '\\\\n',\n  '\\\\u000B',\n  '\\\\f',\n  '\\\\r',\n  '\\\\u000E',\n  '\\\\u000F',\n  '\\\\u0010',\n  '\\\\u0011',\n  '\\\\u0012',\n  '\\\\u0013',\n  '\\\\u0014',\n  '\\\\u0015',\n  '\\\\u0016',\n  '\\\\u0017',\n  '\\\\u0018',\n  '\\\\u0019',\n  '\\\\u001A',\n  '\\\\u001B',\n  '\\\\u001C',\n  '\\\\u001D',\n  '\\\\u001E',\n  '\\\\u001F',\n  '',\n  '',\n  '\\\\\"',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 2F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 3F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 4F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '\\\\\\\\',\n  '',\n  '',\n  '', // 5F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '', // 6F\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '',\n  '\\\\u007F',\n  '\\\\u0080',\n  '\\\\u0081',\n  '\\\\u0082',\n  '\\\\u0083',\n  '\\\\u0084',\n  '\\\\u0085',\n  '\\\\u0086',\n  '\\\\u0087',\n  '\\\\u0088',\n  '\\\\u0089',\n  '\\\\u008A',\n  '\\\\u008B',\n  '\\\\u008C',\n  '\\\\u008D',\n  '\\\\u008E',\n  '\\\\u008F',\n  '\\\\u0090',\n  '\\\\u0091',\n  '\\\\u0092',\n  '\\\\u0093',\n  '\\\\u0094',\n  '\\\\u0095',\n  '\\\\u0096',\n  '\\\\u0097',\n  '\\\\u0098',\n  '\\\\u0099',\n  '\\\\u009A',\n  '\\\\u009B',\n  '\\\\u009C',\n  '\\\\u009D',\n  '\\\\u009E',\n  '\\\\u009F',\n];\n", "import { devAssert } from '../jsutils/devAssert.mjs';\nimport { inspect } from '../jsutils/inspect.mjs';\nimport { isNode, QueryDocumentKeys } from './ast.mjs';\nimport { Kind } from './kinds.mjs';\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\nexport const BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth-first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n * ```ts\n * const editedAST = visit(ast, {\n *   enter(node, key, parent, path, ancestors) {\n *     // @return\n *     //   undefined: no action\n *     //   false: skip visiting this node\n *     //   visitor.BREAK: stop visiting altogether\n *     //   null: delete this node\n *     //   any value: replace this node with the returned value\n *   },\n *   leave(node, key, parent, path, ancestors) {\n *     // @return\n *     //   undefined: no action\n *     //   false: no action\n *     //   visitor.BREAK: stop visiting altogether\n *     //   null: delete this node\n *     //   any value: replace this node with the returned value\n *   }\n * });\n * ```\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to three permutations of the\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node of a specific kind.\n *\n * ```ts\n * visit(ast, {\n *   Kind(node) {\n *     // enter the \"Kind\" node\n *   }\n * })\n * ```\n *\n * 2) Named visitors that trigger upon entering and leaving a node of a specific kind.\n *\n * ```ts\n * visit(ast, {\n *   Kind: {\n *     enter(node) {\n *       // enter the \"Kind\" node\n *     }\n *     leave(node) {\n *       // leave the \"Kind\" node\n *     }\n *   }\n * })\n * ```\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n * ```ts\n * visit(ast, {\n *   enter(node) {\n *     // enter any node\n *   },\n *   leave(node) {\n *     // leave any node\n *   }\n * })\n * ```\n */\n\nexport function visit(root, visitor, visitorKeys = QueryDocumentKeys) {\n  const enterLeaveMap = new Map();\n\n  for (const kind of Object.values(Kind)) {\n    enterLeaveMap.set(kind, getEnterLeaveForKind(visitor, kind));\n  }\n  /* eslint-disable no-undef-init */\n\n  let stack = undefined;\n  let inArray = Array.isArray(root);\n  let keys = [root];\n  let index = -1;\n  let edits = [];\n  let node = root;\n  let key = undefined;\n  let parent = undefined;\n  const path = [];\n  const ancestors = [];\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    const isLeaving = index === keys.length;\n    const isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n          let editOffset = 0;\n\n          for (const [editKey, editValue] of edits) {\n            const arrayKey = editKey - editOffset;\n\n            if (editValue === null) {\n              node.splice(arrayKey, 1);\n              editOffset++;\n            } else {\n              node[arrayKey] = editValue;\n            }\n          }\n        } else {\n          node = { ...node };\n\n          for (const [editKey, editValue] of edits) {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else if (parent) {\n      key = inArray ? index : keys[index];\n      node = parent[key];\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      path.push(key);\n    }\n\n    let result;\n\n    if (!Array.isArray(node)) {\n      var _enterLeaveMap$get, _enterLeaveMap$get2;\n\n      isNode(node) || devAssert(false, `Invalid AST Node: ${inspect(node)}.`);\n      const visitFn = isLeaving\n        ? (_enterLeaveMap$get = enterLeaveMap.get(node.kind)) === null ||\n          _enterLeaveMap$get === void 0\n          ? void 0\n          : _enterLeaveMap$get.leave\n        : (_enterLeaveMap$get2 = enterLeaveMap.get(node.kind)) === null ||\n          _enterLeaveMap$get2 === void 0\n        ? void 0\n        : _enterLeaveMap$get2.enter;\n      result =\n        visitFn === null || visitFn === void 0\n          ? void 0\n          : visitFn.call(visitor, node, key, parent, path, ancestors);\n\n      if (result === BREAK) {\n        break;\n      }\n\n      if (result === false) {\n        if (!isLeaving) {\n          path.pop();\n          continue;\n        }\n      } else if (result !== undefined) {\n        edits.push([key, result]);\n\n        if (!isLeaving) {\n          if (isNode(result)) {\n            node = result;\n          } else {\n            path.pop();\n            continue;\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _node$kind;\n\n      stack = {\n        inArray,\n        index,\n        keys,\n        edits,\n        prev: stack,\n      };\n      inArray = Array.isArray(node);\n      keys = inArray\n        ? node\n        : (_node$kind = visitorKeys[node.kind]) !== null &&\n          _node$kind !== void 0\n        ? _node$kind\n        : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    // New root\n    return edits[edits.length - 1][1];\n  }\n\n  return root;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\nexport function visitInParallel(visitors) {\n  const skipping = new Array(visitors.length).fill(null);\n  const mergedVisitor = Object.create(null);\n\n  for (const kind of Object.values(Kind)) {\n    let hasVisitor = false;\n    const enterList = new Array(visitors.length).fill(undefined);\n    const leaveList = new Array(visitors.length).fill(undefined);\n\n    for (let i = 0; i < visitors.length; ++i) {\n      const { enter, leave } = getEnterLeaveForKind(visitors[i], kind);\n      hasVisitor || (hasVisitor = enter != null || leave != null);\n      enterList[i] = enter;\n      leaveList[i] = leave;\n    }\n\n    if (!hasVisitor) {\n      continue;\n    }\n\n    const mergedEnterLeave = {\n      enter(...args) {\n        const node = args[0];\n\n        for (let i = 0; i < visitors.length; i++) {\n          if (skipping[i] === null) {\n            var _enterList$i;\n\n            const result =\n              (_enterList$i = enterList[i]) === null || _enterList$i === void 0\n                ? void 0\n                : _enterList$i.apply(visitors[i], args);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      },\n\n      leave(...args) {\n        const node = args[0];\n\n        for (let i = 0; i < visitors.length; i++) {\n          if (skipping[i] === null) {\n            var _leaveList$i;\n\n            const result =\n              (_leaveList$i = leaveList[i]) === null || _leaveList$i === void 0\n                ? void 0\n                : _leaveList$i.apply(visitors[i], args);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          } else if (skipping[i] === node) {\n            skipping[i] = null;\n          }\n        }\n      },\n    };\n    mergedVisitor[kind] = mergedEnterLeave;\n  }\n\n  return mergedVisitor;\n}\n/**\n * Given a visitor instance and a node kind, return EnterLeaveVisitor for that kind.\n */\n\nexport function getEnterLeaveForKind(visitor, kind) {\n  const kindVisitor = visitor[kind];\n\n  if (typeof kindVisitor === 'object') {\n    // { Kind: { enter() {}, leave() {} } }\n    return kindVisitor;\n  } else if (typeof kindVisitor === 'function') {\n    // { Kind() {} }\n    return {\n      enter: kindVisitor,\n      leave: undefined,\n    };\n  } // { enter() {}, leave() {} }\n\n  return {\n    enter: visitor.enter,\n    leave: visitor.leave,\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n *\n * @deprecated Please use `getEnterLeaveForKind` instead. Will be removed in v17\n */\n\n/* c8 ignore next 8 */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  const { enter, leave } = getEnterLeaveForKind(visitor, kind);\n  return isLeaving ? leave : enter;\n}\n", "import { printBlockString } from './blockString.mjs';\nimport { printString } from './printString.mjs';\nimport { visit } from './visitor.mjs';\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, printDocASTReducer);\n}\nconst MAX_LINE_LENGTH = 80;\nconst printDocASTReducer = {\n  Name: {\n    leave: (node) => node.value,\n  },\n  Variable: {\n    leave: (node) => '$' + node.name,\n  },\n  // Document\n  Document: {\n    leave: (node) => join(node.definitions, '\\n\\n'),\n  },\n  OperationDefinition: {\n    leave(node) {\n      const varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n      const prefix = join(\n        [\n          node.operation,\n          join([node.name, varDefs]),\n          join(node.directives, ' '),\n        ],\n        ' ',\n      ); // Anonymous queries with no directives or variable definitions can use\n      // the query short form.\n\n      return (prefix === 'query' ? '' : prefix + ' ') + node.selectionSet;\n    },\n  },\n  VariableDefinition: {\n    leave: ({ variable, type, defaultValue, directives }) =>\n      variable +\n      ': ' +\n      type +\n      wrap(' = ', defaultValue) +\n      wrap(' ', join(directives, ' ')),\n  },\n  SelectionSet: {\n    leave: ({ selections }) => block(selections),\n  },\n  Field: {\n    leave({ alias, name, arguments: args, directives, selectionSet }) {\n      const prefix = wrap('', alias, ': ') + name;\n      let argsLine = prefix + wrap('(', join(args, ', '), ')');\n\n      if (argsLine.length > MAX_LINE_LENGTH) {\n        argsLine = prefix + wrap('(\\n', indent(join(args, '\\n')), '\\n)');\n      }\n\n      return join([argsLine, join(directives, ' '), selectionSet], ' ');\n    },\n  },\n  Argument: {\n    leave: ({ name, value }) => name + ': ' + value,\n  },\n  // Fragments\n  FragmentSpread: {\n    leave: ({ name, directives }) =>\n      '...' + name + wrap(' ', join(directives, ' ')),\n  },\n  InlineFragment: {\n    leave: ({ typeCondition, directives, selectionSet }) =>\n      join(\n        [\n          '...',\n          wrap('on ', typeCondition),\n          join(directives, ' '),\n          selectionSet,\n        ],\n        ' ',\n      ),\n  },\n  FragmentDefinition: {\n    leave: (\n      { name, typeCondition, variableDefinitions, directives, selectionSet }, // Note: fragment variable definitions are experimental and may be changed\n    ) =>\n      // or removed in the future.\n      `fragment ${name}${wrap('(', join(variableDefinitions, ', '), ')')} ` +\n      `on ${typeCondition} ${wrap('', join(directives, ' '), ' ')}` +\n      selectionSet,\n  },\n  // Value\n  IntValue: {\n    leave: ({ value }) => value,\n  },\n  FloatValue: {\n    leave: ({ value }) => value,\n  },\n  StringValue: {\n    leave: ({ value, block: isBlockString }) =>\n      isBlockString ? printBlockString(value) : printString(value),\n  },\n  BooleanValue: {\n    leave: ({ value }) => (value ? 'true' : 'false'),\n  },\n  NullValue: {\n    leave: () => 'null',\n  },\n  EnumValue: {\n    leave: ({ value }) => value,\n  },\n  ListValue: {\n    leave: ({ values }) => '[' + join(values, ', ') + ']',\n  },\n  ObjectValue: {\n    leave: ({ fields }) => '{' + join(fields, ', ') + '}',\n  },\n  ObjectField: {\n    leave: ({ name, value }) => name + ': ' + value,\n  },\n  // Directive\n  Directive: {\n    leave: ({ name, arguments: args }) =>\n      '@' + name + wrap('(', join(args, ', '), ')'),\n  },\n  // Type\n  NamedType: {\n    leave: ({ name }) => name,\n  },\n  ListType: {\n    leave: ({ type }) => '[' + type + ']',\n  },\n  NonNullType: {\n    leave: ({ type }) => type + '!',\n  },\n  // Type System Definitions\n  SchemaDefinition: {\n    leave: ({ description, directives, operationTypes }) =>\n      wrap('', description, '\\n') +\n      join(['schema', join(directives, ' '), block(operationTypes)], ' '),\n  },\n  OperationTypeDefinition: {\n    leave: ({ operation, type }) => operation + ': ' + type,\n  },\n  ScalarTypeDefinition: {\n    leave: ({ description, name, directives }) =>\n      wrap('', description, '\\n') +\n      join(['scalar', name, join(directives, ' ')], ' '),\n  },\n  ObjectTypeDefinition: {\n    leave: ({ description, name, interfaces, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(\n        [\n          'type',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  FieldDefinition: {\n    leave: ({ description, name, arguments: args, type, directives }) =>\n      wrap('', description, '\\n') +\n      name +\n      (hasMultilineItems(args)\n        ? wrap('(\\n', indent(join(args, '\\n')), '\\n)')\n        : wrap('(', join(args, ', '), ')')) +\n      ': ' +\n      type +\n      wrap(' ', join(directives, ' ')),\n  },\n  InputValueDefinition: {\n    leave: ({ description, name, type, defaultValue, directives }) =>\n      wrap('', description, '\\n') +\n      join(\n        [name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')],\n        ' ',\n      ),\n  },\n  InterfaceTypeDefinition: {\n    leave: ({ description, name, interfaces, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(\n        [\n          'interface',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  UnionTypeDefinition: {\n    leave: ({ description, name, directives, types }) =>\n      wrap('', description, '\\n') +\n      join(\n        ['union', name, join(directives, ' '), wrap('= ', join(types, ' | '))],\n        ' ',\n      ),\n  },\n  EnumTypeDefinition: {\n    leave: ({ description, name, directives, values }) =>\n      wrap('', description, '\\n') +\n      join(['enum', name, join(directives, ' '), block(values)], ' '),\n  },\n  EnumValueDefinition: {\n    leave: ({ description, name, directives }) =>\n      wrap('', description, '\\n') + join([name, join(directives, ' ')], ' '),\n  },\n  InputObjectTypeDefinition: {\n    leave: ({ description, name, directives, fields }) =>\n      wrap('', description, '\\n') +\n      join(['input', name, join(directives, ' '), block(fields)], ' '),\n  },\n  DirectiveDefinition: {\n    leave: ({ description, name, arguments: args, repeatable, locations }) =>\n      wrap('', description, '\\n') +\n      'directive @' +\n      name +\n      (hasMultilineItems(args)\n        ? wrap('(\\n', indent(join(args, '\\n')), '\\n)')\n        : wrap('(', join(args, ', '), ')')) +\n      (repeatable ? ' repeatable' : '') +\n      ' on ' +\n      join(locations, ' | '),\n  },\n  SchemaExtension: {\n    leave: ({ directives, operationTypes }) =>\n      join(\n        ['extend schema', join(directives, ' '), block(operationTypes)],\n        ' ',\n      ),\n  },\n  ScalarTypeExtension: {\n    leave: ({ name, directives }) =>\n      join(['extend scalar', name, join(directives, ' ')], ' '),\n  },\n  ObjectTypeExtension: {\n    leave: ({ name, interfaces, directives, fields }) =>\n      join(\n        [\n          'extend type',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  InterfaceTypeExtension: {\n    leave: ({ name, interfaces, directives, fields }) =>\n      join(\n        [\n          'extend interface',\n          name,\n          wrap('implements ', join(interfaces, ' & ')),\n          join(directives, ' '),\n          block(fields),\n        ],\n        ' ',\n      ),\n  },\n  UnionTypeExtension: {\n    leave: ({ name, directives, types }) =>\n      join(\n        [\n          'extend union',\n          name,\n          join(directives, ' '),\n          wrap('= ', join(types, ' | ')),\n        ],\n        ' ',\n      ),\n  },\n  EnumTypeExtension: {\n    leave: ({ name, directives, values }) =>\n      join(['extend enum', name, join(directives, ' '), block(values)], ' '),\n  },\n  InputObjectTypeExtension: {\n    leave: ({ name, directives, fields }) =>\n      join(['extend input', name, join(directives, ' '), block(fields)], ' '),\n  },\n};\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\nfunction join(maybeArray, separator = '') {\n  var _maybeArray$filter$jo;\n\n  return (_maybeArray$filter$jo =\n    maybeArray === null || maybeArray === void 0\n      ? void 0\n      : maybeArray.filter((x) => x).join(separator)) !== null &&\n    _maybeArray$filter$jo !== void 0\n    ? _maybeArray$filter$jo\n    : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an indented `{ }` block.\n */\n\nfunction block(array) {\n  return wrap('{\\n', indent(join(array, '\\n')), '\\n}');\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise print an empty string.\n */\n\nfunction wrap(start, maybeString, end = '') {\n  return maybeString != null && maybeString !== ''\n    ? start + maybeString + end\n    : '';\n}\n\nfunction indent(str) {\n  return wrap('  ', str.replace(/\\n/g, '\\n  '));\n}\n\nfunction hasMultilineItems(maybeArray) {\n  var _maybeArray$some;\n\n  // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n  /* c8 ignore next */\n  return (_maybeArray$some =\n    maybeArray === null || maybeArray === void 0\n      ? void 0\n      : maybeArray.some((str) => str.includes('\\n'))) !== null &&\n    _maybeArray$some !== void 0\n    ? _maybeArray$some\n    : false;\n}\n", "'use strict';\n\nmodule.exports = function ReactNativeFile(_ref) {\n  var uri = _ref.uri,\n    name = _ref.name,\n    type = _ref.type;\n  this.uri = uri;\n  this.name = name;\n  this.type = type;\n};\n", "'use strict';\n\nvar ReactNativeFile = require('./ReactNativeFile');\n\nmodule.exports = function isExtractableFile(value) {\n  return (\n    (typeof File !== 'undefined' && value instanceof File) ||\n    (typeof Blob !== 'undefined' && value instanceof Blob) ||\n    value instanceof ReactNativeFile\n  );\n};\n", "'use strict';\n\nvar defaultIsExtractableFile = require('./isExtractableFile');\n\nmodule.exports = function extractFiles(value, path, isExtractableFile) {\n  if (path === void 0) {\n    path = '';\n  }\n\n  if (isExtractableFile === void 0) {\n    isExtractableFile = defaultIsExtractableFile;\n  }\n\n  var clone;\n  var files = new Map();\n\n  function addFile(paths, file) {\n    var storedPaths = files.get(file);\n    if (storedPaths) storedPaths.push.apply(storedPaths, paths);\n    else files.set(file, paths);\n  }\n\n  if (isExtractableFile(value)) {\n    clone = null;\n    addFile([path], value);\n  } else {\n    var prefix = path ? path + '.' : '';\n    if (typeof FileList !== 'undefined' && value instanceof FileList)\n      clone = Array.prototype.map.call(value, function (file, i) {\n        addFile(['' + prefix + i], file);\n        return null;\n      });\n    else if (Array.isArray(value))\n      clone = value.map(function (child, i) {\n        var result = extractFiles(child, '' + prefix + i, isExtractableFile);\n        result.files.forEach(addFile);\n        return result.clone;\n      });\n    else if (value && value.constructor === Object) {\n      clone = {};\n\n      for (var i in value) {\n        var result = extractFiles(value[i], '' + prefix + i, isExtractableFile);\n        result.files.forEach(addFile);\n        clone[i] = result.clone;\n      }\n    } else clone = value;\n  }\n\n  return {\n    clone: clone,\n    files: files,\n  };\n};\n", "'use strict';\n\nexports.ReactNativeFile = require('./ReactNativeFile');\nexports.extractFiles = require('./extractFiles');\nexports.isExtractableFile = require('./isExtractableFile');\n", "'use strict';\n\n/* eslint-env browser */\nmodule.exports = typeof self === 'object' ? self.FormData : window.FormData;\n", "import { JsonSerializer } from \"./types.dom\";\n\nexport const defaultJsonSerializer: JsonSerializer = {\n  parse: JSON.parse,\n  stringify: JSON.stringify\n}", "import { isExtractableFile, extractFiles, ExtractableFile } from 'extract-files'\nimport FormDataNode from 'form-data'\nimport { defaultJsonSerializer } from './defaultJsonSerializer'\n\nimport { Variables } from './types'\n\n/**\n * Duck type if NodeJS stream\n * https://github.com/sindresorhus/is-stream/blob/3750505b0727f6df54324784fe369365ef78841e/index.js#L3\n */\nconst isExtractableFileEnhanced = (value: any): value is ExtractableFile | { pipe: Function } =>\n  isExtractableFile(value) ||\n  (value !== null && typeof value === 'object' && typeof value.pipe === 'function')\n\n/**\n * Returns Multipart Form if body contains files\n * (https://github.com/jaydenseric/graphql-multipart-request-spec)\n * Otherwise returns JSON\n */\nexport default function createRequestBody(\n  query: string | string[],\n  variables?: Variables | Variables[],\n  operationName?: string,\n  jsonSerializer = defaultJsonSerializer\n): string | FormData {\n  const { clone, files } = extractFiles({ query, variables, operationName }, '', isExtractableFileEnhanced)\n\n  if (files.size === 0) {\n    if (!Array.isArray(query)) {\n      return jsonSerializer.stringify(clone)\n    }\n\n    if (typeof variables !== 'undefined' && !Array.isArray(variables)) {\n      throw new Error('Cannot create request body with given variable type, array expected')\n    }\n\n    // Batch support\n    const payload = query.reduce<{ query: string; variables: Variables | undefined }[]>(\n      (accu, currentQuery, index) => {\n        accu.push({ query: currentQuery, variables: variables ? variables[index] : undefined })\n        return accu\n      },\n      []\n    )\n\n    return jsonSerializer.stringify(payload)\n  }\n\n  const Form = typeof FormData === 'undefined' ? FormDataNode : FormData\n\n  const form = new Form()\n\n  form.append('operations', jsonSerializer.stringify(clone))\n\n  const map: { [key: number]: string[] } = {}\n  let i = 0\n  files.forEach((paths) => {\n    map[++i] = paths\n  })\n  form.append('map', jsonSerializer.stringify(map))\n\n  i = 0\n  files.forEach((paths, file) => {\n    form.append(`${++i}`, file as any)\n  })\n\n  return form as FormData\n}\n", "import {\n  BatchRequestDocument,\n  BatchRequestsOptions,\n  RawRequestOptions,\n  RequestDocument,\n  RequestOptions,\n  BatchRequestsExtendedOptions,\n  RawRequestExtendedOptions,\n  RequestExtendedOptions,\n  Variables,\n} from './types'\nimport * as Dom from './types.dom'\n\nexport function parseRequestArgs<V = Variables>(\n  documentOrOptions: RequestDocument | RequestOptions<V>,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): RequestOptions<V> {\n  return (documentOrOptions as RequestOptions<V>).document\n    ? (documentOrOptions as RequestOptions<V>)\n    : {\n        document: documentOrOptions as RequestDocument,\n        variables: variables,\n        requestHeaders: requestHeaders,\n        signal: undefined,\n      }\n}\n\nexport function parseRawRequestArgs<V = Variables>(\n  queryOrOptions: string | RawRequestOptions<V>,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): RawRequestOptions<V> {\n  return (queryOrOptions as RawRequestOptions<V>).query\n    ? (queryOrOptions as RawRequestOptions<V>)\n    : {\n        query: queryOrOptions as string,\n        variables: variables,\n        requestHeaders: requestHeaders,\n        signal: undefined,\n      }\n}\n\nexport function parseBatchRequestArgs<V = Variables>(\n  documentsOrOptions: BatchRequestDocument<V>[] | BatchRequestsOptions<V>,\n  requestHeaders?: Dom.RequestInit['headers']\n): BatchRequestsOptions<V> {\n  return (documentsOrOptions as BatchRequestsOptions<V>).documents\n    ? (documentsOrOptions as BatchRequestsOptions<V>)\n    : {\n        documents: documentsOrOptions as BatchRequestDocument<V>[],\n        requestHeaders: requestHeaders,\n        signal: undefined,\n      }\n}\n\nexport function parseRequestExtendedArgs<V = Variables>(\n  urlOrOptions: string | RequestExtendedOptions<V>,\n  document?: RequestDocument,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): RequestExtendedOptions<V> {\n  return (urlOrOptions as RequestExtendedOptions<V>).document\n    ? (urlOrOptions as RequestExtendedOptions<V>)\n    : {\n        url: urlOrOptions as string,\n        document: document as RequestDocument,\n        variables: variables,\n        requestHeaders: requestHeaders,\n        signal: undefined,\n      }\n}\n\nexport function parseRawRequestExtendedArgs<V = Variables>(\n  urlOrOptions: string | RawRequestExtendedOptions<V>,\n  query?: string,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): RawRequestExtendedOptions<V> {\n  return (urlOrOptions as RawRequestExtendedOptions<V>).query\n    ? (urlOrOptions as RawRequestExtendedOptions<V>)\n    : {\n        url: urlOrOptions as string,\n        query: query as string,\n        variables: variables,\n        requestHeaders: requestHeaders,\n        signal: undefined,\n      }\n}\n\nexport function parseBatchRequestsExtendedArgs<V = Variables>(\n  urlOrOptions: string | BatchRequestsExtendedOptions<V>,\n  documents?: BatchRequestDocument<V>[],\n  requestHeaders?: Dom.RequestInit['headers']\n): BatchRequestsExtendedOptions<V> {\n  return (urlOrOptions as BatchRequestsExtendedOptions<V>).documents\n    ? (urlOrOptions as BatchRequestsExtendedOptions<V>)\n    : {\n        url: urlOrOptions as string,\n        documents: documents as BatchRequestDocument<V>[],\n        requestHeaders: requestHeaders,\n        signal: undefined,\n      }\n}\n", "import { DocumentNode } from 'graphql/language/ast'\nimport * as Dom from './types.dom'\n\nexport type Variables = { [key: string]: any }\n\nexport interface GraphQLError {\n  message: string\n  locations?: { line: number; column: number }[]\n  path?: string[]\n  extensions?: any\n}\n\nexport interface GraphQLResponse<T = any> {\n  data?: T\n  errors?: GraphQLError[]\n  extensions?: any\n  status: number\n  [key: string]: any\n}\n\nexport interface GraphQLRequestContext<V = Variables> {\n  query: string | string[]\n  variables?: V\n}\n\nexport class ClientError extends Error {\n  response: GraphQLResponse\n  request: GraphQLRequestContext\n\n  constructor(response: GraphQLResponse, request: GraphQLRequestContext) {\n    const message = `${ClientError.extractMessage(response)}: ${JSON.stringify({\n      response,\n      request,\n    })}`\n\n    super(message)\n\n    Object.setPrototypeOf(this, ClientError.prototype)\n\n    this.response = response\n    this.request = request\n\n    // this is needed as Safari doesn't support .captureStackTrace\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, ClientError)\n    }\n  }\n\n  private static extractMessage(response: GraphQLResponse): string {\n    try {\n      return response.errors![0].message\n    } catch (e) {\n      return `GraphQL Error (Code: ${response.status})`\n    }\n  }\n}\n\nexport type MaybeFunction<T> = T | (() => T);\n\nexport type RequestDocument = string | DocumentNode\n\nexport type PatchedRequestInit = Omit<Dom.RequestInit, \"headers\">\n  & {headers?: MaybeFunction<Dom.RequestInit['headers']>};\n\nexport type BatchRequestDocument<V = Variables> = {\n  document: RequestDocument\n  variables?: V\n}\n\nexport type RawRequestOptions<V = Variables> = {\n  query: string\n  variables?: V\n  requestHeaders?: Dom.RequestInit['headers']\n  signal?: Dom.RequestInit['signal']\n}\n\nexport type RequestOptions<V = Variables> = {\n  document: RequestDocument\n  variables?: V\n  requestHeaders?: Dom.RequestInit['headers']\n  signal?: Dom.RequestInit['signal']\n}\n\nexport type BatchRequestsOptions<V = Variables> = {\n  documents: BatchRequestDocument<V>[]\n  requestHeaders?: Dom.RequestInit['headers']\n  signal?: Dom.RequestInit['signal']\n}\n\nexport type RequestExtendedOptions<V = Variables> = { url: string } & RequestOptions<V>\n\nexport type RawRequestExtendedOptions<V = Variables> = { url: string } & RawRequestOptions<V>\n\nexport type BatchRequestsExtendedOptions<V = Variables> = { url: string } & BatchRequestsOptions<V>\n", "import { ClientError, RequestDocument, Variables } from './types';\nimport * as Dom from './types.dom'\nimport { resolveRequestDocument } from '.';\n\nconst CONNECTION_INIT = 'connection_init'\nconst CONNECTION_ACK = 'connection_ack'\nconst PING = 'ping'\nconst PONG = 'pong'\nconst SUBSCRIBE = 'subscribe'\nconst NEXT = 'next'\nconst ERROR = 'error'\nconst COMPLETE = 'complete'\n\ntype MessagePayload = { [key: string]: any }\n\ntype SubscribePayload<V = Variables, E = any> = {\n    operationName?: string | null;\n    query: string;\n    variables?: V;\n    extensions?: E;\n}\n\nclass GraphQLWebSocketMessage<A = MessagePayload> {\n\n    private _type: string\n    private _id?: string\n    private _payload?: A\n\n    public get type(): string { return this._type }\n    public get id(): string | undefined { return this._id }\n    public get payload(): A | undefined { return this._payload; }\n\n    constructor(type: string, payload?: A, id?: string) {\n        this._type = type\n        this._payload = payload\n        this._id = id\n    }\n\n    public get text(): string {\n        const result: any = { type: this.type }\n        if (this.id != null && this.id != undefined) result.id = this.id\n        if (this.payload != null && this.payload != undefined) result.payload = this.payload\n        return JSON.stringify(result)\n    }\n\n    static parse<A>(data: string, f: (payload: any) => A): GraphQLWebSocketMessage<A> {\n        const { type, payload, id }: { type: string, payload: any, id: string } = JSON.parse(data)\n        return new GraphQLWebSocketMessage(type, f(payload), id)\n    }\n}\n\nexport type SocketHandler = {\n    onInit?: <T>() => Promise<T>,\n    onAcknowledged?: <A>(payload?: A) => Promise<void>,\n    onPing?: <In, Out>(payload: In) => Promise<Out>\n    onPong?: <T>(payload: T) => any\n    onClose?: () => any\n}\n\nexport type UnsubscribeCallback = () => void;\n\nexport interface GraphQLSubscriber<T, E=unknown> {\n  next?(data: T, extensions?: E): void;\n  error?(errorValue: ClientError): void;\n  complete?(): void;\n}\n\ntype SubscriptionRecord = {\n    subscriber: GraphQLSubscriber<unknown, unknown>\n    query: string,\n    variables: Variables\n}\n\ntype SocketState = {\n    acknowledged: boolean\n    lastRequestId: number\n    subscriptions: { [key: string]: SubscriptionRecord }\n}\n\nexport class GraphQLWebSocketClient {\n\n    static PROTOCOL: string = \"graphql-transport-ws\"\n\n    private socket: WebSocket\n    private socketState: SocketState = { acknowledged: false, lastRequestId: 0, subscriptions: {} }\n\n    constructor(socket: WebSocket, { onInit, onAcknowledged, onPing, onPong }: SocketHandler) {\n        this.socket = socket\n\n        socket.onopen = async (e) => {\n            this.socketState.acknowledged = false;\n            this.socketState.subscriptions = {};\n            socket.send(ConnectionInit(onInit ? await onInit() : null).text);\n        };\n\n        socket.onclose = (e) => {\n            this.socketState.acknowledged = false;\n            this.socketState.subscriptions = {};\n        };\n\n        socket.onerror = (e) => {\n            console.error(e)\n        }\n\n        socket.onmessage = (e) => {\n            try {\n                const message = parseMessage(e.data)\n                switch (message.type) {\n                    case CONNECTION_ACK: {\n                        if (this.socketState.acknowledged) {\n                            console.warn(\"Duplicate CONNECTION_ACK message ignored\");\n                        } else {\n                            this.socketState.acknowledged = true\n                            if (onAcknowledged) onAcknowledged(message.payload)\n                        }\n                        return;\n                    }\n                    case PING: {\n                        if (onPing)\n                            onPing(message.payload).then(r => socket.send(Pong(r).text));\n                        else\n                            socket.send(Pong(null).text);\n                        return;\n                    }\n                    case PONG: {\n                        if (onPong) onPong(message.payload);\n                        return;\n                    }\n                }\n\n                if (!this.socketState.acknowledged) {\n                    // Web-socket connection not acknowledged\n                    return\n                }\n\n                if (message.id === undefined || message.id === null || !this.socketState.subscriptions[message.id]) {\n                    // No subscription identifer or subscription indentifier is not found\n                    return\n                }\n                const { query, variables, subscriber } = this.socketState.subscriptions[message.id]\n\n\n                switch (message.type) {\n                    case NEXT: {\n\n                        if (!message.payload.errors && message.payload.data) {\n                            subscriber.next && subscriber.next(message.payload.data);\n                        }\n                        if (message.payload.errors) {\n                            subscriber.error && subscriber.error(new ClientError({ ...message.payload, status: 200 }, { query, variables }));\n                        } else {\n                        }\n                        return;\n                    }\n\n                    case ERROR: {\n                        subscriber.error && subscriber.error(new ClientError({ errors: message.payload, status: 200 }, { query, variables }));\n                        return;\n                    }\n\n                    case COMPLETE: {\n                        subscriber.complete && subscriber.complete();\n                        delete this.socketState.subscriptions[message.id]\n                        return;\n                    }\n\n                }\n            }\n            catch (e) {\n                // Unexpected errors while handling graphql-ws message\n                console.error(e)\n                socket.close(1006);\n            }\n            socket.close(4400, \"Unknown graphql-ws message.\")\n        }\n    }\n\n    private makeSubscribe<T, V, E>(query: string, operationName: string | undefined, variables: V, subscriber: GraphQLSubscriber<T, E>): UnsubscribeCallback {\n\n        const subscriptionId = (this.socketState.lastRequestId++).toString();\n        this.socketState.subscriptions[subscriptionId] = { query, variables, subscriber }\n        this.socket.send(Subscribe(subscriptionId, { query, operationName, variables }).text);\n        return () => {\n            this.socket.send(Complete(subscriptionId).text)\n            delete this.socketState.subscriptions[subscriptionId]\n        }\n    }\n\n    rawRequest<T = any, V = Variables, E = any>(\n        query: string,\n        variables?: V,\n    ): Promise<{ data: T; extensions?: E }> {\n\n        return new Promise<{ data: T; extensions?: E; headers?: Dom.Headers; status?: number }>((resolve, reject) => {\n            let result: { data: T; extensions?: E };\n            this.rawSubscribe(query, {\n                next: (data: T, extensions: E) => (result = { data, extensions }),\n                error: reject,\n                complete: () => resolve(result),\n            }, variables);\n        });\n    }\n\n    request<T = any, V = Variables>(document: RequestDocument, variables?: V): Promise<T> {\n\n        return new Promise<T>((resolve, reject) => {\n            let result: T;\n            this.subscribe(document, {\n                next: (data: T) => (result = data),\n                error: reject,\n                complete: () => resolve(result),\n            }, variables);\n        });\n    }\n\n    subscribe<T = any, V = Variables, E = any>(document: RequestDocument, subscriber: GraphQLSubscriber<T, E>, variables?: V): UnsubscribeCallback {\n        const { query, operationName } = resolveRequestDocument(document)\n        return this.makeSubscribe(query, operationName, variables, subscriber)\n    }\n\n    rawSubscribe<T = any, V = Variables, E = any>(query: string, subscriber: GraphQLSubscriber<T, E>, variables?: V): UnsubscribeCallback {\n        return this.makeSubscribe(query, undefined, variables, subscriber)\n    }\n\n    ping(payload: Variables) {\n        this.socket.send(Ping(payload).text)\n    }\n\n    close() {\n        this.socket.close(1000);\n    }\n}\n\n// Helper functions\n\nfunction parseMessage<A = any>(data: string, f: (payload: any) => A = a => a): GraphQLWebSocketMessage<A> {\n    const m = GraphQLWebSocketMessage.parse<A>(data, f)\n    return m\n}\n\nfunction ConnectionInit<A>(payload?: A) {\n    return new GraphQLWebSocketMessage(CONNECTION_INIT, payload)\n}\n\nfunction Ping(payload: any) {\n    return new GraphQLWebSocketMessage(PING, payload, undefined)\n}\nfunction Pong(payload: any) {\n    return new GraphQLWebSocketMessage(PONG, payload, undefined)\n}\n\nfunction Subscribe(id: string, payload: SubscribePayload) {\n    return new GraphQLWebSocketMessage(SUBSCRIBE, payload, id)\n}\n\nfunction Complete(id: string) {\n    return new GraphQLWebSocketMessage(COMPLETE, undefined, id)\n}\n", "import crossFetch, * as CrossFetch from 'cross-fetch'\nimport { OperationDefinitionNode, DocumentNode } from 'graphql/language/ast'\n\nimport { parse } from 'graphql/language/parser'\nimport { print } from 'graphql/language/printer'\nimport createRequestBody from './createRequestBody'\nimport { defaultJsonSerializer } from './defaultJsonSerializer'\nimport {\n  parseBatchRequestArgs,\n  parseRawRequestArgs,\n  parseRequestArgs,\n  parseBatchRequestsExtendedArgs,\n  parseRawRequestExtendedArgs,\n  parseRequestExtendedArgs,\n} from './parseArgs'\nimport {\n  BatchRequestDocument,\n  BatchRequestsOptions,\n  ClientError,\n  RawRequestOptions,\n  RequestDocument,\n  RequestOptions,\n  BatchRequestsExtendedOptions,\n  RawRequestExtendedOptions,\n  RequestExtendedOptions,\n  Variables,\n  PatchedRequestInit,\n  MaybeFunction,\n  GraphQLError,\n} from './types'\nimport * as Dom from './types.dom'\n\nexport {\n  BatchRequestDocument,\n  BatchRequestsOptions,\n  BatchRequestsExtendedOptions,\n  ClientError,\n  RawRequestOptions,\n  RawRequestExtendedOptions,\n  RequestDocument,\n  RequestOptions,\n  RequestExtendedOptions,\n  Variables,\n}\n\n/**\n * Convert the given headers configuration into a plain object.\n */\nconst resolveHeaders = (headers: Dom.RequestInit['headers']): Record<string, string> => {\n  let oHeaders: Record<string, string> = {}\n  if (headers) {\n    if (\n      (typeof Headers !== 'undefined' && headers instanceof Headers) ||\n      headers instanceof CrossFetch.Headers\n    ) {\n      oHeaders = HeadersInstanceToPlainObject(headers)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(([name, value]) => {\n        oHeaders[name] = value\n      })\n    } else {\n      oHeaders = headers as Record<string, string>\n    }\n  }\n\n  return oHeaders\n}\n\n/**\n * Clean a GraphQL document to send it via a GET query\n *\n * @param {string} str GraphQL query\n * @returns {string} Cleaned query\n */\nconst queryCleanner = (str: string): string => str.replace(/([\\s,]|#[^\\n\\r]+)+/g, ' ').trim()\n\ntype TBuildGetQueryParams<V> =\n  | { query: string; variables: V | undefined; operationName: string | undefined; jsonSerializer: Dom.JsonSerializer }\n  | { query: string[]; variables: V[] | undefined; operationName: undefined; jsonSerializer: Dom.JsonSerializer }\n\n/**\n * Create query string for GraphQL request\n *\n * @param {object} param0 -\n *\n * @param {string|string[]} param0.query the GraphQL document or array of document if it's a batch request\n * @param {string|undefined} param0.operationName the GraphQL operation name\n * @param {any|any[]} param0.variables the GraphQL variables to use\n */\nconst buildGetQueryParams = <V>({ query, variables, operationName, jsonSerializer }: TBuildGetQueryParams<V>): string => {\n  if (!Array.isArray(query)) {\n    const search: string[] = [`query=${encodeURIComponent(queryCleanner(query))}`]\n\n    if (variables) {\n      search.push(`variables=${encodeURIComponent(jsonSerializer.stringify(variables))}`)\n    }\n\n    if (operationName) {\n      search.push(`operationName=${encodeURIComponent(operationName)}`)\n    }\n\n    return search.join('&')\n  }\n\n  if (typeof variables !== 'undefined' && !Array.isArray(variables)) {\n    throw new Error('Cannot create query with given variable type, array expected')\n  }\n\n  // Batch support\n  const payload = query.reduce<{ query: string; variables: string | undefined }[]>(\n    (accu, currentQuery, index) => {\n      accu.push({\n        query: queryCleanner(currentQuery),\n        variables: variables ? jsonSerializer.stringify(variables[index]) : undefined,\n      })\n      return accu\n    },\n    []\n  )\n\n  return `query=${encodeURIComponent(jsonSerializer.stringify(payload))}`\n}\n\n/**\n * Fetch data using POST method\n */\nconst post = async <V = Variables>({\n  url,\n  query,\n  variables,\n  operationName,\n  headers,\n  fetch,\n  fetchOptions,\n}: {\n  url: string\n  query: string | string[]\n  fetch: any\n  fetchOptions: Dom.RequestInit\n  variables?: V\n  headers?: Dom.RequestInit['headers']\n  operationName?: string\n}) => {\n  const body = createRequestBody(query, variables, operationName, fetchOptions.jsonSerializer)\n\n  return await fetch(url, {\n    method: 'POST',\n    headers: {\n      ...(typeof body === 'string' ? { 'Content-Type': 'application/json' } : {}),\n      ...headers,\n    },\n    body,\n    ...fetchOptions,\n  })\n}\n\n/**\n * Fetch data using GET method\n */\nconst get = async <V = Variables>({\n  url,\n  query,\n  variables,\n  operationName,\n  headers,\n  fetch,\n  fetchOptions,\n}: {\n  url: string\n  query: string | string[]\n  fetch: any\n  fetchOptions: Dom.RequestInit\n  variables?: V\n  headers?: HeadersInit\n  operationName?: string\n}) => {\n  const queryParams = buildGetQueryParams<V>({\n    query,\n    variables,\n    operationName,\n    jsonSerializer: fetchOptions.jsonSerializer\n  } as TBuildGetQueryParams<V>)\n\n  return await fetch(`${url}?${queryParams}`, {\n    method: 'GET',\n    headers,\n    ...fetchOptions,\n  })\n}\n\n/**\n * GraphQL Client.\n */\nexport class GraphQLClient {\n  private url: string\n  private options: PatchedRequestInit\n\n  constructor(url: string, options?: PatchedRequestInit) {\n    this.url = url\n    this.options = options || {}\n  }\n\n  /**\n   * Send a GraphQL query to the server.\n   */\n  async rawRequest<T = any, V = Variables>(\n    query: string,\n    variables?: V,\n    requestHeaders?: Dom.RequestInit['headers']\n  ): Promise<{ data: T; extensions?: any; headers: Dom.Headers; errors?: GraphQLError[]; status: number }>\n  async rawRequest<T = any, V = Variables>(\n    options: RawRequestOptions<V>\n  ): Promise<{ data: T; extensions?: any; headers: Dom.Headers; errors?: GraphQLError[]; status: number }>\n  async rawRequest<T = any, V = Variables>(\n    queryOrOptions: string | RawRequestOptions<V>,\n    variables?: V,\n    requestHeaders?: Dom.RequestInit['headers']\n  ): Promise<{ data: T; extensions?: any; headers: Dom.Headers; errors?: GraphQLError[]; status: number }> {\n    const rawRequestOptions = parseRawRequestArgs<V>(queryOrOptions, variables, requestHeaders)\n\n    let { headers, fetch = crossFetch, method = 'POST', ...fetchOptions } = this.options\n    let { url } = this\n    if (rawRequestOptions.signal !== undefined) {\n      fetchOptions.signal = rawRequestOptions.signal\n    }\n\n    const { operationName } = resolveRequestDocument(rawRequestOptions.query)\n\n    return makeRequest<T, V>({\n      url,\n      query: rawRequestOptions.query,\n      variables: rawRequestOptions.variables,\n      headers: {\n        ...resolveHeaders(callOrIdentity(headers)),\n        ...resolveHeaders(rawRequestOptions.requestHeaders),\n      },\n      operationName,\n      fetch,\n      method,\n      fetchOptions,\n    })\n  }\n\n  /**\n   * Send a GraphQL document to the server.\n   */\n  async request<T = any, V = Variables>(\n    document: RequestDocument,\n    variables?: V,\n    requestHeaders?: Dom.RequestInit['headers']\n  ): Promise<T>\n  async request<T = any, V = Variables>(options: RequestOptions<V>): Promise<T>\n  async request<T = any, V = Variables>(\n    documentOrOptions: RequestDocument | RequestOptions<V>,\n    variables?: V,\n    requestHeaders?: Dom.RequestInit['headers']\n  ): Promise<T> {\n    const requestOptions = parseRequestArgs<V>(documentOrOptions, variables, requestHeaders)\n\n    let { headers, fetch = crossFetch, method = 'POST', ...fetchOptions } = this.options\n    let { url } = this\n    if (requestOptions.signal !== undefined) {\n      fetchOptions.signal = requestOptions.signal\n    }\n\n    const { query, operationName } = resolveRequestDocument(requestOptions.document)\n\n    const { data } = await makeRequest<T, V>({\n      url,\n      query,\n      variables: requestOptions.variables,\n      headers: {\n        ...resolveHeaders(callOrIdentity(headers)),\n        ...resolveHeaders(requestOptions.requestHeaders),\n      },\n      operationName,\n      fetch,\n      method,\n      fetchOptions,\n    })\n\n    return data\n  }\n\n  /**\n   * Send GraphQL documents in batch to the server.\n   */\n  async batchRequests<T extends any = any, V = Variables>(\n    documents: BatchRequestDocument<V>[],\n    requestHeaders?: Dom.RequestInit['headers']\n  ): Promise<T>\n  async batchRequests<T = any, V = Variables>(options: BatchRequestsOptions<V>): Promise<T>\n  async batchRequests<T = any, V = Variables>(\n    documentsOrOptions: BatchRequestDocument<V>[] | BatchRequestsOptions<V>,\n    requestHeaders?: Dom.RequestInit['headers']\n  ): Promise<T> {\n    const batchRequestOptions = parseBatchRequestArgs<V>(documentsOrOptions, requestHeaders)\n\n    let { headers, fetch = crossFetch, method = 'POST', ...fetchOptions } = this.options\n    let { url } = this\n    if (batchRequestOptions.signal !== undefined) {\n      fetchOptions.signal = batchRequestOptions.signal\n    }\n\n    const queries = batchRequestOptions.documents.map(\n      ({ document }) => resolveRequestDocument(document).query\n    )\n    const variables = batchRequestOptions.documents.map(({ variables }) => variables)\n\n    const { data } = await makeRequest<T, (V | undefined)[]>({\n      url,\n      query: queries,\n      variables,\n      headers: {\n        ...resolveHeaders(callOrIdentity(headers)),\n        ...resolveHeaders(batchRequestOptions.requestHeaders),\n      },\n      operationName: undefined,\n      fetch,\n      method,\n      fetchOptions,\n    })\n\n    return data\n  }\n\n  setHeaders(headers: Dom.RequestInit['headers']): GraphQLClient {\n    this.options.headers = headers\n    return this\n  }\n\n  /**\n   * Attach a header to the client. All subsequent requests will have this header.\n   */\n  setHeader(key: string, value: string): GraphQLClient {\n    const { headers } = this.options\n\n    if (headers) {\n      // todo what if headers is in nested array form... ?\n      //@ts-ignore\n      headers[key] = value\n    } else {\n      this.options.headers = { [key]: value }\n    }\n\n    return this\n  }\n\n  /**\n   * Change the client endpoint. All subsequent requests will send to this endpoint.\n   */\n  setEndpoint(value: string): GraphQLClient {\n    this.url = value\n    return this\n  }\n}\n\nasync function makeRequest<T = any, V = Variables>({\n  url,\n  query,\n  variables,\n  headers,\n  operationName,\n  fetch,\n  method = 'POST',\n  fetchOptions,\n}: {\n  url: string\n  query: string | string[]\n  variables?: V\n  headers?: Dom.RequestInit['headers']\n  operationName?: string\n  fetch: any\n  method: string\n  fetchOptions: Dom.RequestInit\n}): Promise<{ data: T; extensions?: any; headers: Dom.Headers; errors?: GraphQLError[]; status: number }> {\n  const fetcher = method.toUpperCase() === 'POST' ? post : get\n  const isBathchingQuery = Array.isArray(query)\n\n  const response = await fetcher({\n    url,\n    query,\n    variables,\n    operationName,\n    headers,\n    fetch,\n    fetchOptions,\n  })\n  const result = await getResult(response, fetchOptions.jsonSerializer)\n\n  const successfullyReceivedData =\n    isBathchingQuery && Array.isArray(result) ? !result.some(({ data }) => !data) : !!result.data\n\n  const successfullyPassedErrorPolicy =\n    !result.errors || fetchOptions.errorPolicy === 'all' || fetchOptions.errorPolicy === 'ignore'\n\n  if (response.ok && successfullyPassedErrorPolicy && successfullyReceivedData) {\n    const { headers, status } = response\n\n    const { errors, ...rest } = result\n    const data = fetchOptions.errorPolicy === 'ignore' ? rest : result\n    \n    return {\n      ...(isBathchingQuery ? { data } : data),\n      headers,\n      status,\n    }\n  } else {\n    const errorResult = typeof result === 'string' ? { error: result } : result\n    throw new ClientError(\n      { ...errorResult, status: response.status, headers: response.headers },\n      { query, variables }\n    )\n  }\n}\n\n/**\n * Send a GraphQL Query to the GraphQL server for execution.\n */\nexport async function rawRequest<T = any, V = Variables>(\n  url: string,\n  query: string,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): Promise<{ data: T; extensions?: any; headers: Dom.Headers; status: number }>\nexport async function rawRequest<T = any, V = Variables>(\n  options: RawRequestExtendedOptions<V>\n): Promise<{ data: T; extensions?: any; headers: Dom.Headers; status: number }>\nexport async function rawRequest<T = any, V = Variables>(\n  urlOrOptions: string | RawRequestExtendedOptions<V>,\n  query?: string,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): Promise<{ data: T; extensions?: any; headers: Dom.Headers; status: number }> {\n  const requestOptions = parseRawRequestExtendedArgs<V>(urlOrOptions, query, variables, requestHeaders)\n  const client = new GraphQLClient(requestOptions.url)\n  return client.rawRequest<T, V>({\n    ...requestOptions,\n  })\n}\n\n/**\n * Send a GraphQL Document to the GraphQL server for execution.\n *\n * @example\n *\n * ```ts\n * // You can pass a raw string\n *\n * await request('https://foo.bar/graphql', `\n *   {\n *     query {\n *       users\n *     }\n *   }\n * `)\n *\n * // You can also pass a GraphQL DocumentNode. Convenient if you\n * // are using graphql-tag package.\n *\n * import gql from 'graphql-tag'\n *\n * await request('https://foo.bar/graphql', gql`...`)\n *\n * // If you don't actually care about using DocumentNode but just\n * // want the tooling support for gql template tag like IDE syntax\n * // coloring and prettier autoformat then note you can use the\n * // passthrough gql tag shipped with graphql-request to save a bit\n * // of performance and not have to install another dep into your project.\n *\n * import { gql } from 'graphql-request'\n *\n * await request('https://foo.bar/graphql', gql`...`)\n * ```\n */\nexport async function request<T = any, V = Variables>(\n  url: string,\n  document: RequestDocument,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): Promise<T>\nexport async function request<T = any, V = Variables>(options: RequestExtendedOptions<V>): Promise<T>\nexport async function request<T = any, V = Variables>(\n  urlOrOptions: string | RequestExtendedOptions<V>,\n  document?: RequestDocument,\n  variables?: V,\n  requestHeaders?: Dom.RequestInit['headers']\n): Promise<T> {\n  const requestOptions = parseRequestExtendedArgs<V>(urlOrOptions, document, variables, requestHeaders)\n  const client = new GraphQLClient(requestOptions.url)\n  return client.request<T, V>({\n    ...requestOptions,\n  })\n}\n\n/**\n * Send a batch of GraphQL Document to the GraphQL server for exectuion.\n *\n * @example\n *\n * ```ts\n * // You can pass a raw string\n *\n * await batchRequests('https://foo.bar/graphql', [\n * {\n *  query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * },\n * {\n *   query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * }])\n *\n * // You can also pass a GraphQL DocumentNode as query. Convenient if you\n * // are using graphql-tag package.\n *\n * import gql from 'graphql-tag'\n *\n * await batchRequests('https://foo.bar/graphql', [{ query: gql`...` }])\n * ```\n */\nexport async function batchRequests<T = any, V = Variables>(\n  url: string,\n  documents: BatchRequestDocument<V>[],\n  requestHeaders?: Dom.RequestInit['headers']\n): Promise<T>\nexport async function batchRequests<T = any, V = Variables>(\n  options: BatchRequestsExtendedOptions<V>\n): Promise<T>\nexport async function batchRequests<T = any, V = Variables>(\n  urlOrOptions: string | BatchRequestsExtendedOptions<V>,\n  documents?: BatchRequestDocument<V>[],\n  requestHeaders?: Dom.RequestInit['headers']\n): Promise<T> {\n  const requestOptions = parseBatchRequestsExtendedArgs<V>(urlOrOptions, documents, requestHeaders)\n  const client = new GraphQLClient(requestOptions.url)\n  return client.batchRequests<T, V>({ ...requestOptions })\n}\n\nexport default request\n\n/**\n * todo\n */\nasync function getResult(response: Dom.Response, jsonSerializer = defaultJsonSerializer): Promise<any> {\n  let contentType: string | undefined\n\n  response.headers.forEach((value, key) => {\n    if (key.toLowerCase() === 'content-type') {\n      contentType = value\n    }\n  })\n\n  if (contentType && contentType.toLowerCase().startsWith('application/json')) {\n    return jsonSerializer.parse(await response.text())\n  } else {\n    return response.text()\n  }\n}\n/**\n * helpers\n */\n\nfunction extractOperationName(document: DocumentNode): string | undefined {\n  let operationName = undefined\n\n  const operationDefinitions = document.definitions.filter(\n    (definition) => definition.kind === 'OperationDefinition'\n  ) as OperationDefinitionNode[]\n\n  if (operationDefinitions.length === 1) {\n    operationName = operationDefinitions[0].name?.value\n  }\n\n  return operationName\n}\n\nexport function resolveRequestDocument(document: RequestDocument): { query: string; operationName?: string } {\n  if (typeof document === 'string') {\n    let operationName = undefined\n\n    try {\n      const parsedDocument = parse(document)\n      operationName = extractOperationName(parsedDocument)\n    } catch (err) {\n      // Failed parsing the document, the operationName will be undefined\n    }\n\n    return { query: document, operationName }\n  }\n\n  const operationName = extractOperationName(document)\n\n  return { query: print(document), operationName }\n}\n\nfunction callOrIdentity<T>(value: MaybeFunction<T>) {\n  return typeof value === 'function' ? (value as () => T)() : value;\n}\n\n/**\n * Convenience passthrough template tag to get the benefits of tooling for the gql template tag. This does not actually parse the input into a GraphQL DocumentNode like graphql-tag package does. It just returns the string with any variables given interpolated. Can save you a bit of performance and having to install another package.\n *\n * @example\n *\n * import { gql } from 'graphql-request'\n *\n * await request('https://foo.bar/graphql', gql`...`)\n *\n * @remarks\n *\n * Several tools in the Node GraphQL ecosystem are hardcoded to specially treat any template tag named \"gql\". For example see this prettier issue: https://github.com/prettier/prettier/issues/4360. Using this template tag has no runtime effect beyond variable interpolation.\n */\nexport function gql(chunks: TemplateStringsArray, ...variables: any[]): string {\n  return chunks.reduce(\n    (accumulator, chunk, index) => `${accumulator}${chunk}${index in variables ? variables[index] : ''}`,\n    ''\n  )\n}\n\n/**\n * Convert Headers instance into regular object\n */\nfunction HeadersInstanceToPlainObject(headers: Dom.Response['headers']): Record<string, string> {\n  const o: any = {}\n  headers.forEach((v, k) => {\n    o[k] = v\n  })\n  return o\n}\n\nexport { GraphQLWebSocketClient } from './graphql-ws'\n", "'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n", "'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n", "'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n", "'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n", "'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n", "'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n", "'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n", "'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n", "'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n", "'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n", "'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n", "'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n", "'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n", "'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n", "'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n", "'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n", "'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n", "'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n", "{\n  \"name\": \"axios\",\n  \"version\": \"0.21.4\",\n  \"description\": \"Promise based HTTP client for the browser and node.js\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"grunt test\",\n    \"start\": \"node ./sandbox/server.js\",\n    \"build\": \"NODE_ENV=production grunt build\",\n    \"preversion\": \"npm test\",\n    \"version\": \"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json\",\n    \"postversion\": \"git push && git push --tags\",\n    \"examples\": \"node ./examples/server.js\",\n    \"coveralls\": \"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js\",\n    \"fix\": \"eslint --fix lib/**/*.js\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/axios/axios.git\"\n  },\n  \"keywords\": [\n    \"xhr\",\n    \"http\",\n    \"ajax\",\n    \"promise\",\n    \"node\"\n  ],\n  \"author\": \"Matt Zabriskie\",\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/axios/axios/issues\"\n  },\n  \"homepage\": \"https://axios-http.com\",\n  \"devDependencies\": {\n    \"coveralls\": \"^3.0.0\",\n    \"es6-promise\": \"^4.2.4\",\n    \"grunt\": \"^1.3.0\",\n    \"grunt-banner\": \"^0.6.0\",\n    \"grunt-cli\": \"^1.2.0\",\n    \"grunt-contrib-clean\": \"^1.1.0\",\n    \"grunt-contrib-watch\": \"^1.0.0\",\n    \"grunt-eslint\": \"^23.0.0\",\n    \"grunt-karma\": \"^4.0.0\",\n    \"grunt-mocha-test\": \"^0.13.3\",\n    \"grunt-ts\": \"^6.0.0-beta.19\",\n    \"grunt-webpack\": \"^4.0.2\",\n    \"istanbul-instrumenter-loader\": \"^1.0.0\",\n    \"jasmine-core\": \"^2.4.1\",\n    \"karma\": \"^6.3.2\",\n    \"karma-chrome-launcher\": \"^3.1.0\",\n    \"karma-firefox-launcher\": \"^2.1.0\",\n    \"karma-jasmine\": \"^1.1.1\",\n    \"karma-jasmine-ajax\": \"^0.1.13\",\n    \"karma-safari-launcher\": \"^1.0.0\",\n    \"karma-sauce-launcher\": \"^4.3.6\",\n    \"karma-sinon\": \"^1.0.5\",\n    \"karma-sourcemap-loader\": \"^0.3.8\",\n    \"karma-webpack\": \"^4.0.2\",\n    \"load-grunt-tasks\": \"^3.5.2\",\n    \"minimist\": \"^1.2.0\",\n    \"mocha\": \"^8.2.1\",\n    \"sinon\": \"^4.5.0\",\n    \"terser-webpack-plugin\": \"^4.2.3\",\n    \"typescript\": \"^4.0.5\",\n    \"url-search-params\": \"^0.10.0\",\n    \"webpack\": \"^4.44.2\",\n    \"webpack-dev-server\": \"^3.11.0\"\n  },\n  \"browser\": {\n    \"./lib/adapters/http.js\": \"./lib/adapters/xhr.js\"\n  },\n  \"jsdelivr\": \"dist/axios.min.js\",\n  \"unpkg\": \"dist/axios.min.js\",\n  \"typings\": \"./index.d.ts\",\n  \"dependencies\": {\n    \"follow-redirects\": \"^1.14.0\"\n  },\n  \"bundlesize\": [\n    {\n      \"path\": \"./dist/axios.min.js\",\n      \"threshold\": \"5kB\"\n    }\n  ]\n}\n", "'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n", "'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n", "'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n", "'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n", "'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n", "'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n", "'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n", "module.exports = require('./lib/axios');", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Determines whether the current execution context is server-side\n * @returns true if executing server-side\n */\nfunction isServer() {\n    return !(typeof window !== 'undefined' && window.document);\n}\nexports.default = isServer;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTimeoutError = exports.isAbsoluteUrl = exports.resolveUrl = void 0;\nconst is_server_1 = __importDefault(require(\"./is-server\"));\n/**\n * note: encodeURIComponent is available via browser (window) or natively in node.js\n * if you use another js engine for server-side rendering you may not have native encodeURIComponent\n * and would then need to install a package for that functionality\n * @param {ParsedUrlQueryInput} params query string parameters\n * @returns {string} query string\n */\nfunction getQueryString(params) {\n    return Object.keys(params)\n        .map((k) => `${encodeURIComponent(k)}=${encodeURIComponent(String(params[k]))}`)\n        .join('&');\n}\n/**\n * Resolves a base URL that may contain query string parameters and an additional set of query\n * string parameters into a unified string representation.\n * @param {string} urlBase the base URL that may contain query string parameters\n * @param {ParsedUrlQueryInput} params query string parameters\n * @returns a URL string\n * @throws {RangeError} if the provided url is an empty string\n */\nfunction resolveUrl(urlBase, params = {}) {\n    if (!urlBase) {\n        throw new RangeError('url must be a non-empty string');\n    }\n    // This is a better way to work with URLs since it handles different user input\n    // edge cases. This works in Node and all browser except IE11.\n    // https://developer.mozilla.org/en-US/docs/Web/API/URL\n    // TODO: Verify our browser support requirements.\n    if ((0, is_server_1.default)()) {\n        const url = new URL(urlBase);\n        for (const key in params) {\n            if ({}.hasOwnProperty.call(params, key)) {\n                url.searchParams.append(key, String(params[key]));\n            }\n        }\n        const result = url.toString();\n        return result;\n    }\n    const qs = getQueryString(params);\n    const result = urlBase.indexOf('?') !== -1 ? `${urlBase}&${qs}` : `${urlBase}?${qs}`;\n    return result;\n}\nexports.resolveUrl = resolveUrl;\nconst isAbsoluteUrl = (url) => {\n    if (!url) {\n        return false;\n    }\n    if (typeof url !== 'string') {\n        throw new TypeError('Expected a string');\n    }\n    return /^[a-z][a-z0-9+.-]*:/.test(url);\n};\nexports.isAbsoluteUrl = isAbsoluteUrl;\n/**\n * Indicates whether the error is a timeout error\n * @param {unknown} error error\n * @returns {boolean} is timeout error\n */\nconst isTimeoutError = (error) => {\n    var _a;\n    return (error.code === '408' ||\n        error.code === 'ECONNABORTED' ||\n        error.code === 'ETIMEDOUT' ||\n        ((_a = error.response) === null || _a === void 0 ? void 0 : _a.status) === 408 ||\n        error.name === 'AbortError');\n};\nexports.isTimeoutError = isTimeoutError;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryParseEnvValue = void 0;\n/**\n * Method to parse JSON-formatted environment variables\n * @param {string} envValue - can be undefined when providing values via process.env\n * @param {T} defaultValue - default value\n * @returns {T | string} parsed value\n */\nconst tryParseEnvValue = (envValue, defaultValue) => {\n    if (!envValue) {\n        return defaultValue;\n    }\n    if (envValue.startsWith('{') && envValue.endsWith('}')) {\n        try {\n            return JSON.parse(envValue);\n        }\n        catch (error) {\n            console.warn('Parsing of env variable failed');\n            console.warn(`Attempted to parse ${envValue}`);\n            return defaultValue;\n        }\n    }\n    return defaultValue;\n};\nexports.tryParseEnvValue = tryParseEnvValue;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handleEditorAnchors = exports.resetEditorChromes = exports.isEditorActive = exports.HorizonEditor = exports.ChromeRediscoveryGlobalFunctionName = exports.ExperienceEditor = void 0;\nconst is_server_1 = __importDefault(require(\"./is-server\"));\n/**\n * Static utility class for Sitecore Experience Editor\n */\nclass ExperienceEditor {\n    /**\n     * Determines whether the current execution context is within a Experience Editor.\n     * Experience Editor environment can be identified only in the browser\n     * @returns true if executing within a Experience Editor\n     */\n    static isActive() {\n        if ((0, is_server_1.default)()) {\n            return false;\n        }\n        // eslint-disable-next-line\n        const sc = window.Sitecore;\n        return Boolean(sc && sc.PageModes && sc.PageModes.ChromeManager);\n    }\n    static resetChromes() {\n        if ((0, is_server_1.default)()) {\n            return;\n        }\n        window.Sitecore.PageModes.ChromeManager.resetChromes();\n    }\n}\nexports.ExperienceEditor = ExperienceEditor;\n/**\n * Copy of chrome rediscovery contract from Horizon (chrome-rediscovery.contract.ts)\n */\nexports.ChromeRediscoveryGlobalFunctionName = {\n    name: 'Sitecore.Horizon.ResetChromes',\n};\n/**\n * Static utility class for Sitecore Horizon Editor\n */\nclass HorizonEditor {\n    /**\n     * Determines whether the current execution context is within a Horizon Editor.\n     * Horizon Editor environment can be identified only in the browser\n     * @returns true if executing within a Horizon Editor\n     */\n    static isActive() {\n        if ((0, is_server_1.default)()) {\n            return false;\n        }\n        // Horizon will add \"sc_horizon=editor\" query string parameter for the editor and \"sc_horizon=simulator\" for the preview\n        return window.location.search.indexOf('sc_horizon=editor') > -1;\n    }\n    static resetChromes() {\n        if ((0, is_server_1.default)()) {\n            return;\n        }\n        // Reset chromes in Horizon\n        window[exports.ChromeRediscoveryGlobalFunctionName.name] &&\n            window[exports.ChromeRediscoveryGlobalFunctionName.name]();\n    }\n}\nexports.HorizonEditor = HorizonEditor;\n/**\n * Determines whether the current execution context is within a Sitecore editor.\n * Sitecore Editor environment can be identified only in the browser\n * @returns true if executing within a Sitecore editor\n */\nconst isEditorActive = () => {\n    return ExperienceEditor.isActive() || HorizonEditor.isActive();\n};\nexports.isEditorActive = isEditorActive;\n/**\n * Resets Sitecore editor \"chromes\"\n */\nconst resetEditorChromes = () => {\n    if (ExperienceEditor.isActive()) {\n        ExperienceEditor.resetChromes();\n    }\n    else if (HorizonEditor.isActive()) {\n        HorizonEditor.resetChromes();\n    }\n};\nexports.resetEditorChromes = resetEditorChromes;\n/**\n * @description in Experience Editor, anchor tags\n * with both onclick and href attributes will use the href, blocking the onclick from firing.\n * This function makes it so the anchor tags function as intended in the sample when using Experience Editor\n *\n * The Mutation Observer API is used to observe changes to the body, then select all elements with href=\"#\" and an onclick,\n * and replaces the # value with javascript:void(0); which prevents the anchor tag from blocking the onclick event handler.\n * @see Mutation Observer API: https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/MutationObserver\n */\nconst handleEditorAnchors = () => {\n    // The sample gives the href attribute priority over the onclick attribute if both are present, so we must replace\n    // the href attribute to avoid overriding the onclick in Experience Editor\n    if (!window || !ExperienceEditor.isActive()) {\n        return;\n    }\n    const targetNode = document.querySelector('body');\n    const callback = (mutationList) => {\n        mutationList.forEach((mutation) => {\n            const btns = document.querySelectorAll('.scChromeDropDown > a[href=\"#\"], .scChromeDropDown > a[href=\"#!\"], a[onclick]');\n            if (mutation.type === 'childList') {\n                btns.forEach((link) => {\n                    link.href = 'javascript:void(0);';\n                });\n            }\n            return;\n        });\n    };\n    const observer = new MutationObserver(callback);\n    const observerOptions = {\n        childList: true,\n        subtree: true,\n    };\n    if (targetNode) {\n        observer.observe(targetNode, observerOptions);\n    }\n};\nexports.handleEditorAnchors = handleEditorAnchors;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.commandBuilder = exports.mapButtonToCommand = exports.DefaultEditFrameButtons = exports.DefaultEditFrameButton = exports.DefaultEditFrameButtonIds = void 0;\nexports.DefaultEditFrameButtonIds = {\n    edit: '{70C4EED5-D4CD-4D7D-9763-80C42504F5E7}',\n};\nexports.DefaultEditFrameButton = {\n    insert: {\n        header: 'Insert New',\n        icon: '/~/icon/Office/16x16/insert_from_template.png',\n        click: 'webedit:new',\n        tooltip: 'Insert a new item',\n    },\n    editRelatedItem: {\n        header: 'Edit the related item',\n        icon: '/~/icon/Office/16x16/cubes.png',\n        click: 'webedit:open',\n        tooltip: 'Edit the related item in the Content Editor.',\n    },\n    edit: {\n        header: 'Edit Item',\n        icon: '/~/icon/people/16x16/cubes_blue.png',\n        fields: ['Title', 'Text'],\n        tooltip: 'Edit the item fields.',\n    },\n};\nexports.DefaultEditFrameButtons = [\n    exports.DefaultEditFrameButton.editRelatedItem,\n    exports.DefaultEditFrameButton.insert,\n    exports.DefaultEditFrameButton.edit,\n];\n/**\n * @param {WebEditButton | FieldEditButton} button the button to determine the type of\n */\nfunction isWebEditButton(button) {\n    return button.click !== undefined;\n}\n/**\n * Map the edit button types to chrome data\n * @param {EditButtonTypes } button the edit button to build a ChromeCommand for\n * @param {string} itemId the ID of the item the EditFrame is associated with\n * @param {Record<string, string | number | boolean | undefined | null>} frameParameters additional parameters passed to the EditFrame\n */\nfunction mapButtonToCommand(button, itemId, frameParameters) {\n    if (button === '|' || button.isDivider) {\n        return {\n            click: 'chrome:dummy',\n            header: 'Separator',\n            icon: '',\n            isDivider: true,\n            tooltip: null,\n            type: 'separator',\n        };\n    }\n    else if (isWebEditButton(button)) {\n        return commandBuilder(button, itemId, frameParameters);\n    }\n    else {\n        const fieldsString = button.fields.join('|');\n        const editButton = Object.assign({ click: `webedit:fieldeditor(command=${exports.DefaultEditFrameButtonIds.edit},fields=${fieldsString})` }, button);\n        return commandBuilder(editButton, itemId, frameParameters);\n    }\n}\nexports.mapButtonToCommand = mapButtonToCommand;\n/**\n * Build a ChromeCommand from a web edit button. Merging the parameters from the button, frame and id\n * @param {WebEditButton } button the web edit button to build a ChromeCommand for\n * @param {string} itemId the ID of the item the EditFrame is associated with\n * @param {Record<string, string>} frameParameters additional parameters passed to the EditFrame\n */\nfunction commandBuilder(button, itemId, frameParameters) {\n    if (!button.click) {\n        return Object.assign({ isDivider: false, type: button.type || null, header: button.header || '', icon: button.icon || '', tooltip: button.tooltip || '' }, button);\n    }\n    else if (button.click.startsWith('javascript:') || button.click.startsWith('chrome:')) {\n        return Object.assign({ isDivider: false, type: button.type || null, header: button.header || '', icon: button.icon || '', tooltip: button.tooltip || '' }, button);\n    }\n    else {\n        if (!itemId) {\n            return Object.assign({ isDivider: false, type: button.type || null, header: button.header || '', icon: button.icon || '', tooltip: button.tooltip || '' }, button);\n        }\n        else {\n            let message = button.click;\n            let parameters = {};\n            // Extract any parameters already in the command\n            const length = button.click.indexOf('(');\n            if (length >= 0) {\n                const end = button.click.indexOf(')');\n                if (end < 0) {\n                    throw new Error('Message with arguments must end with \")\".');\n                }\n                parameters = button.click\n                    .substring(length + 1, end)\n                    .split(',')\n                    .map((_) => _.trim())\n                    .reduce((previous, current) => {\n                    const parts = current.split('=');\n                    if (parts.length < 2) {\n                        previous[parts[0]] = '';\n                    }\n                    else {\n                        previous[parts[0]] = parts[1];\n                    }\n                    return previous;\n                }, {});\n                message = button.click.substring(0, length);\n            }\n            parameters.id = itemId;\n            if (button.parameters) {\n                Object.keys(button.parameters).forEach((_) => {\n                    var _a;\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    parameters[_] = ((_a = button.parameters[_]) === null || _a === void 0 ? void 0 : _a.toString()) || '';\n                });\n            }\n            if (frameParameters) {\n                Object.keys(frameParameters).forEach((_) => {\n                    var _a;\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    parameters[_] = ((_a = frameParameters[_]) === null || _a === void 0 ? void 0 : _a.toString()) || '';\n                });\n            }\n            const parameterString = Object.keys(parameters)\n                .map((_) => `${_}=${parameters[_]}`)\n                .join(', ');\n            const click = `${message}(${parameterString})`;\n            return {\n                isDivider: false,\n                click: `javascript:Sitecore.PageModes.PageEditor.postRequest('${click}',null,false)`,\n                header: button.header || '',\n                icon: button.icon || '',\n                tooltip: button.tooltip || '',\n                type: button.type || null,\n            };\n        }\n    }\n}\nexports.commandBuilder = commandBuilder;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mapButtonToCommand = exports.DefaultEditFrameButtonIds = exports.DefaultEditFrameButtons = exports.DefaultEditFrameButton = exports.handleEditorAnchors = exports.resetEditorChromes = exports.isEditorActive = exports.HorizonEditor = exports.ExperienceEditor = exports.tryParseEnvValue = exports.isTimeoutError = exports.isAbsoluteUrl = exports.resolveUrl = exports.isServer = void 0;\nvar is_server_1 = require(\"./is-server\");\nObject.defineProperty(exports, \"isServer\", { enumerable: true, get: function () { return __importDefault(is_server_1).default; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"resolveUrl\", { enumerable: true, get: function () { return utils_1.resolveUrl; } });\nObject.defineProperty(exports, \"isAbsoluteUrl\", { enumerable: true, get: function () { return utils_1.isAbsoluteUrl; } });\nObject.defineProperty(exports, \"isTimeoutError\", { enumerable: true, get: function () { return utils_1.isTimeoutError; } });\nvar env_1 = require(\"./env\");\nObject.defineProperty(exports, \"tryParseEnvValue\", { enumerable: true, get: function () { return env_1.tryParseEnvValue; } });\nvar editing_1 = require(\"./editing\");\nObject.defineProperty(exports, \"ExperienceEditor\", { enumerable: true, get: function () { return editing_1.ExperienceEditor; } });\nObject.defineProperty(exports, \"HorizonEditor\", { enumerable: true, get: function () { return editing_1.HorizonEditor; } });\nObject.defineProperty(exports, \"isEditorActive\", { enumerable: true, get: function () { return editing_1.isEditorActive; } });\nObject.defineProperty(exports, \"resetEditorChromes\", { enumerable: true, get: function () { return editing_1.resetEditorChromes; } });\nObject.defineProperty(exports, \"handleEditorAnchors\", { enumerable: true, get: function () { return editing_1.handleEditorAnchors; } });\nvar edit_frame_1 = require(\"./edit-frame\");\nObject.defineProperty(exports, \"DefaultEditFrameButton\", { enumerable: true, get: function () { return edit_frame_1.DefaultEditFrameButton; } });\nObject.defineProperty(exports, \"DefaultEditFrameButtons\", { enumerable: true, get: function () { return edit_frame_1.DefaultEditFrameButtons; } });\nObject.defineProperty(exports, \"DefaultEditFrameButtonIds\", { enumerable: true, get: function () { return edit_frame_1.DefaultEditFrameButtonIds; } });\nObject.defineProperty(exports, \"mapButtonToCommand\", { enumerable: true, get: function () { return edit_frame_1.mapButtonToCommand; } });\n", "\uFEFFmodule.exports = require('./dist/cjs/utils/index');\r\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenderingType = exports.LayoutServicePageState = exports.EDITING_COMPONENT_ID = exports.EDITING_COMPONENT_PLACEHOLDER = void 0;\n/**\n * Static placeholder name used for component rendering\n */\nexports.EDITING_COMPONENT_PLACEHOLDER = 'editing-componentmode-placeholder';\n/**\n * Id of wrapper for component rendering\n */\nexports.EDITING_COMPONENT_ID = 'editing-component';\n/**\n * Layout Service page state enum\n */\nvar LayoutServicePageState;\n(function (LayoutServicePageState) {\n    LayoutServicePageState[\"Preview\"] = \"preview\";\n    LayoutServicePageState[\"Edit\"] = \"edit\";\n    LayoutServicePageState[\"Normal\"] = \"normal\";\n})(LayoutServicePageState = exports.LayoutServicePageState || (exports.LayoutServicePageState = {}));\n/**\n * Editing rendering type\n */\nvar RenderingType;\n(function (RenderingType) {\n    RenderingType[\"Component\"] = \"component\";\n})(RenderingType = exports.RenderingType || (exports.RenderingType = {}));\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChildPlaceholder = exports.getFieldValue = void 0;\n/**\n * @param {ComponentRendering | Fields} renderingOrFields the rendering or fields object to extract the field from\n * @param {string} fieldName the name of the field to extract\n * @param {T} [defaultValue] the default value to return if the field is not defined\n * @returns {Field | T} the field value or the default value if the field is not defined\n */\n// eslint-disable-next-line no-redeclare\nfunction getFieldValue(renderingOrFields, fieldName, defaultValue) {\n    if (!renderingOrFields || !fieldName) {\n        return defaultValue;\n    }\n    const fields = renderingOrFields;\n    const field = fields[fieldName];\n    if (field && typeof field.value !== 'undefined') {\n        return field.value;\n    }\n    const rendering = renderingOrFields;\n    if (!rendering.fields ||\n        !rendering.fields[fieldName] ||\n        typeof rendering.fields[fieldName].value === 'undefined') {\n        return defaultValue;\n    }\n    return rendering.fields[fieldName].value;\n}\nexports.getFieldValue = getFieldValue;\n/**\n * Gets rendering definitions in a given child placeholder under a current rendering.\n * @param {ComponentRendering} rendering\n * @param {string} placeholderName\n * @returns {Array<ComponentRendering | HtmlElementRendering>} child placeholder\n */\nfunction getChildPlaceholder(rendering, placeholderName) {\n    if (!rendering ||\n        !placeholderName ||\n        !rendering.placeholders ||\n        !rendering.placeholders[placeholderName]) {\n        return [];\n    }\n    return rendering.placeholders[placeholderName];\n}\nexports.getChildPlaceholder = getChildPlaceholder;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SITECORE_EDGE_URL_DEFAULT = exports.siteNameError = exports.JSS_MODE = exports.FETCH_WITH = exports.SitecoreTemplateId = void 0;\nvar SitecoreTemplateId;\n(function (SitecoreTemplateId) {\n    // /sitecore/templates/Foundation/JavaScript Services/App\n    SitecoreTemplateId[\"JssApp\"] = \"061cba1554744b918a0617903b102b82\";\n    // /sitecore/templates/System/Dictionary/Dictionary entry\n    SitecoreTemplateId[\"DictionaryEntry\"] = \"6d1cd89719364a3aa511289a94c2a7b1\";\n})(SitecoreTemplateId = exports.SitecoreTemplateId || (exports.SitecoreTemplateId = {}));\nexports.FETCH_WITH = {\n    GRAPHQL: 'GraphQL',\n    REST: 'Rest',\n};\nexports.JSS_MODE = {\n    CONNECTED: 'connected',\n    DISCONNECTED: 'disconnected',\n};\nexports.siteNameError = 'The siteName cannot be empty';\nexports.SITECORE_EDGE_URL_DEFAULT = 'https://edge-platform.sitecorecloud.io';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.traverseComponent = exports.traverseField = exports.traversePlaceholder = exports.getContentStylesheetUrl = exports.getContentStylesheetLink = void 0;\nconst constants_1 = require(\"../constants\");\n/**\n * Regular expression to check if the content styles are used in the field value\n */\nconst CLASS_REGEXP = /class=\".*(\\bck-content\\b).*\"/g;\n/**\n * Get the content styles link to be loaded from the Sitecore Edge Platform\n * @param {LayoutServiceData} layoutData Layout service data\n * @param {string} sitecoreEdgeContextId Sitecore Edge Context ID\n * @param {string} [sitecoreEdgeUrl] Sitecore Edge Platform URL. Default is https://edge-platform.sitecorecloud.io\n * @returns {HTMLLink | null} content styles link, null if no styles are used in layout\n */\nconst getContentStylesheetLink = (layoutData, sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) => {\n    if (!layoutData.sitecore.route)\n        return null;\n    const config = { loadStyles: false };\n    (0, exports.traverseComponent)(layoutData.sitecore.route, config);\n    if (!config.loadStyles)\n        return null;\n    return {\n        href: (0, exports.getContentStylesheetUrl)(sitecoreEdgeContextId, sitecoreEdgeUrl),\n        rel: 'stylesheet',\n    };\n};\nexports.getContentStylesheetLink = getContentStylesheetLink;\nconst getContentStylesheetUrl = (sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) => `${sitecoreEdgeUrl}/v1/files/pages/styles/content-styles.css?sitecoreContextId=${sitecoreEdgeContextId}`;\nexports.getContentStylesheetUrl = getContentStylesheetUrl;\nconst traversePlaceholder = (components, config) => {\n    if (config.loadStyles)\n        return;\n    components.forEach((component) => {\n        (0, exports.traverseComponent)(component, config);\n    });\n};\nexports.traversePlaceholder = traversePlaceholder;\nconst traverseField = (field, config) => {\n    if (!field || config.loadStyles)\n        return;\n    if ('editable' in field && field.editable) {\n        config.loadStyles = CLASS_REGEXP.test(field.editable);\n    }\n    else if ('value' in field && typeof field.value === 'string') {\n        config.loadStyles = CLASS_REGEXP.test(field.value);\n    }\n    else if ('fields' in field) {\n        Object.values(field.fields).forEach((field) => {\n            (0, exports.traverseField)(field, config);\n        });\n    }\n    else if (Array.isArray(field)) {\n        field.forEach((field) => {\n            (0, exports.traverseField)(field, config);\n        });\n    }\n};\nexports.traverseField = traverseField;\nconst traverseComponent = (component, config) => {\n    if (config.loadStyles)\n        return;\n    if ('fields' in component && component.fields) {\n        Object.values(component.fields).forEach((field) => {\n            (0, exports.traverseField)(field, config);\n        });\n    }\n    const placeholders = component.placeholders || {};\n    Object.keys(placeholders).forEach((placeholder) => {\n        (0, exports.traversePlaceholder)(placeholders[placeholder], config);\n    });\n};\nexports.traverseComponent = traverseComponent;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LayoutServiceBase = void 0;\n/**\n * Base abstraction to implement custom layout service\n */\nclass LayoutServiceBase {\n}\nexports.LayoutServiceBase = LayoutServiceBase;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enableDebug = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst is_server_1 = __importDefault(require(\"./utils/is-server\"));\nconst rootNamespace = 'sitecore-jss';\n// On server/node side, allow switching from the built-in\n// `%o` (pretty-print single line) and `%O` (pretty-print multiple line)\n// with a `DEBUG_MULTILINE` environment variable.\nif ((0, is_server_1.default)() &&\n    ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.DEBUG_MULTILINE) === 'true' &&\n    debug_1.default.formatters.o &&\n    debug_1.default.formatters.O) {\n    debug_1.default.formatters.o = debug_1.default.formatters.O;\n}\n/**\n * Enable debug logging dynamically\n * @param {string} namespaces space-separated list of namespaces to enable\n */\nconst enableDebug = (namespaces) => debug_1.default.enable(namespaces);\nexports.enableDebug = enableDebug;\n/**\n * Default Sitecore JSS 'debug' module debuggers. Uses namespace prefix 'sitecore-jss:'.\n * See {@link https://www.npmjs.com/package/debug} for details.\n */\nexports.default = {\n    common: (0, debug_1.default)(`${rootNamespace}:common`),\n    http: (0, debug_1.default)(`${rootNamespace}:http`),\n    layout: (0, debug_1.default)(`${rootNamespace}:layout`),\n    dictionary: (0, debug_1.default)(`${rootNamespace}:dictionary`),\n    editing: (0, debug_1.default)(`${rootNamespace}:editing`),\n    sitemap: (0, debug_1.default)(`${rootNamespace}:sitemap`),\n    multisite: (0, debug_1.default)(`${rootNamespace}:multisite`),\n    robots: (0, debug_1.default)(`${rootNamespace}:robots`),\n    redirects: (0, debug_1.default)(`${rootNamespace}:redirects`),\n    personalize: (0, debug_1.default)(`${rootNamespace}:personalize`),\n    errorpages: (0, debug_1.default)(`${rootNamespace}:errorpages`),\n};\n", "\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AxiosDataFetcher = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nconst debug_1 = __importDefault(require(\"./debug\"));\n/**\n * Determines whether error is AxiosError\n * @param {unknown} error\n */\nconst isAxiosError = (error) => {\n    return error.isAxiosError !== undefined;\n};\n/**\n *  AxisoDataFetcher is a wrapper for axios library.\n */\nclass AxiosDataFetcher {\n    /**\n     * @param {AxiosDataFetcherConfig} dataFetcherConfig Axios data fetcher configuration.\n     * Note `withCredentials` is set to `true` by default in order for Sitecore cookies to\n     * be included in CORS requests (which is necessary for analytics and such).\n     */\n    constructor(dataFetcherConfig = {}) {\n        const { onReq, onRes, onReqError, onResError, debugger: debuggerOverride } = dataFetcherConfig, axiosConfig = __rest(dataFetcherConfig, [\"onReq\", \"onRes\", \"onReqError\", \"onResError\", \"debugger\"]);\n        if (axiosConfig.withCredentials === undefined) {\n            axiosConfig.withCredentials = true;\n        }\n        this.instance = axios_1.default.create(axiosConfig);\n        const debug = debuggerOverride || debug_1.default.http;\n        // Note Axios response interceptors are applied in registered order;\n        // however, request interceptors are REVERSED (https://github.com/axios/axios/issues/1663).\n        // Hence, we're adding our request debug logging first (since we want that performed after any onReq)\n        // and our response debug logging second (since we want that performed after any onRes).\n        if (debug.enabled) {\n            this.instance.interceptors.request.use((config) => {\n                debug('request: %o', config);\n                // passing timestamp for debug logging\n                config.headers.timestamp = Date.now();\n                return config;\n            }, (error) => {\n                debug('request error: %o', isAxiosError(error) ? error.toJSON() : error);\n                return Promise.reject(error);\n            });\n        }\n        if (onReq) {\n            this.instance.interceptors.request.use(onReq, onReqError);\n        }\n        if (onRes) {\n            this.instance.interceptors.response.use(onRes, onResError);\n        }\n        if (debug.enabled) {\n            this.instance.interceptors.response.use((response) => {\n                // Note we're removing redundant properties (already part of request log above) to trim down log entry\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const { request, config } = response, rest = __rest(response, [\"request\", \"config\"]);\n                const duration = Date.now() - config.headers.timestamp;\n                delete response.config.headers.timestamp;\n                debug('response in %dms: %o', duration, rest);\n                return response;\n            }, (error) => {\n                debug('response error: %o', isAxiosError(error) ? error.toJSON() : error);\n                return Promise.reject(error);\n            });\n        }\n    }\n    /**\n     * Implements a data fetcher. @see HttpDataFetcher<T> type for implementation details/notes.\n     * @param {string} url The URL to request; may include query string\n     * @param {unknown} [data] Optional data to POST with the request.\n     * @returns {Promise<AxiosResponse<T>>} response\n     */\n    fetch(url, data) {\n        return this.instance.request({\n            url,\n            method: data ? 'POST' : 'GET',\n            data,\n        });\n    }\n    /**\n     * Perform a GET request\n     * @param {string} url The URL to request; may include query string\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse<T>>} response\n     */\n    get(url, config) {\n        return this.instance.get(url, config);\n    }\n    /**\n     * Perform a HEAD request\n     * @param {string} url The URL to request; may include query string\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    head(url, config) {\n        return this.instance.head(url, config);\n    }\n    /**\n     * Perform a POST request\n     * @param {string} url The URL to request; may include query string\n     * @param {unknown} [data] Data to POST with the request.\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    post(url, data, config) {\n        return this.instance.post(url, data, config);\n    }\n    /**\n     * Perform a PUT request\n     * @param {string} url The URL to request; may include query string\n     * @param {unknown} [data] Data to PUT with the request.\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    put(url, data, config) {\n        return this.instance.put(url, data, config);\n    }\n    /**\n     * Perform a DELETE request\n     * @param {string} url The URL to request; may include query string\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    delete(url, config) {\n        return this.instance.delete(url, config);\n    }\n}\nexports.AxiosDataFetcher = AxiosDataFetcher;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchData = exports.checkStatus = exports.ResponseError = void 0;\nconst utils_1 = require(\"./utils/utils\");\nclass ResponseError extends Error {\n    constructor(message, response) {\n        super(message);\n        Object.setPrototypeOf(this, ResponseError.prototype);\n        this.response = response;\n    }\n}\nexports.ResponseError = ResponseError;\n/**\n * @param {HttpResponse<T>} response the response to check\n * @throws {ResponseError} if response code is not ok\n */\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    }\n    const error = new ResponseError(response.statusText, response);\n    throw error;\n}\nexports.checkStatus = checkStatus;\n/**\n * @param {string} url the URL to request; may include query string\n * @param {HttpDataFetcher} fetcher the fetcher to use to perform the request\n * @param {ParsedUrlQueryInput} params the query string parameters to send with the request\n */\nfunction fetchData(url, fetcher, params = {}) {\n    return fetcher((0, utils_1.resolveUrl)(url, params))\n        .then(checkStatus)\n        .then((response) => {\n        // axios auto-parses JSON responses, don't need to JSON.parse\n        return response.data;\n    });\n}\nexports.fetchData = fetchData;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RestLayoutService = void 0;\nconst layout_service_1 = require(\"./layout-service\");\nconst axios_fetcher_1 = require(\"../axios-fetcher\");\nconst data_fetcher_1 = require(\"../data-fetcher\");\nconst debug_1 = __importDefault(require(\"../debug\"));\n/**\n * Fetch layout data using the Sitecore Layout Service REST API.\n * Uses Axios as the default data fetcher (@see AxiosDataFetcher).\n * @augments LayoutServiceBase\n *\n */\nclass RestLayoutService extends layout_service_1.LayoutServiceBase {\n    constructor(serviceConfig) {\n        super();\n        this.serviceConfig = serviceConfig;\n        /**\n         * Provides fetch options in order to fetch data\n         * @param {string} [language] language will be applied to `sc_lang` param\n         * @returns {FetchOptions} fetch options\n         */\n        this.getFetchParams = (language) => {\n            var _a;\n            return {\n                sc_apikey: this.serviceConfig.apiKey,\n                sc_site: this.serviceConfig.siteName,\n                sc_lang: language || '',\n                tracking: (_a = this.serviceConfig.tracking) !== null && _a !== void 0 ? _a : true,\n            };\n        };\n        /**\n         * Provides default @see AxiosDataFetcher data fetcher\n         * @param {IncomingMessage} [req] Request instance\n         * @param {ServerResponse} [res] Response instance\n         * @returns default fetcher\n         */\n        this.getDefaultFetcher = (req, res) => {\n            const config = {\n                debugger: debug_1.default.layout,\n            };\n            if (req && res) {\n                config.onReq = this.setupReqHeaders(req);\n                config.onRes = this.setupResHeaders(res);\n            }\n            const axiosFetcher = new axios_fetcher_1.AxiosDataFetcher(config);\n            const fetcher = (url, data) => {\n                return axiosFetcher.fetch(url, data);\n            };\n            return fetcher;\n        };\n    }\n    /**\n     * Fetch layout data for an item.\n     * @param {string} itemPath item path to fetch layout data for.\n     * @param {string} [language] the language to fetch layout data for.\n     * @param {IncomingMessage} [req] Request instance\n     * @param {ServerResponse} [res] Response instance\n     * @returns {Promise<LayoutServiceData>} layout service data\n     * @throws {Error} the item with the specified path is not found\n     */\n    fetchLayoutData(itemPath, language, req, res) {\n        const querystringParams = this.getFetchParams(language);\n        debug_1.default.layout('fetching layout data for %s %s %s', itemPath, language, this.serviceConfig.siteName);\n        const fetcher = this.serviceConfig.dataFetcherResolver\n            ? this.serviceConfig.dataFetcherResolver(req, res)\n            : this.getDefaultFetcher(req, res);\n        const fetchUrl = this.resolveLayoutServiceUrl('render');\n        return (0, data_fetcher_1.fetchData)(fetchUrl, fetcher, Object.assign({ item: itemPath }, querystringParams)).catch((error) => {\n            var _a;\n            if (((_a = error.response) === null || _a === void 0 ? void 0 : _a.status) === 404) {\n                // Aligned with response of GraphQL Layout Service in case if layout is not found.\n                // When 404 Rest Layout Service returns\n                // {\n                //   sitecore: {\n                //     context: {\n                //       pageEditing: false,\n                //       language\n                //     },\n                //     route: null\n                //   },\n                // }\n                //\n                return error.response.data;\n            }\n            throw error;\n        });\n    }\n    /**\n     * Fetch layout data for a particular placeholder.\n     * Makes a request to Sitecore Layout Service for the specified placeholder in\n     * a specific route item. Allows you to retrieve rendered data for individual placeholders instead of entire routes.\n     * @param {string} placeholderName the name of the placeholder to fetch layout data for.\n     * @param {string} itemPath the path to the item to fetch layout data for.\n     * @param {string} [language] the language to fetch data for.\n     * @param {IncomingMessage} [req] Request instance\n     * @param {ServerResponse} [res] Response instance\n     * @returns {Promise<PlaceholderData>} placeholder data\n     */\n    fetchPlaceholderData(placeholderName, itemPath, language, req, res) {\n        const querystringParams = this.getFetchParams(language);\n        debug_1.default.layout('fetching placeholder data for %s %s %s %s', placeholderName, itemPath, language, this.serviceConfig.siteName);\n        const fetcher = this.serviceConfig.dataFetcherResolver\n            ? this.serviceConfig.dataFetcherResolver(req, res)\n            : this.getDefaultFetcher(req, res);\n        const fetchUrl = this.resolveLayoutServiceUrl('placeholder');\n        return (0, data_fetcher_1.fetchData)(fetchUrl, fetcher, Object.assign({ placeholderName, item: itemPath }, querystringParams));\n    }\n    /**\n     * Resolves layout service url\n     * @param {string} apiType which layout service API to call ('render' or 'placeholder')\n     * @returns the layout service url\n     */\n    resolveLayoutServiceUrl(apiType) {\n        const { apiHost = '', configurationName = 'jss' } = this.serviceConfig;\n        return `${apiHost}/sitecore/api/layout/${apiType}/${configurationName}`;\n    }\n    /**\n     * Setup request headers\n     * @param {IncomingMessage} req Request instance\n     * @returns {AxiosRequestConfig} axios request config\n     */\n    setupReqHeaders(req) {\n        return (reqConfig) => {\n            debug_1.default.layout('performing request header passing');\n            reqConfig.headers.common = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, reqConfig.headers.common), (req.headers.cookie && { cookie: req.headers.cookie })), (req.headers.referer && { referer: req.headers.referer })), (req.headers['user-agent'] && { 'user-agent': req.headers['user-agent'] })), (req.connection.remoteAddress && { 'X-Forwarded-For': req.connection.remoteAddress }));\n            return reqConfig;\n        };\n    }\n    /**\n     * Setup response headers based on response from layout service\n     * @param {ServerResponse} res Response instance\n     * @returns {AxiosResponse} response\n     */\n    setupResHeaders(res) {\n        return (serverRes) => {\n            debug_1.default.layout('performing response header passing');\n            serverRes.headers['set-cookie'] &&\n                res.setHeader('set-cookie', serverRes.headers['set-cookie']);\n            return serverRes;\n        };\n    }\n}\nexports.RestLayoutService = RestLayoutService;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A helper to assign timeouts to fetch or other promises\n * Useful in nextjs middleware until fetch.signal is fully supported by Vercel edge functions\n */\nclass TimeoutPromise {\n    constructor(timeout) {\n        this.timeout = timeout;\n        this.timeoutId = undefined;\n    }\n    /**\n     * Creates a timeout promise\n     */\n    get start() {\n        return new Promise((_, reject) => {\n            this.timeoutId = setTimeout(() => {\n                const abortError = new Error(`Request timed out, timeout of ${this.timeout}ms is exceeded`);\n                abortError.name = 'AbortError';\n                reject(abortError);\n            }, this.timeout);\n        });\n    }\n    /**\n     * Clears the timeout from timeout promise\n     */\n    clear() {\n        this.timeoutId && clearTimeout(this.timeoutId);\n    }\n}\nexports.default = TimeoutPromise;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GraphQLRequestClient = exports.DefaultRetryStrategy = void 0;\nconst graphql_request_1 = require(\"graphql-request\");\nconst url_parse_1 = __importDefault(require(\"url-parse\"));\nconst debug_1 = __importDefault(require(\"./debug\"));\nconst timeout_promise_1 = __importDefault(require(\"./utils/timeout-promise\"));\n/**\n * Represents a default retry strategy for handling retry attempts in case of specific HTTP status codes.\n * This class implements the RetryStrategy interface and provides methods to determine whether a request\n * should be retried and calculates the delay before the next retry attempt.\n */\nclass DefaultRetryStrategy {\n    /**\n     * @param {Object} options Configurable options for retry mechanism.\n     * @param {number[]} [options.statusCodes] HTTP status codes to trigger retries on. Default is [429].\n     * @param {string[]} [options.errorCodes] Node error codes to trigger retries. Default is ['ECONNRESET', 'ETIMEDOUT', 'EPROTO'].\n     * @param {number} [options.factor] Factor by which the delay increases with each retry attempt. Default is 2.\n     */\n    constructor(options = {}) {\n        this.statusCodes = options.statusCodes || [429];\n        this.errorCodes = options.errorCodes || ['ECONNRESET', 'ETIMEDOUT', 'EPROTO'];\n        this.factor = options.factor || 2;\n    }\n    shouldRetry(error, attempt, retries) {\n        var _a;\n        const isStatusCodeError = ((_a = error.response) === null || _a === void 0 ? void 0 : _a.status) !== undefined && this.statusCodes.includes(error.response.status);\n        const isNodeErrorCode = error.code !== undefined && this.errorCodes.includes(error.code);\n        return retries > 0 && attempt <= retries && (isStatusCodeError || isNodeErrorCode);\n    }\n    getDelay(error, attempt) {\n        var _a;\n        const rawHeaders = (_a = error.response) === null || _a === void 0 ? void 0 : _a.headers;\n        const retryAfterHeader = rawHeaders === null || rawHeaders === void 0 ? void 0 : rawHeaders.get('Retry-After');\n        if (retryAfterHeader !== null &&\n            retryAfterHeader !== undefined &&\n            retryAfterHeader.trim() !== '') {\n            const delaySeconds = Number.parseFloat(retryAfterHeader);\n            return delaySeconds * 1000;\n        }\n        else {\n            return Math.pow(this.factor, attempt - 1) * 1000;\n        }\n    }\n}\nexports.DefaultRetryStrategy = DefaultRetryStrategy;\n/**\n * A GraphQL client for Sitecore APIs that uses the 'graphql-request' library.\n * https://github.com/prisma-labs/graphql-request\n */\nclass GraphQLRequestClient {\n    /**\n     * Provides ability to execute graphql query using given `endpoint`\n     * @param {string} endpoint The Graphql endpoint\n     * @param {GraphQLRequestClientConfig} [clientConfig] GraphQL request client configuration.\n     */\n    constructor(endpoint, clientConfig = {}) {\n        var _a;\n        this.endpoint = endpoint;\n        this.headers = {};\n        if (clientConfig.apiKey) {\n            this.headers.sc_apikey = clientConfig.apiKey;\n        }\n        if (!endpoint || !(0, url_parse_1.default)(endpoint).hostname) {\n            throw new Error(`Invalid GraphQL endpoint '${endpoint}'. Verify that 'layoutServiceHost' property in 'scjssconfig.json' file or appropriate environment variable is set`);\n        }\n        this.timeout = clientConfig.timeout;\n        this.retries = (_a = clientConfig.retries) !== null && _a !== void 0 ? _a : 3;\n        this.retryStrategy =\n            clientConfig.retryStrategy ||\n                new DefaultRetryStrategy({ statusCodes: [429, 502, 503, 504, 520, 521, 522, 523, 524] });\n        this.client = new graphql_request_1.GraphQLClient(endpoint, {\n            headers: this.headers,\n            fetch: clientConfig.fetch,\n        });\n        this.debug = clientConfig.debugger || debug_1.default.http;\n    }\n    /**\n     * Factory method for creating a GraphQLRequestClientFactory.\n     * @param {Object} config - client configuration options.\n     * @param {string} config.endpoint - endpoint\n     * @param {string} [config.apiKey] - apikey\n     */\n    static createClientFactory({ endpoint, apiKey, }) {\n        return (config = {}) => new GraphQLRequestClient(endpoint, Object.assign(Object.assign({}, config), { apiKey }));\n    }\n    /**\n     * Execute graphql request\n     * @param {string | DocumentNode} query graphql query\n     * @param {Object} variables graphql variables\n     */\n    request(query, variables) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let attempt = 1;\n            const retryer = () => __awaiter(this, void 0, void 0, function* () {\n                // Note we don't have access to raw request/response with graphql-request\n                // (or nice hooks like we have with Axios), but we should log whatever we have.\n                this.debug('request: %o', {\n                    url: this.endpoint,\n                    headers: this.headers,\n                    query,\n                    variables,\n                });\n                const startTimestamp = Date.now();\n                const fetchWithOptionalTimeout = [this.client.request(query, variables)];\n                if (this.timeout) {\n                    this.abortTimeout = new timeout_promise_1.default(this.timeout);\n                    fetchWithOptionalTimeout.push(this.abortTimeout.start);\n                }\n                return Promise.race(fetchWithOptionalTimeout).then((data) => {\n                    var _a;\n                    (_a = this.abortTimeout) === null || _a === void 0 ? void 0 : _a.clear();\n                    this.debug('response in %dms: %o', Date.now() - startTimestamp, data);\n                    return Promise.resolve(data);\n                }, (error) => __awaiter(this, void 0, void 0, function* () {\n                    var _a, _b;\n                    (_a = this.abortTimeout) === null || _a === void 0 ? void 0 : _a.clear();\n                    this.debug('response error: %o', error.response || error.message || error);\n                    const status = ((_b = error.response) === null || _b === void 0 ? void 0 : _b.status) || error.code;\n                    const shouldRetry = this.retryStrategy.shouldRetry(error, attempt, this.retries);\n                    if (shouldRetry) {\n                        const delayMs = this.retryStrategy.getDelay(error, attempt);\n                        this.debug('Error: %s. Retrying in %dms (attempt %d).', status, delayMs, attempt);\n                        attempt++;\n                        return new Promise((resolve) => setTimeout(resolve, delayMs)).then(retryer);\n                    }\n                    else {\n                        return Promise.reject(error);\n                    }\n                }));\n            });\n            return retryer();\n        });\n    }\n}\nexports.GraphQLRequestClient = GraphQLRequestClient;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GraphQLLayoutService = void 0;\nconst layout_service_1 = require(\"./layout-service\");\nconst graphql_request_client_1 = require(\"../graphql-request-client\");\nconst debug_1 = __importDefault(require(\"../debug\"));\n/**\n * Service that fetch layout data using Sitecore's GraphQL API.\n * @augments LayoutServiceBase\n * @mixes GraphQLRequestClient\n */\nclass GraphQLLayoutService extends layout_service_1.LayoutServiceBase {\n    /**\n     * Fetch layout data using the Sitecore GraphQL endpoint.\n     * @param {GraphQLLayoutServiceConfig} serviceConfig configuration\n     */\n    constructor(serviceConfig) {\n        super();\n        this.serviceConfig = serviceConfig;\n        this.graphQLClient = this.getGraphQLClient();\n    }\n    /**\n     * Fetch layout data for an item.\n     * @param {string} itemPath item path to fetch layout data for.\n     * @param {string} [language] the language to fetch layout data for.\n     * @returns {Promise<LayoutServiceData>} layout service data\n     */\n    fetchLayoutData(itemPath, language) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const query = this.getLayoutQuery(itemPath, language);\n            debug_1.default.layout('fetching layout data for %s %s %s', itemPath, language, this.serviceConfig.siteName);\n            const data = yield this.graphQLClient.request(query);\n            // If `rendered` is empty -> not found\n            return (((_b = (_a = data === null || data === void 0 ? void 0 : data.layout) === null || _a === void 0 ? void 0 : _a.item) === null || _b === void 0 ? void 0 : _b.rendered) || {\n                sitecore: { context: { pageEditing: false, language }, route: null },\n            });\n        });\n    }\n    /**\n     * Gets a GraphQL client that can make requests to the API. Uses graphql-request as the default\n     * library for fetching graphql data (@see GraphQLRequestClient). Override this method if you\n     * want to use something else.\n     * @returns {GraphQLClient} implementation\n     */\n    getGraphQLClient() {\n        if (!this.serviceConfig.endpoint) {\n            if (!this.serviceConfig.clientFactory) {\n                throw new Error('You should provide either an endpoint and apiKey, or a clientFactory.');\n            }\n            return this.serviceConfig.clientFactory({\n                debugger: debug_1.default.layout,\n                retries: this.serviceConfig.retries,\n                retryStrategy: this.serviceConfig.retryStrategy,\n            });\n        }\n        return new graphql_request_client_1.GraphQLRequestClient(this.serviceConfig.endpoint, {\n            apiKey: this.serviceConfig.apiKey,\n            debugger: debug_1.default.layout,\n            retries: this.serviceConfig.retries,\n            retryStrategy: this.serviceConfig.retryStrategy,\n        });\n    }\n    /**\n     * Returns GraphQL Layout query\n     * @param {string} itemPath page route\n     * @param {string} [language] language\n     * @returns {string} GraphQL query\n     */\n    getLayoutQuery(itemPath, language) {\n        const languageVariable = language ? `, language:\"${language}\"` : '';\n        const layoutQuery = this.serviceConfig.formatLayoutQuery\n            ? this.serviceConfig.formatLayoutQuery(this.serviceConfig.siteName, itemPath, language)\n            : `layout(site:\"${this.serviceConfig.siteName}\", routePath:\"${itemPath}\"${languageVariable})`;\n        return `query {\r\n      ${layoutQuery}{\r\n        item {\r\n          rendered\r\n        }\r\n      }\r\n    }`;\n    }\n}\nexports.GraphQLLayoutService = GraphQLLayoutService;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getStylesheetUrl = exports.getComponentLibraryStylesheetLinks = void 0;\nconst _1 = require(\".\");\nconst constants_1 = require(\"../constants\");\n/**\n * Pattern for library ids\n * @example -library--foo\n */\nconst STYLES_LIBRARY_ID_REGEX = /-library--([^\\s]+)/;\n/**\n * Walks through rendering tree and returns list of links of all FEAAS, BYOC or SXA Component Library Stylesheets that are used\n * @param {LayoutServiceData} layoutData Layout service data\n * @param {string} sitecoreEdgeContextId Sitecore Edge Context ID\n * @param {string} [sitecoreEdgeUrl] Sitecore Edge Platform URL. Default is https://edge-platform.sitecorecloud.io\n * @returns {HTMLLink[]} library stylesheet links\n */\nfunction getComponentLibraryStylesheetLinks(layoutData, sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) {\n    const ids = new Set();\n    if (!layoutData.sitecore.route)\n        return [];\n    traverseComponent(layoutData.sitecore.route, ids);\n    return [...ids].map((id) => ({\n        href: (0, exports.getStylesheetUrl)(id, sitecoreEdgeContextId, sitecoreEdgeUrl),\n        rel: 'stylesheet',\n    }));\n}\nexports.getComponentLibraryStylesheetLinks = getComponentLibraryStylesheetLinks;\nconst getStylesheetUrl = (id, sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) => {\n    return `${sitecoreEdgeUrl}/v1/files/components/styles/${id}.css?sitecoreContextId=${sitecoreEdgeContextId}`;\n};\nexports.getStylesheetUrl = getStylesheetUrl;\n/**\n * Traverse placeholder and components to add library ids\n * @param {Array<ComponentRendering | HtmlElementRendering>} components\n * @param {Set<string>} ids library ids\n */\nconst traversePlaceholder = (components, ids) => {\n    components.map((component) => {\n        const rendering = component;\n        return traverseComponent(rendering, ids);\n    });\n};\n/**\n * Traverse component and children to add library ids\n * @param {RouteData | ComponentRendering | HtmlElementRendering} component component data\n * @param {Set<string>} ids library ids\n */\nconst traverseComponent = (component, ids) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    let libraryId = undefined;\n    if ('params' in component && component.params) {\n        // LibraryID in css class name takes precedence over LibraryId attribute\n        libraryId =\n            ((_b = (_a = component.params.CSSStyles) === null || _a === void 0 ? void 0 : _a.match(STYLES_LIBRARY_ID_REGEX)) === null || _b === void 0 ? void 0 : _b[1]) ||\n                ((_d = (_c = component.params.Styles) === null || _c === void 0 ? void 0 : _c.match(STYLES_LIBRARY_ID_REGEX)) === null || _d === void 0 ? void 0 : _d[1]) ||\n                component.params.LibraryId ||\n                undefined;\n    }\n    // if params are empty we try to fall back to data source or attributes\n    if (!libraryId && 'fields' in component && component.fields) {\n        libraryId =\n            ((_e = (0, _1.getFieldValue)(component.fields, 'CSSStyles', '').match(STYLES_LIBRARY_ID_REGEX)) === null || _e === void 0 ? void 0 : _e[1]) ||\n                ((_f = (0, _1.getFieldValue)(component.fields, 'Styles', '').match(STYLES_LIBRARY_ID_REGEX)) === null || _f === void 0 ? void 0 : _f[1]) ||\n                (0, _1.getFieldValue)(component.fields, 'LibraryId', '') ||\n                undefined;\n    }\n    // HTMLRendering its class attribute\n    if (!libraryId && 'attributes' in component && typeof component.attributes.class === 'string') {\n        libraryId = (_g = component.attributes.class.match(STYLES_LIBRARY_ID_REGEX)) === null || _g === void 0 ? void 0 : _g[1];\n    }\n    if (libraryId) {\n        ids.add(libraryId);\n    }\n    const placeholders = component.placeholders || {};\n    Object.keys(placeholders).forEach((placeholder) => {\n        traversePlaceholder(placeholders[placeholder], ids);\n    });\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getComponentLibraryStylesheetLinks = exports.GraphQLLayoutService = exports.RestLayoutService = exports.getContentStylesheetLink = exports.getChildPlaceholder = exports.getFieldValue = exports.EDITING_COMPONENT_ID = exports.EDITING_COMPONENT_PLACEHOLDER = exports.RenderingType = exports.LayoutServicePageState = void 0;\n// layout\nvar models_1 = require(\"./models\");\nObject.defineProperty(exports, \"LayoutServicePageState\", { enumerable: true, get: function () { return models_1.LayoutServicePageState; } });\nObject.defineProperty(exports, \"RenderingType\", { enumerable: true, get: function () { return models_1.RenderingType; } });\nObject.defineProperty(exports, \"EDITING_COMPONENT_PLACEHOLDER\", { enumerable: true, get: function () { return models_1.EDITING_COMPONENT_PLACEHOLDER; } });\nObject.defineProperty(exports, \"EDITING_COMPONENT_ID\", { enumerable: true, get: function () { return models_1.EDITING_COMPONENT_ID; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"getFieldValue\", { enumerable: true, get: function () { return utils_1.getFieldValue; } });\nObject.defineProperty(exports, \"getChildPlaceholder\", { enumerable: true, get: function () { return utils_1.getChildPlaceholder; } });\nvar content_styles_1 = require(\"./content-styles\");\nObject.defineProperty(exports, \"getContentStylesheetLink\", { enumerable: true, get: function () { return content_styles_1.getContentStylesheetLink; } });\nvar rest_layout_service_1 = require(\"./rest-layout-service\");\nObject.defineProperty(exports, \"RestLayoutService\", { enumerable: true, get: function () { return rest_layout_service_1.RestLayoutService; } });\nvar graphql_layout_service_1 = require(\"./graphql-layout-service\");\nObject.defineProperty(exports, \"GraphQLLayoutService\", { enumerable: true, get: function () { return graphql_layout_service_1.GraphQLLayoutService; } });\nvar themes_1 = require(\"./themes\");\nObject.defineProperty(exports, \"getComponentLibraryStylesheetLinks\", { enumerable: true, get: function () { return themes_1.getComponentLibraryStylesheetLinks; } });\n", "\uFEFFmodule.exports = require('./dist/cjs/layout/index');\r\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.trackEvent = exports.checkStatus = void 0;\nconst utils_1 = require(\"./../utils\");\nclass ResponseError extends Error {\n    constructor(message, response) {\n        super(message);\n        Object.setPrototypeOf(this, ResponseError.prototype);\n        this.response = response;\n    }\n}\n/**\n * @param {HttpResponse<T>} response response from fetch\n * @returns {HttpResponse<T>} response\n */\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    }\n    const error = new ResponseError(response.statusText, response);\n    throw error;\n}\nexports.checkStatus = checkStatus;\n/**\n * Note: axios needs to use `withCredentials: true` in order for Sitecore cookies to be included in CORS requests\n * which is necessary for analytics and such\n * @param {string} url url to fetch\n * @param {unknown[]} data data to send\n * @param {HttpDataFetcher<T>} fetcher data fetcher\n * @param {querystring.ParsedUrlQueryInput} params additional params to send\n */\nfunction fetchData(url, data, fetcher, params = {}) {\n    return fetcher((0, utils_1.resolveUrl)(url, params), data)\n        .then(checkStatus)\n        .then((response) => {\n        // axios auto-parses JSON responses, don't need to JSON.parse\n        return response.data;\n    });\n}\n/**\n * Resolve tracking endpoint url\n * @param {TrackingRequestOptions} options options for the tracking service\n * @returns {string} tracking api url\n */\nfunction resolveTrackingUrl(options) {\n    const { host = '', serviceUrl = '/sitecore/api/jss/track', action = 'event' } = options;\n    return `${host}${serviceUrl}/${action}`;\n}\n/**\n * Makes a request to Sitecore Layout Service for the specified route item path.\n * @param {Array<EventInstance | GoalInstance | OutcomeInstance | CampaignInstance | PageViewInstance>} events events to send\n * @param {TrackingRequestOptions} options options for the tracking service\n * @returns {Promise<void>} void\n */\nfunction trackEvent(events, options) {\n    const { querystringParams } = options;\n    if (!options.test && (0, utils_1.isServer)()) {\n        // do nothing for SSR, only track events when a browser requests it\n        return Promise.resolve();\n    }\n    if (!Array.isArray(events)) {\n        events = [events];\n    }\n    const fetchUrl = resolveTrackingUrl(options);\n    return fetchData(fetchUrl, events, options.fetcher, querystringParams);\n}\nexports.trackEvent = trackEvent;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.trackingApi = void 0;\nconst trackingApi = __importStar(require(\"./trackingApi\"));\nexports.trackingApi = trackingApi;\n", "\uFEFFmodule.exports = require('./dist/cjs/tracking/index');\r\n", "'use strict';\n\nfunction Cache () {\n  var _cache = Object.create(null);\n  var _hitCount = 0;\n  var _missCount = 0;\n  var _size = 0;\n  var _debug = false;\n\n  this.put = function(key, value, time, timeoutCallback) {\n    if (_debug) {\n      console.log('caching: %s = %j (@%s)', key, value, time);\n    }\n\n    if (typeof time !== 'undefined' && (typeof time !== 'number' || isNaN(time) || time <= 0)) {\n      throw new Error('Cache timeout must be a positive number');\n    } else if (typeof timeoutCallback !== 'undefined' && typeof timeoutCallback !== 'function') {\n      throw new Error('Cache timeout callback must be a function');\n    }\n\n    var oldRecord = _cache[key];\n    if (oldRecord) {\n      clearTimeout(oldRecord.timeout);\n    } else {\n      _size++;\n    }\n\n    var record = {\n      value: value,\n      expire: time + Date.now()\n    };\n\n    if (!isNaN(record.expire)) {\n      record.timeout = setTimeout(function() {\n        _del(key);\n        if (timeoutCallback) {\n          timeoutCallback(key, value);\n        }\n      }.bind(this), time);\n    }\n\n    _cache[key] = record;\n\n    return value;\n  };\n\n  this.del = function(key) {\n    var canDelete = true;\n\n    var oldRecord = _cache[key];\n    if (oldRecord) {\n      clearTimeout(oldRecord.timeout);\n      if (!isNaN(oldRecord.expire) && oldRecord.expire < Date.now()) {\n        canDelete = false;\n      }\n    } else {\n      canDelete = false;\n    }\n\n    if (canDelete) {\n      _del(key);\n    }\n\n    return canDelete;\n  };\n\n  function _del(key){\n    _size--;\n    delete _cache[key];\n  }\n\n  this.clear = function() {\n    for (var key in _cache) {\n      clearTimeout(_cache[key].timeout);\n    }\n    _size = 0;\n    _cache = Object.create(null);\n    if (_debug) {\n      _hitCount = 0;\n      _missCount = 0;\n    }\n  };\n\n  this.get = function(key) {\n    var data = _cache[key];\n    if (typeof data != \"undefined\") {\n      if (isNaN(data.expire) || data.expire >= Date.now()) {\n        if (_debug) _hitCount++;\n        return data.value;\n      } else {\n        // free some space\n        if (_debug) _missCount++;\n        _size--;\n        delete _cache[key];\n      }\n    } else if (_debug) {\n      _missCount++;\n    }\n    return null;\n  };\n\n  this.size = function() {\n    return _size;\n  };\n\n  this.memsize = function() {\n    var size = 0,\n      key;\n    for (key in _cache) {\n      size++;\n    }\n    return size;\n  };\n\n  this.debug = function(bool) {\n    _debug = bool;\n  };\n\n  this.hits = function() {\n    return _hitCount;\n  };\n\n  this.misses = function() {\n    return _missCount;\n  };\n\n  this.keys = function() {\n    return Object.keys(_cache);\n  };\n\n  this.exportJson = function() {\n    var plainJsCache = {};\n\n    // Discard the `timeout` property.\n    // Note: JSON doesn't support `NaN`, so convert it to `'NaN'`.\n    for (var key in _cache) {\n      var record = _cache[key];\n      plainJsCache[key] = {\n        value: record.value,\n        expire: record.expire || 'NaN',\n      };\n    }\n\n    return JSON.stringify(plainJsCache);\n  };\n\n  this.importJson = function(jsonToImport, options) {\n    var cacheToImport = JSON.parse(jsonToImport);\n    var currTime = Date.now();\n\n    var skipDuplicates = options && options.skipDuplicates;\n\n    for (var key in cacheToImport) {\n      if (cacheToImport.hasOwnProperty(key)) {\n        if (skipDuplicates) {\n          var existingRecord = _cache[key];\n          if (existingRecord) {\n            if (_debug) {\n              console.log('Skipping duplicate imported key \\'%s\\'', key);\n            }\n            continue;\n          }\n        }\n\n        var record = cacheToImport[key];\n\n        // record.expire could be `'NaN'` if no expiry was set.\n        // Try to subtract from it; a string minus a number is `NaN`, which is perfectly fine here.\n        var remainingTime = record.expire - currTime;\n\n        if (remainingTime <= 0) {\n          // Delete any record that might exist with the same key, since this key is expired.\n          this.del(key);\n          continue;\n        }\n\n        // Remaining time must now be either positive or `NaN`,\n        // but `put` will throw an error if we try to give it `NaN`.\n        remainingTime = remainingTime > 0 ? remainingTime : undefined;\n\n        this.put(key, record.value, remainingTime);\n      }\n    }\n\n    return this.size();\n  };\n}\n\nmodule.exports = new Cache();\nmodule.exports.Cache = Cache;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MemoryCacheClient = void 0;\nconst memory_cache_1 = require(\"memory-cache\");\n/**\n * Default cache configuration\n */\nconst DEFAULTS = Object.freeze({\n    cacheTimeout: 60,\n    cacheEnabled: true,\n});\n/**\n * A cache client that uses the 'memory-cache' library (https://github.com/ptarjan/node-cache).\n * This class is meant to be extended or used as a mixin; it's not meant to be used directly.\n * @template T The type of data being cached.\n * @mixin\n */\nclass MemoryCacheClient {\n    /**\n     * Initializes a new instance of @see MemoryCacheClient using the provided @see CacheOptions\n     * @param {CacheOptions} options Configuration options\n     */\n    constructor(options) {\n        var _a;\n        this.options = options;\n        this.cache = new memory_cache_1.Cache();\n        this.options.cacheTimeout = ((_a = this.options.cacheTimeout) !== null && _a !== void 0 ? _a : DEFAULTS.cacheTimeout) * 1000;\n        if (this.options.cacheEnabled === undefined) {\n            this.options.cacheEnabled = DEFAULTS.cacheEnabled;\n        }\n    }\n    /**\n     * Retrieves a value from the cache.\n     * @template T The type of data being cached.\n     * @param {string} key The cache key.\n     * @returns The cache value as {T}, or null if the specified key is not found in the cache.\n     */\n    getCacheValue(key) {\n        return this.options.cacheEnabled ? this.cache.get(key) : null;\n    }\n    /**\n     * Adds a value to the cache for the specified cache key.\n     * @template T The type of data being cached.\n     * @param {string} key The cache key.\n     * @param {T} value The value to cache.\n     * @returns The value added to the cache.\n     */\n    setCacheValue(key, value) {\n        return this.options.cacheEnabled\n            ? this.cache.put(key, value, this.options.cacheTimeout)\n            : value;\n    }\n}\nexports.MemoryCacheClient = MemoryCacheClient;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DictionaryServiceBase = void 0;\nconst cache_client_1 = require(\"../cache-client\");\n/**\n * Base implementation of @see DictionaryService that handles caching dictionary values\n */\nclass DictionaryServiceBase {\n    /**\n     * Initializes a new instance of @see DictionaryService using the provided @see CacheOptions\n     * @param {CacheOptions} options Configuration options\n     */\n    constructor(options) {\n        this.options = options;\n        this.cache = this.getCacheClient();\n    }\n    /**\n     * Caches a @see DictionaryPhrases value for the specified cache key.\n     * @param {string} key The cache key.\n     * @param {DictionaryPhrases} value The value to cache.\n     * @returns The value added to the cache.\n     * @mixes CacheClient<DictionaryPhrases>\n     */\n    setCacheValue(key, value) {\n        return this.cache.setCacheValue(key, value);\n    }\n    /**\n     * Retrieves a @see DictionaryPhrases value from the cache.\n     * @param {string} key The cache key.\n     * @returns The @see DictionaryPhrases value, or null if the specified key is not found in the cache.\n     */\n    getCacheValue(key) {\n        return this.cache.getCacheValue(key);\n    }\n    /**\n     * Gets a cache client that can cache data. Uses memory-cache as the default\n     * library for caching (@see MemoryCacheClient). Override this method if you\n     * want to use something else.\n     * @returns {CacheClient} implementation\n     */\n    getCacheClient() {\n        return new cache_client_1.MemoryCacheClient(this.options);\n    }\n}\nexports.DictionaryServiceBase = DictionaryServiceBase;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAppRootId = exports.languageError = exports.siteNameError = void 0;\nconst constants_1 = require(\"../constants\");\n/** @private */\nexports.siteNameError = 'The site name must be a non-empty string';\n/** @private */\nexports.languageError = 'The language must be a non-empty string';\n/*\n * GraphQL query that returns the ID of the root item of the specified site and language\n */\nconst appRootQuery = /* GraphQL */ `\r\n  query AppRootQuery($jssAppTemplateId: String!, $siteName: String!, $language: String!) {\r\n    layout(site: $siteName, routePath: \"/\", language: $language) {\r\n      homePage: item {\r\n        rootItem: ancestors(includeTemplateIDs: [$jssAppTemplateId]) {\r\n          id\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\n/**\n * Gets the ID of the JSS App root item for the specified site and language.\n * @param {GraphQLClient} client that fetches data from a GraphQL endpoint.\n * @param {string} siteName the name of the Sitecore site.\n * @param {string} language the item language version.\n * @param {string} [jssAppTemplateId] optional template ID of the app root item. If not\n * specified, the ID of the \"/sitecore/templates/Foundation/JavaScript Services/App\"\n * item is used.\n * @returns the root item ID of the JSS App in Sitecore. Returns null if the app root item is not found.\n * @throws {RangeError} if a valid site name value is not provided.\n * @throws {RangeError} if a valid language value is not provided.\n * @summary This function intentionally avoids throwing an error if a root item is not found,\n * leaving that decision up to implementations.\n */\nfunction getAppRootId(client, siteName, language, jssAppTemplateId) {\n    var _a, _b, _c, _d, _e, _f;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!siteName) {\n            throw new RangeError(exports.siteNameError);\n        }\n        if (!language) {\n            throw new RangeError(exports.languageError);\n        }\n        let fetchResponse = yield client.request(appRootQuery, {\n            jssAppTemplateId: jssAppTemplateId || constants_1.SitecoreTemplateId.JssApp,\n            siteName,\n            language,\n        });\n        if (!((_c = (_b = (_a = fetchResponse === null || fetchResponse === void 0 ? void 0 : fetchResponse.layout) === null || _a === void 0 ? void 0 : _a.homePage) === null || _b === void 0 ? void 0 : _b.rootItem) === null || _c === void 0 ? void 0 : _c.length) && language !== 'en') {\n            fetchResponse = yield client.request(appRootQuery, {\n                jssAppTemplateId: jssAppTemplateId || constants_1.SitecoreTemplateId.JssApp,\n                siteName,\n                language: 'en',\n            });\n        }\n        if (!((_f = (_e = (_d = fetchResponse === null || fetchResponse === void 0 ? void 0 : fetchResponse.layout) === null || _d === void 0 ? void 0 : _d.homePage) === null || _e === void 0 ? void 0 : _e.rootItem) === null || _f === void 0 ? void 0 : _f.length)) {\n            return null;\n        }\n        return fetchResponse.layout.homePage.rootItem[0].id;\n    });\n}\nexports.getAppRootId = getAppRootId;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchQueryService = void 0;\n/**\n * Provides functionality for performing GraphQL 'search' operations, including handling pagination.\n * This class is meant to be extended or used as a mixin; it's not meant to be used directly.\n * @template T The type of objects being requested.\n * @mixin\n */\nclass SearchQueryService {\n    /**\n     * Creates an instance of search query service.\n     * @param {GraphQLClient} client that fetches data from a GraphQL endpoint.\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * 1. Validates mandatory search query arguments\n     * 2. Executes search query with pagination\n     * 3. Aggregates pagination results into a single result-set.\n     * @template T The type of objects being requested.\n     * @param {string | DocumentNode} query the search query.\n     * @param {SearchQueryVariables} args search query arguments.\n     * @returns {T[]} array of result objects.\n     * @throws {RangeError} if a valid root item ID is not provided.\n     * @throws {RangeError} if the provided language(s) is(are) not valid.\n     */\n    fetch(query, args) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!args.rootItemId) {\n                throw new RangeError('\"rootItemId\" and \"language\" must be non-empty strings');\n            }\n            if (!args.language) {\n                throw new RangeError('\"rootItemId\" and \"language\" must be non-empty strings');\n            }\n            let results = [];\n            let hasNext = true;\n            let after = '';\n            while (hasNext) {\n                const fetchResponse = yield this.client.request(query, Object.assign(Object.assign({}, args), { after }));\n                results = results.concat((_a = fetchResponse === null || fetchResponse === void 0 ? void 0 : fetchResponse.search) === null || _a === void 0 ? void 0 : _a.results);\n                hasNext = fetchResponse.search.pageInfo.hasNext;\n                after = fetchResponse.search.pageInfo.endCursor;\n            }\n            return results;\n        });\n    }\n}\nexports.SearchQueryService = SearchQueryService;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEdgeProxyContentUrl = void 0;\nconst constants_1 = require(\"../constants\");\n/**\n * Generates a URL for accessing Sitecore Edge Platform Content using the provided endpoint and context ID.\n * @param {string} sitecoreEdgeContextId - The unique context id.\n * @param {string} [sitecoreEdgeUrl] - The base endpoint URL for the Edge Platform. Default is https://edge-platform.sitecorecloud.io\n * @returns {string} The complete URL for accessing content through the Edge Platform.\n */\nconst getEdgeProxyContentUrl = (sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) => `${sitecoreEdgeUrl}/v1/content/api/graphql/v1?sitecoreContextId=${sitecoreEdgeContextId}`;\nexports.getEdgeProxyContentUrl = getEdgeProxyContentUrl;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEdgeProxyContentUrl = exports.SearchQueryService = exports.GraphQLRequestClient = exports.DefaultRetryStrategy = exports.getAppRootId = void 0;\nvar app_root_query_1 = require(\"./app-root-query\");\nObject.defineProperty(exports, \"getAppRootId\", { enumerable: true, get: function () { return app_root_query_1.getAppRootId; } });\nvar graphql_request_client_1 = require(\"./../graphql-request-client\");\nObject.defineProperty(exports, \"DefaultRetryStrategy\", { enumerable: true, get: function () { return graphql_request_client_1.DefaultRetryStrategy; } });\nObject.defineProperty(exports, \"GraphQLRequestClient\", { enumerable: true, get: function () { return graphql_request_client_1.GraphQLRequestClient; } });\nvar search_service_1 = require(\"./search-service\");\nObject.defineProperty(exports, \"SearchQueryService\", { enumerable: true, get: function () { return search_service_1.SearchQueryService; } });\nvar graphql_edge_proxy_1 = require(\"./graphql-edge-proxy\");\nObject.defineProperty(exports, \"getEdgeProxyContentUrl\", { enumerable: true, get: function () { return graphql_edge_proxy_1.getEdgeProxyContentUrl; } });\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GraphQLDictionaryService = exports.queryError = void 0;\nconst graphql_request_client_1 = require(\"../graphql-request-client\");\nconst constants_1 = require(\"../constants\");\nconst dictionary_service_1 = require(\"./dictionary-service\");\nconst graphql_1 = require(\"../graphql\");\nconst debug_1 = __importDefault(require(\"../debug\"));\n/** @private */\nexports.queryError = 'Valid value for rootItemId not provided and failed to auto-resolve app root item.';\nconst query = /* GraphQL */ `\r\n  query DictionarySearch(\r\n    $rootItemId: String!\r\n    $language: String!\r\n    $templates: String!\r\n    $pageSize: Int = 10\r\n    $after: String\r\n  ) {\r\n    search(\r\n      where: {\r\n        AND: [\r\n          { name: \"_path\", value: $rootItemId, operator: CONTAINS }\r\n          { name: \"_language\", value: $language }\r\n          { name: \"_templates\", value: $templates, operator: CONTAINS }\r\n        ]\r\n      }\r\n      first: $pageSize\r\n      after: $after\r\n    ) {\r\n      total\r\n      pageInfo {\r\n        endCursor\r\n        hasNext\r\n      }\r\n      results {\r\n        key: field(name: \"Key\") {\r\n          value\r\n        }\r\n        phrase: field(name: \"Phrase\") {\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\n/**\n * Service that fetch dictionary data using Sitecore's GraphQL API.\n * @augments DictionaryServiceBase\n * @mixes SearchQueryService<DictionaryQueryResult>\n */\nclass GraphQLDictionaryService extends dictionary_service_1.DictionaryServiceBase {\n    /**\n     * Creates an instance of graphQL dictionary service with the provided options\n     * @param {GraphQLDictionaryService} options instance\n     */\n    constructor(options) {\n        super(options);\n        this.options = options;\n        this.graphQLClient = this.getGraphQLClient();\n        this.searchService = new graphql_1.SearchQueryService(this.graphQLClient);\n    }\n    /**\n     * Fetches dictionary data for internalization.\n     * @param {string} language the language to fetch\n     * @default query (@see query)\n     * @returns {Promise<DictionaryPhrases>} dictionary phrases\n     * @throws {Error} if the app root was not found for the specified site and language.\n     */\n    fetchDictionaryData(language) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const cacheKey = this.options.siteName + language;\n            const cachedValue = this.getCacheValue(cacheKey);\n            if (cachedValue) {\n                debug_1.default.dictionary('using cached dictionary data for %s %s', language, this.options.siteName);\n                return cachedValue;\n            }\n            debug_1.default.dictionary('fetching site root for %s %s', language, this.options.siteName);\n            // If the caller does not specify a root item ID, then we try to figure it out\n            const rootItemId = this.options.rootItemId ||\n                (yield (0, graphql_1.getAppRootId)(this.graphQLClient, this.options.siteName, language, this.options.jssAppTemplateId));\n            if (!rootItemId) {\n                throw new Error(exports.queryError);\n            }\n            debug_1.default.dictionary('fetching dictionary data for %s %s', language, this.options.siteName);\n            const phrases = {};\n            yield this.searchService\n                .fetch(query, {\n                rootItemId,\n                language,\n                templates: this.options.dictionaryEntryTemplateId || constants_1.SitecoreTemplateId.DictionaryEntry,\n                pageSize: this.options.pageSize,\n            })\n                .then((results) => {\n                results.forEach((item) => (phrases[item.key.value] = item.phrase.value));\n            });\n            this.setCacheValue(cacheKey, phrases);\n            return phrases;\n        });\n    }\n    /**\n     * Gets a GraphQL client that can make requests to the API. Uses graphql-request as the default\n     * library for fetching graphql data (@see GraphQLRequestClient). Override this method if you\n     * want to use something else.\n     * @returns {GraphQLClient} implementation\n     */\n    getGraphQLClient() {\n        if (!this.options.endpoint) {\n            if (!this.options.clientFactory) {\n                throw new Error('You should provide either an endpoint and apiKey, or a clientFactory.');\n            }\n            return this.options.clientFactory({\n                debugger: debug_1.default.dictionary,\n                retries: this.options.retries,\n                retryStrategy: this.options.retryStrategy,\n            });\n        }\n        return new graphql_request_client_1.GraphQLRequestClient(this.options.endpoint, {\n            apiKey: this.options.apiKey,\n            debugger: debug_1.default.dictionary,\n            retries: this.options.retries,\n            retryStrategy: this.options.retryStrategy,\n        });\n    }\n}\nexports.GraphQLDictionaryService = GraphQLDictionaryService;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RestDictionaryService = void 0;\nconst axios_fetcher_1 = require(\"../axios-fetcher\");\nconst data_fetcher_1 = require(\"../data-fetcher\");\nconst dictionary_service_1 = require(\"./dictionary-service\");\nconst debug_1 = __importDefault(require(\"../debug\"));\n/**\n * Fetch dictionary data using the Sitecore Dictionary Service REST API.\n * Uses Axios as the default data fetcher (@see AxiosDataFetcher).\n * @augments DictionaryServiceBase\n */\nclass RestDictionaryService extends dictionary_service_1.DictionaryServiceBase {\n    constructor(options) {\n        super(options);\n        this.options = options;\n    }\n    /**\n     * Provides default @see AxiosDataFetcher data fetcher\n     */\n    get defaultFetcher() {\n        const dataFetcher = new axios_fetcher_1.AxiosDataFetcher({\n            debugger: debug_1.default.dictionary,\n            // CORS issue: Sitecore provides 'Access-Control-Allow-Origin' as wildcard '*', so we can't include credentials for the dictionary service\n            withCredentials: false,\n        });\n        return (url) => dataFetcher.fetch(url);\n    }\n    /**\n     * Fetch dictionary data for a language.\n     * @param {string} language the language to be used to fetch the dictionary\n     * @returns {Promise<DictionaryPhrases>} dictionary phrases\n     */\n    fetchDictionaryData(language) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const endpoint = this.getUrl(language);\n            const cachedValue = this.getCacheValue(endpoint);\n            if (cachedValue) {\n                debug_1.default.dictionary('using cached dictionary data for %s %s', language, this.options.siteName);\n                return cachedValue;\n            }\n            debug_1.default.dictionary('fetching dictionary data for %s %s', language, this.options.siteName);\n            const fetcher = this.options.dataFetcher || this.defaultFetcher;\n            const response = yield (0, data_fetcher_1.fetchData)(endpoint, fetcher, {\n                sc_apikey: this.options.apiKey,\n            });\n            return this.setCacheValue(endpoint, response.phrases);\n        });\n    }\n    /**\n     * Generate dictionary service url\n     * @param {string} language the language to be used to fetch the dictionary\n     * @returns {string} dictionary service url\n     */\n    getUrl(language) {\n        return `${this.options.apiHost}/sitecore/api/jss/dictionary/${this.options.siteName}/${language}`;\n    }\n}\nexports.RestDictionaryService = RestDictionaryService;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RestDictionaryService = exports.GraphQLDictionaryService = exports.DictionaryServiceBase = void 0;\nvar dictionary_service_1 = require(\"./dictionary-service\");\nObject.defineProperty(exports, \"DictionaryServiceBase\", { enumerable: true, get: function () { return dictionary_service_1.DictionaryServiceBase; } });\nvar graphql_dictionary_service_1 = require(\"./graphql-dictionary-service\");\nObject.defineProperty(exports, \"GraphQLDictionaryService\", { enumerable: true, get: function () { return graphql_dictionary_service_1.GraphQLDictionaryService; } });\nvar rest_dictionary_service_1 = require(\"./rest-dictionary-service\");\nObject.defineProperty(exports, \"RestDictionaryService\", { enumerable: true, get: function () { return rest_dictionary_service_1.RestDictionaryService; } });\n", "\uFEFFmodule.exports = require('./dist/cjs/i18n/index');\r\n", "\uFEFFmodule.exports = require('./dist/cjs/graphql/index');\r\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\",\n  '&#96;': '`'\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nmodule.exports = unescape;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSrcSet = exports.updateImageUrl = exports.replaceMediaUrlPrefix = exports.getRequiredParams = exports.findEditorImageTag = void 0;\nconst lodash_unescape_1 = __importDefault(require(\"lodash.unescape\"));\nconst url_parse_1 = __importDefault(require(\"url-parse\"));\n// finds an img tag with HTML attributes\nconst imgTagRegex = /<img([^>]+)\\/>/i;\n// finds all the HTML attributes in a string\nconst htmlAttrsRegex = /([^=\\s]+)(=\"([^\"]*)\")?/gi;\n// finds the Sitecore media URL prefix\nconst mediaUrlPrefixRegex = /\\/([-~]{1})\\/media\\//i;\n/**\n * Makes a request to Sitecore Content Service for the specified item path.\n * @param {string} editorMarkup the markup to parse\n * @returns {Object | null} found image tag; null in case if not found\n */\nconst findEditorImageTag = (editorMarkup) => {\n    // match the tag\n    const tagMatch = editorMarkup.match(imgTagRegex);\n    if (!tagMatch || tagMatch.length < 2) {\n        return null;\n    }\n    // find the attrs and turn them into a Map\n    const attrs = {};\n    let match = htmlAttrsRegex.exec(tagMatch[1]);\n    while (match !== null) {\n        attrs[match[1]] = (0, lodash_unescape_1.default)(match[3]);\n        match = htmlAttrsRegex.exec(tagMatch[1]);\n    }\n    return {\n        imgTag: tagMatch[0],\n        attrs,\n    };\n};\nexports.findEditorImageTag = findEditorImageTag;\n/**\n * Get required query string params which should be merged with user params\n * @param {object} qs layout service parsed query string\n * @returns {object} requiredParams\n */\nconst getRequiredParams = (qs) => {\n    const { rev, db, la, vs, ts } = qs;\n    return { rev, db, la, vs, ts };\n};\nexports.getRequiredParams = getRequiredParams;\n/**\n * Replace `/~/media` or `/-/media` with `/~/jssmedia` or `/-/jssmedia`, respectively.\n * Can use `mediaUrlPrefix` in order to use a custom prefix.\n * @param {string} url The URL to replace the media URL prefix in\n * @param {RegExp} [mediaUrlPrefix=mediaUrlPrefixRegex] The regex to match the media URL prefix\n * @returns {string} The URL with the media URL prefix replaced\n */\nconst replaceMediaUrlPrefix = (url, mediaUrlPrefix = mediaUrlPrefixRegex) => {\n    const parsed = (0, url_parse_1.default)(url, {}, true);\n    const match = mediaUrlPrefix.exec(parsed.pathname);\n    if (match && match.length > 1) {\n        // regex will provide us with /-/ or /~/ type\n        parsed.set('pathname', parsed.pathname.replace(mediaUrlPrefix, `/${match[1]}/jssmedia/`));\n    }\n    return parsed.toString();\n};\nexports.replaceMediaUrlPrefix = replaceMediaUrlPrefix;\n/**\n * Prepares a Sitecore media URL with `params` for use by the JSS media handler.\n * This is done by replacing `/~/media` or `/-/media` with `/~/jssmedia` or `/-/jssmedia`, respectively.\n * Provided `params` are used as the querystring parameters for the media URL.\n * Can use `mediaUrlPrefix` in order to use a custom prefix.\n * If no `params` are sent, the original media URL is returned.\n * @param {string} url The URL to prepare\n * @param {Object} [params] The querystring parameters to use\n * @param {RegExp} [mediaUrlPrefix=mediaUrlPrefixRegex] The regex to match the media URL prefix\n * @returns {string} The prepared URL\n */\nconst updateImageUrl = (url, params, mediaUrlPrefix = mediaUrlPrefixRegex) => {\n    if (!params || Object.keys(params).length === 0) {\n        // if params aren't supplied, no need to run it through JSS media handler\n        return url;\n    }\n    // polyfill node `global` in browser to workaround https://github.com/unshiftio/url-parse/issues/150\n    if (typeof window !== 'undefined' && !window.global) {\n        window.global = {};\n    }\n    const parsed = (0, url_parse_1.default)((0, exports.replaceMediaUrlPrefix)(url, mediaUrlPrefix), {}, true);\n    const requiredParams = (0, exports.getRequiredParams)(parsed.query);\n    const query = Object.assign({}, params);\n    Object.entries(requiredParams).forEach(([key, param]) => {\n        if (param) {\n            query[key] = param;\n        }\n    });\n    parsed.set('query', query);\n    return parsed.toString();\n};\nexports.updateImageUrl = updateImageUrl;\n/**\n * Receives an array of `srcSet` parameters that are iterated and used as parameters to generate\n * a corresponding set of updated Sitecore media URLs via @see updateImageUrl. The result is a comma-delimited\n * list of media URLs with respective dimension parameters.\n *\n * @example\n * // returns '/ipsum.jpg?h=1000&w=1000 1000w, /ipsum.jpg?mh=250&mw=250 250w'\n * getSrcSet('/ipsum.jpg', [{ h: 1000, w: 1000 }, { mh: 250, mw: 250 } ])\n *\n * More information about `srcSet`: {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img}\n *\n * @param {string} url The URL to prepare\n * @param {Array} srcSet The array of parameters to use\n * @param {Object} [imageParams] The querystring parameters to use\n * @param {RegExp} [mediaUrlPrefix] The regex to match the media URL prefix\n * @returns {string} The prepared URL\n */\nconst getSrcSet = (url, srcSet, imageParams, mediaUrlPrefix) => {\n    return srcSet\n        .map((params) => {\n        const newParams = Object.assign(Object.assign({}, imageParams), params);\n        const imageWidth = newParams.w || newParams.mw;\n        if (!imageWidth) {\n            return null;\n        }\n        return `${(0, exports.updateImageUrl)(url, newParams, mediaUrlPrefix)} ${imageWidth}w`;\n    })\n        .filter((value) => value)\n        .join(', ');\n};\nexports.getSrcSet = getSrcSet;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mediaApi = void 0;\nconst mediaApi = __importStar(require(\"./media-api\"));\nexports.mediaApi = mediaApi;\n", "\uFEFFmodule.exports = require('./dist/cjs/media/index');\r\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getStylesheetUrl = exports.getFEAASLibraryStylesheetLinks = void 0;\nconst layout_1 = require(\"../layout\");\nconst constants_1 = require(\"../constants\");\n/**\n * Pattern for library ids\n * @example -library--foo\n */\nconst FEAAS_LIBRARY_ID_REGEX = /-library--([^\\s]+)/;\n/**\n * Walks through rendering tree and returns list of links of all FEAAS Component Library Stylesheets that are used\n * @param {LayoutServiceData} layoutData Layout service data\n * @param {string} sitecoreEdgeContextId Sitecore Edge Context ID\n * @param {string} [sitecoreEdgeUrl] Sitecore Edge Platform URL. Default is https://edge-platform.sitecorecloud.io\n * @returns {HTMLLink[]} library stylesheet links\n * @deprecated use getComponentLibraryStylesheetLinks instead; getFEAASLibraryStylesheetLinks will be removed in v22.0\n */\nfunction getFEAASLibraryStylesheetLinks(layoutData, sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) {\n    const ids = new Set();\n    if (!layoutData.sitecore.route)\n        return [];\n    traverseComponent(layoutData.sitecore.route, ids);\n    return [...ids].map((id) => ({\n        href: (0, exports.getStylesheetUrl)(id, sitecoreEdgeContextId, sitecoreEdgeUrl),\n        rel: 'stylesheet',\n    }));\n}\nexports.getFEAASLibraryStylesheetLinks = getFEAASLibraryStylesheetLinks;\nconst getStylesheetUrl = (id, sitecoreEdgeContextId, sitecoreEdgeUrl = constants_1.SITECORE_EDGE_URL_DEFAULT) => {\n    return `${sitecoreEdgeUrl}/v1/files/components/styles/${id}.css?sitecoreContextId=${sitecoreEdgeContextId}`;\n};\nexports.getStylesheetUrl = getStylesheetUrl;\n/**\n * Traverse placeholder and components to add library ids\n * @param {Array<ComponentRendering | HtmlElementRendering>} components\n * @param {Set<string>} ids library ids\n */\nconst traversePlaceholder = (components, ids) => {\n    components.map((component) => {\n        const rendering = component;\n        return traverseComponent(rendering, ids);\n    });\n};\n/**\n * Traverse component and children to add library ids\n * @param {RouteData | ComponentRendering | HtmlElementRendering} component component data\n * @param {Set<string>} ids library ids\n */\nconst traverseComponent = (component, ids) => {\n    var _a, _b, _c, _d;\n    let libraryId = undefined;\n    if ('params' in component && component.params) {\n        // LibraryID in css class name takes precedence over LibraryId attribute\n        libraryId =\n            ((_b = (_a = component.params.CSSStyles) === null || _a === void 0 ? void 0 : _a.match(FEAAS_LIBRARY_ID_REGEX)) === null || _b === void 0 ? void 0 : _b[1]) ||\n                component.params.LibraryId ||\n                undefined;\n    }\n    // if params are empty we try to fall back to data source or attributes\n    if (!libraryId && 'fields' in component && component.fields) {\n        libraryId =\n            ((_c = (0, layout_1.getFieldValue)(component.fields, 'CSSStyles', '').match(FEAAS_LIBRARY_ID_REGEX)) === null || _c === void 0 ? void 0 : _c[1]) ||\n                (0, layout_1.getFieldValue)(component.fields, 'LibraryId', '') ||\n                undefined;\n    }\n    // HTMLRendering its class attribute\n    if (!libraryId && 'attributes' in component && typeof component.attributes.class === 'string') {\n        libraryId = (_d = component.attributes.class.match(FEAAS_LIBRARY_ID_REGEX)) === null || _d === void 0 ? void 0 : _d[1];\n    }\n    if (libraryId) {\n        ids.add(libraryId);\n    }\n    const placeholders = component.placeholders || {};\n    Object.keys(placeholders).forEach((placeholder) => {\n        traversePlaceholder(placeholders[placeholder], ids);\n    });\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFEAASLibraryStylesheetLinks = void 0;\nvar themes_1 = require(\"./themes\");\nObject.defineProperty(exports, \"getFEAASLibraryStylesheetLinks\", { enumerable: true, get: function () { return themes_1.getFEAASLibraryStylesheetLinks; } });\n", "module.exports = require('./dist/cjs/feaas/index');\r\n", "\n\n/*:: type Attr = { [key: string]: string | number } */\n/*:: type Opts = { preserveNumbers: ?boolean } */\n\n/*\n\nstyle-attr\n====\n\nVery simple parsing and stringifying of style attributes.\n\n`parse`\n----\n\nConvert a style attribute string to an object.\n\n*/\n\n/*:: declare function parse (raw: string, opts: ?Opts): Attr */\nfunction parse(raw, opts) {\n  opts = opts || {};\n\n  var preserveNumbers = opts.preserveNumbers;\n  var trim = function (s) {\n    return s.trim();\n  };\n  var obj = {};\n\n  getKeyValueChunks(raw).map(trim).filter(Boolean).forEach(function (item) {\n    // split with `.indexOf` rather than `.split` because the value may also contain colons.\n    var pos = item.indexOf(':');\n    var key = item.substr(0, pos).trim();\n    var val = item.substr(pos + 1).trim();\n    if (preserveNumbers && isNumeric(val)) {\n      val = Number(val);\n    }\n\n    obj[key] = val;\n  });\n\n  return obj;\n}\n\n/*\n\n`isNumeric`\n----\n\nCheck if a value is numeric.\nVia: https://stackoverflow.com/a/1830844/9324\n\n*/\n\n/*:: declare function isNumeric (n: any): boolean */\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/*\n\n`getKeyValueChunks`\n----\n\nSplit a string into chunks matching `<key>: <value>`\n\n*/\n/*:: declare function getKeyValueChunks (raw: string): Array<string> */\nfunction getKeyValueChunks(raw) {\n  var chunks = [];\n  var offset = 0;\n  var sep = ';';\n  var hasUnclosedUrl = /url\\([^\\)]+$/;\n  var chunk = '';\n  var nextSplit;\n  while (offset < raw.length) {\n    nextSplit = raw.indexOf(sep, offset);\n    if (nextSplit === -1) {\n      nextSplit = raw.length;\n    }\n\n    chunk += raw.substring(offset, nextSplit);\n\n    // data URIs can contain semicolons, so make sure we get the whole thing\n    if (hasUnclosedUrl.test(chunk)) {\n      chunk += ';';\n      offset = nextSplit + 1;\n      continue;\n    }\n\n    chunks.push(chunk);\n    chunk = '';\n    offset = nextSplit + 1;\n  }\n\n  return chunks;\n}\n\n/*\n\n`stringify`\n----\n\nConvert an object into an attribute string\n\n*/\n/*:: declare function stringify (obj: Attr): string */\nfunction stringify(obj) {\n  return Object.keys(obj).map(function (key) {\n    return key + ':' + obj[key];\n  }).join(';');\n}\n\n/*\n\n`normalize`\n----\n\nNormalize an attribute string (eg. collapse duplicates)\n\n*/\n/*:: declare function normalize (str: string, opts: ?Opts): string */\nfunction normalize(str, opts) {\n  return stringify(parse(str, opts));\n}\n\nmodule.exports.parse = parse;\nmodule.exports.stringify = stringify;\nmodule.exports.normalize = normalize;", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n  var envHasBigInt64Array = typeof BigInt64Array !== 'undefined';\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n    if ((a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      for (i of a.entries())\n        if (!equal(i[1], b.get(i[0]))) return false;\n      return true;\n    }\n\n    if ((a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      for (i of a.entries())\n        if (!b.has(i[0])) return false;\n      return true;\n    }\n\n    if (ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        continue;\n      }\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "export var SitecoreTemplateId;\n(function (SitecoreTemplateId) {\n    // /sitecore/templates/Foundation/JavaScript Services/App\n    SitecoreTemplateId[\"JssApp\"] = \"061cba1554744b918a0617903b102b82\";\n    // /sitecore/templates/System/Dictionary/Dictionary entry\n    SitecoreTemplateId[\"DictionaryEntry\"] = \"6d1cd89719364a3aa511289a94c2a7b1\";\n})(SitecoreTemplateId || (SitecoreTemplateId = {}));\nexport const FETCH_WITH = {\n    GRAPHQL: 'GraphQL',\n    REST: 'Rest',\n};\nexport const JSS_MODE = {\n    CONNECTED: 'connected',\n    DISCONNECTED: 'disconnected',\n};\nexport const siteNameError = 'The siteName cannot be empty';\nexport const SITECORE_EDGE_URL_DEFAULT = 'https://edge-platform.sitecorecloud.io';\n", "var _a;\nimport debug from 'debug';\nimport isServer from './utils/is-server';\nconst rootNamespace = 'sitecore-jss';\n// On server/node side, allow switching from the built-in\n// `%o` (pretty-print single line) and `%O` (pretty-print multiple line)\n// with a `DEBUG_MULTILINE` environment variable.\nif (isServer() &&\n    ((_a = process === null || process === void 0 ? void 0 : process.env) === null || _a === void 0 ? void 0 : _a.DEBUG_MULTILINE) === 'true' &&\n    debug.formatters.o &&\n    debug.formatters.O) {\n    debug.formatters.o = debug.formatters.O;\n}\n/**\n * Enable debug logging dynamically\n * @param {string} namespaces space-separated list of namespaces to enable\n */\nexport const enableDebug = (namespaces) => debug.enable(namespaces);\n/**\n * Default Sitecore JSS 'debug' module debuggers. Uses namespace prefix 'sitecore-jss:'.\n * See {@link https://www.npmjs.com/package/debug} for details.\n */\nexport default {\n    common: debug(`${rootNamespace}:common`),\n    http: debug(`${rootNamespace}:http`),\n    layout: debug(`${rootNamespace}:layout`),\n    dictionary: debug(`${rootNamespace}:dictionary`),\n    editing: debug(`${rootNamespace}:editing`),\n    sitemap: debug(`${rootNamespace}:sitemap`),\n    multisite: debug(`${rootNamespace}:multisite`),\n    robots: debug(`${rootNamespace}:robots`),\n    redirects: debug(`${rootNamespace}:redirects`),\n    personalize: debug(`${rootNamespace}:personalize`),\n    errorpages: debug(`${rootNamespace}:errorpages`),\n};\n", "/**\n * Determines whether the current execution context is server-side\n * @returns true if executing server-side\n */\nfunction isServer() {\n    return !(typeof window !== 'undefined' && window.document);\n}\nexport default isServer;\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { GraphQLClient as Client } from 'graphql-request';\nimport parse from 'url-parse';\nimport debuggers from './debug';\nimport TimeoutPromise from './utils/timeout-promise';\n/**\n * Represents a default retry strategy for handling retry attempts in case of specific HTTP status codes.\n * This class implements the RetryStrategy interface and provides methods to determine whether a request\n * should be retried and calculates the delay before the next retry attempt.\n */\nexport class DefaultRetryStrategy {\n    /**\n     * @param {Object} options Configurable options for retry mechanism.\n     * @param {number[]} [options.statusCodes] HTTP status codes to trigger retries on. Default is [429].\n     * @param {string[]} [options.errorCodes] Node error codes to trigger retries. Default is ['ECONNRESET', 'ETIMEDOUT', 'EPROTO'].\n     * @param {number} [options.factor] Factor by which the delay increases with each retry attempt. Default is 2.\n     */\n    constructor(options = {}) {\n        this.statusCodes = options.statusCodes || [429];\n        this.errorCodes = options.errorCodes || ['ECONNRESET', 'ETIMEDOUT', 'EPROTO'];\n        this.factor = options.factor || 2;\n    }\n    shouldRetry(error, attempt, retries) {\n        var _a;\n        const isStatusCodeError = ((_a = error.response) === null || _a === void 0 ? void 0 : _a.status) !== undefined && this.statusCodes.includes(error.response.status);\n        const isNodeErrorCode = error.code !== undefined && this.errorCodes.includes(error.code);\n        return retries > 0 && attempt <= retries && (isStatusCodeError || isNodeErrorCode);\n    }\n    getDelay(error, attempt) {\n        var _a;\n        const rawHeaders = (_a = error.response) === null || _a === void 0 ? void 0 : _a.headers;\n        const retryAfterHeader = rawHeaders === null || rawHeaders === void 0 ? void 0 : rawHeaders.get('Retry-After');\n        if (retryAfterHeader !== null &&\n            retryAfterHeader !== undefined &&\n            retryAfterHeader.trim() !== '') {\n            const delaySeconds = Number.parseFloat(retryAfterHeader);\n            return delaySeconds * 1000;\n        }\n        else {\n            return Math.pow(this.factor, attempt - 1) * 1000;\n        }\n    }\n}\n/**\n * A GraphQL client for Sitecore APIs that uses the 'graphql-request' library.\n * https://github.com/prisma-labs/graphql-request\n */\nexport class GraphQLRequestClient {\n    /**\n     * Provides ability to execute graphql query using given `endpoint`\n     * @param {string} endpoint The Graphql endpoint\n     * @param {GraphQLRequestClientConfig} [clientConfig] GraphQL request client configuration.\n     */\n    constructor(endpoint, clientConfig = {}) {\n        var _a;\n        this.endpoint = endpoint;\n        this.headers = {};\n        if (clientConfig.apiKey) {\n            this.headers.sc_apikey = clientConfig.apiKey;\n        }\n        if (!endpoint || !parse(endpoint).hostname) {\n            throw new Error(`Invalid GraphQL endpoint '${endpoint}'. Verify that 'layoutServiceHost' property in 'scjssconfig.json' file or appropriate environment variable is set`);\n        }\n        this.timeout = clientConfig.timeout;\n        this.retries = (_a = clientConfig.retries) !== null && _a !== void 0 ? _a : 3;\n        this.retryStrategy =\n            clientConfig.retryStrategy ||\n                new DefaultRetryStrategy({ statusCodes: [429, 502, 503, 504, 520, 521, 522, 523, 524] });\n        this.client = new Client(endpoint, {\n            headers: this.headers,\n            fetch: clientConfig.fetch,\n        });\n        this.debug = clientConfig.debugger || debuggers.http;\n    }\n    /**\n     * Factory method for creating a GraphQLRequestClientFactory.\n     * @param {Object} config - client configuration options.\n     * @param {string} config.endpoint - endpoint\n     * @param {string} [config.apiKey] - apikey\n     */\n    static createClientFactory({ endpoint, apiKey, }) {\n        return (config = {}) => new GraphQLRequestClient(endpoint, Object.assign(Object.assign({}, config), { apiKey }));\n    }\n    /**\n     * Execute graphql request\n     * @param {string | DocumentNode} query graphql query\n     * @param {Object} variables graphql variables\n     */\n    request(query, variables) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let attempt = 1;\n            const retryer = () => __awaiter(this, void 0, void 0, function* () {\n                // Note we don't have access to raw request/response with graphql-request\n                // (or nice hooks like we have with Axios), but we should log whatever we have.\n                this.debug('request: %o', {\n                    url: this.endpoint,\n                    headers: this.headers,\n                    query,\n                    variables,\n                });\n                const startTimestamp = Date.now();\n                const fetchWithOptionalTimeout = [this.client.request(query, variables)];\n                if (this.timeout) {\n                    this.abortTimeout = new TimeoutPromise(this.timeout);\n                    fetchWithOptionalTimeout.push(this.abortTimeout.start);\n                }\n                return Promise.race(fetchWithOptionalTimeout).then((data) => {\n                    var _a;\n                    (_a = this.abortTimeout) === null || _a === void 0 ? void 0 : _a.clear();\n                    this.debug('response in %dms: %o', Date.now() - startTimestamp, data);\n                    return Promise.resolve(data);\n                }, (error) => __awaiter(this, void 0, void 0, function* () {\n                    var _a, _b;\n                    (_a = this.abortTimeout) === null || _a === void 0 ? void 0 : _a.clear();\n                    this.debug('response error: %o', error.response || error.message || error);\n                    const status = ((_b = error.response) === null || _b === void 0 ? void 0 : _b.status) || error.code;\n                    const shouldRetry = this.retryStrategy.shouldRetry(error, attempt, this.retries);\n                    if (shouldRetry) {\n                        const delayMs = this.retryStrategy.getDelay(error, attempt);\n                        this.debug('Error: %s. Retrying in %dms (attempt %d).', status, delayMs, attempt);\n                        attempt++;\n                        return new Promise((resolve) => setTimeout(resolve, delayMs)).then(retryer);\n                    }\n                    else {\n                        return Promise.reject(error);\n                    }\n                }));\n            });\n            return retryer();\n        });\n    }\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport axios from 'axios';\nimport debuggers from './debug';\n/**\n * Determines whether error is AxiosError\n * @param {unknown} error\n */\nconst isAxiosError = (error) => {\n    return error.isAxiosError !== undefined;\n};\n/**\n *  AxisoDataFetcher is a wrapper for axios library.\n */\nexport class AxiosDataFetcher {\n    /**\n     * @param {AxiosDataFetcherConfig} dataFetcherConfig Axios data fetcher configuration.\n     * Note `withCredentials` is set to `true` by default in order for Sitecore cookies to\n     * be included in CORS requests (which is necessary for analytics and such).\n     */\n    constructor(dataFetcherConfig = {}) {\n        const { onReq, onRes, onReqError, onResError, debugger: debuggerOverride } = dataFetcherConfig, axiosConfig = __rest(dataFetcherConfig, [\"onReq\", \"onRes\", \"onReqError\", \"onResError\", \"debugger\"]);\n        if (axiosConfig.withCredentials === undefined) {\n            axiosConfig.withCredentials = true;\n        }\n        this.instance = axios.create(axiosConfig);\n        const debug = debuggerOverride || debuggers.http;\n        // Note Axios response interceptors are applied in registered order;\n        // however, request interceptors are REVERSED (https://github.com/axios/axios/issues/1663).\n        // Hence, we're adding our request debug logging first (since we want that performed after any onReq)\n        // and our response debug logging second (since we want that performed after any onRes).\n        if (debug.enabled) {\n            this.instance.interceptors.request.use((config) => {\n                debug('request: %o', config);\n                // passing timestamp for debug logging\n                config.headers.timestamp = Date.now();\n                return config;\n            }, (error) => {\n                debug('request error: %o', isAxiosError(error) ? error.toJSON() : error);\n                return Promise.reject(error);\n            });\n        }\n        if (onReq) {\n            this.instance.interceptors.request.use(onReq, onReqError);\n        }\n        if (onRes) {\n            this.instance.interceptors.response.use(onRes, onResError);\n        }\n        if (debug.enabled) {\n            this.instance.interceptors.response.use((response) => {\n                // Note we're removing redundant properties (already part of request log above) to trim down log entry\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const { request, config } = response, rest = __rest(response, [\"request\", \"config\"]);\n                const duration = Date.now() - config.headers.timestamp;\n                delete response.config.headers.timestamp;\n                debug('response in %dms: %o', duration, rest);\n                return response;\n            }, (error) => {\n                debug('response error: %o', isAxiosError(error) ? error.toJSON() : error);\n                return Promise.reject(error);\n            });\n        }\n    }\n    /**\n     * Implements a data fetcher. @see HttpDataFetcher<T> type for implementation details/notes.\n     * @param {string} url The URL to request; may include query string\n     * @param {unknown} [data] Optional data to POST with the request.\n     * @returns {Promise<AxiosResponse<T>>} response\n     */\n    fetch(url, data) {\n        return this.instance.request({\n            url,\n            method: data ? 'POST' : 'GET',\n            data,\n        });\n    }\n    /**\n     * Perform a GET request\n     * @param {string} url The URL to request; may include query string\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse<T>>} response\n     */\n    get(url, config) {\n        return this.instance.get(url, config);\n    }\n    /**\n     * Perform a HEAD request\n     * @param {string} url The URL to request; may include query string\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    head(url, config) {\n        return this.instance.head(url, config);\n    }\n    /**\n     * Perform a POST request\n     * @param {string} url The URL to request; may include query string\n     * @param {unknown} [data] Data to POST with the request.\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    post(url, data, config) {\n        return this.instance.post(url, data, config);\n    }\n    /**\n     * Perform a PUT request\n     * @param {string} url The URL to request; may include query string\n     * @param {unknown} [data] Data to PUT with the request.\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    put(url, data, config) {\n        return this.instance.put(url, data, config);\n    }\n    /**\n     * Perform a DELETE request\n     * @param {string} url The URL to request; may include query string\n     * @param {AxiosRequestConfig} [config] Axios config\n     * @returns {Promise<AxiosResponse>} response\n     */\n    delete(url, config) {\n        return this.instance.delete(url, config);\n    }\n}\n", "// NOTE: all imports are now named as to not make breaking changes\n// and to keep react-native working with cjs modules.\nimport * as constants from './constants';\nexport { default as debug, enableDebug } from './debug';\nexport { fetchData } from './data-fetcher';\nexport { DefaultRetryStrategy, GraphQLRequestClient, } from './graphql-request-client';\nexport { AxiosDataFetcher } from './axios-fetcher';\nexport { ClientError } from 'graphql-request';\nexport { NativeDataFetcher } from './native-fetcher';\nexport { constants };\n", "export { constants, enableDebug, ClientError } from '@sitecore-jss/sitecore-jss';\nexport { isEditorActive, resetEditorChromes, DefaultEditFrameButton, DefaultEditFrameButtons, } from '@sitecore-jss/sitecore-jss/utils';\nexport { getContentStylesheetLink, getComponentLibraryStylesheetLinks, LayoutServicePageState, GraphQLLayoutService, RestLayoutService, getChildPlaceholder, getFieldValue, } from '@sitecore-jss/sitecore-jss/layout';\nexport { trackingApi, } from '@sitecore-jss/sitecore-jss/tracking';\nexport { GraphQLDictionaryService, RestDictionaryService, } from '@sitecore-jss/sitecore-jss/i18n';\nexport { DefaultRetryStrategy, } from '@sitecore-jss/sitecore-jss/graphql';\nexport { mediaApi } from '@sitecore-jss/sitecore-jss/media';\nexport { getFEAASLibraryStylesheetLinks } from '@sitecore-jss/sitecore-jss/feaas';\nexport { Placeholder } from './components/Placeholder';\nexport { Image, getEEMarkup, } from './components/Image';\nexport { RichText } from './components/RichText';\nexport { Text } from './components/Text';\nexport { DateField } from './components/Date';\nexport { FEaaSComponent, fetchFEaaSComponentServerProps, } from './components/FEaaSComponent';\nexport { FEaaSWrapper } from './components/FEaaSWrapper';\nexport { BYOCComponent, fetchBYOCComponentServerProps, } from './components/BYOCComponent';\nexport { BYOCWrapper } from './components/BYOCWrapper';\nexport { Link } from './components/Link';\nexport { File } from './components/File';\nexport { VisitorIdentification } from './components/VisitorIdentification';\nexport { SitecoreContext, SitecoreContextReactContext, } from './components/SitecoreContext';\nexport { withSitecoreContext, useSitecoreContext, } from './enhancers/withSitecoreContext';\nexport { withEditorChromes } from './enhancers/withEditorChromes';\nexport { withPlaceholder } from './enhancers/withPlaceholder';\nexport { withDatasourceCheck } from './enhancers/withDatasourceCheck';\nexport { EditFrame } from './components/EditFrame';\nexport { ComponentBuilder } from './ComponentBuilder';\n", "import React from 'react';\nimport { PlaceholderCommon } from './PlaceholderCommon';\nimport { withComponentFactory } from '../enhancers/withComponentFactory';\nimport { HorizonEditor } from '@sitecore-jss/sitecore-jss/utils';\n/**\n * @param {HtmlElementRendering | ComponentRendering} rendering\n */\nfunction isRawRendering(rendering) {\n    return (!rendering.componentName &&\n        rendering.name !== undefined);\n}\nclass PlaceholderComponent extends PlaceholderCommon {\n    constructor(props) {\n        super(props);\n        this.isEmpty = false;\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        if (this.isEmpty && HorizonEditor.isActive()) {\n            HorizonEditor.resetChromes();\n        }\n    }\n    /**\n     * In case we need to render an empty placeholder, some part of the markup will be inserted by the EE,\n     * so we need to separate the empty placeholder's markup and allow React reconciliation to be executed correctly\n     * and retain sibling tags\n     * @param {React.ReactNode | React.ReactElement[]} node react node\n     * @returns react node\n     */\n    renderEmptyPlaceholder(node) {\n        return React.createElement(\"div\", { className: \"sc-jss-empty-placeholder\" }, node);\n    }\n    render() {\n        const childProps = Object.assign({}, this.props);\n        delete childProps.componentFactory;\n        if (this.state.error) {\n            if (childProps.errorComponent) {\n                return React.createElement(childProps.errorComponent, { error: this.state.error });\n            }\n            return (React.createElement(\"div\", { className: \"sc-jss-placeholder-error\" },\n                \"A rendering error occurred: \",\n                this.state.error.message,\n                \".\"));\n        }\n        const renderingData = childProps.rendering;\n        const placeholderData = PlaceholderCommon.getPlaceholderDataFromRenderingData(renderingData, this.props.name);\n        const components = this.getComponentsForRenderingData(placeholderData);\n        this.isEmpty = placeholderData.every((rendering) => isRawRendering(rendering));\n        if (this.props.renderEmpty && this.isEmpty) {\n            const rendered = this.props.renderEmpty(components);\n            return components.length ? this.renderEmptyPlaceholder(rendered) : rendered;\n        }\n        else if (components.length && this.isEmpty) {\n            return this.renderEmptyPlaceholder(components);\n        }\n        else if (this.props.render) {\n            return this.props.render(components, placeholderData, childProps);\n        }\n        else if (this.props.renderEach) {\n            const renderEach = this.props.renderEach;\n            return components.map((component, index) => {\n                if (component && component.props && component.props.type === 'text/sitecore') {\n                    return component;\n                }\n                return renderEach(component, index);\n            });\n        }\n        else {\n            return components;\n        }\n    }\n}\nPlaceholderComponent.propTypes = PlaceholderCommon.propTypes;\nexport const Placeholder = withComponentFactory(PlaceholderComponent);\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { MissingComponent } from './MissingComponent';\nimport { convertAttributesToReactProps } from '../utils';\nimport { HiddenRendering, HIDDEN_RENDERING_NAME } from './HiddenRendering';\nimport { FEaaSComponent, FEAAS_COMPONENT_RENDERING_NAME } from './FEaaSComponent';\nimport { FEaaSWrapper, FEAAS_WRAPPER_RENDERING_NAME } from './FEaaSWrapper';\nimport { BYOCComponent, BYOC_COMPONENT_RENDERING_NAME } from './BYOCComponent';\nimport { BYOCWrapper, BYOC_WRAPPER_RENDERING_NAME } from './BYOCWrapper';\nexport class PlaceholderCommon extends React.Component {\n    constructor(props) {\n        super(props);\n        this.nodeRefs = [];\n        this.state = {};\n        this.addRef = this.addRef.bind(this);\n        this.updateKeyAttributes = this.updateKeyAttributes.bind(this);\n        this.createRawElement = this.createRawElement.bind(this);\n    }\n    static getPlaceholderDataFromRenderingData(rendering, name) {\n        let result;\n        /** [SXA] it needs for deleting dynamics placeholder when we set him number(props.name) of container.\n        from backend side we get common name of placeholder is called 'nameOfContainer-{*}' where '{*}' marker for replacing **/\n        if (rendering === null || rendering === void 0 ? void 0 : rendering.placeholders) {\n            Object.keys(rendering.placeholders).forEach((placeholder) => {\n                const patternPlaceholder = placeholder.indexOf('{*}') !== -1\n                    ? new RegExp(`^${placeholder.replace(/\\{\\*\\}+/i, '\\\\d+')}$`)\n                    : null;\n                if (patternPlaceholder && patternPlaceholder.test(name)) {\n                    rendering.placeholders[name] = rendering.placeholders[placeholder];\n                    delete rendering.placeholders[placeholder];\n                }\n            });\n        }\n        if (rendering && rendering.placeholders && Object.keys(rendering.placeholders).length > 0) {\n            result = rendering.placeholders[name];\n        }\n        else {\n            result = null;\n        }\n        if (!result) {\n            console.warn(`Placeholder '${name}' was not found in the current rendering data`, JSON.stringify(rendering, null, 2));\n            return [];\n        }\n        return result;\n    }\n    componentDidMount() {\n        this.updateKeyAttributes();\n    }\n    componentDidUpdate() {\n        this.updateKeyAttributes();\n    }\n    componentDidCatch(error) {\n        this.setState({ error });\n    }\n    getSXAParams(rendering) {\n        if (!rendering.params)\n            return {};\n        return (rendering.params.FieldNames && {\n            styles: `${rendering.params.GridParameters || ''} ${rendering.params.Styles || ''}`,\n        });\n    }\n    getComponentsForRenderingData(placeholderData) {\n        const _a = this.props, { name, fields: placeholderFields, params: placeholderParams, missingComponentComponent, hiddenRenderingComponent } = _a, placeholderProps = __rest(_a, [\"name\", \"fields\", \"params\", \"missingComponentComponent\", \"hiddenRenderingComponent\"]);\n        return placeholderData\n            .map((rendering, index) => {\n            const key = rendering.uid\n                ? rendering.uid\n                : `component-${index}`;\n            const commonProps = { key };\n            // if the element is not a 'component rendering', render it 'raw'\n            if (!rendering.componentName &&\n                rendering.name) {\n                return this.createRawElement(rendering, commonProps);\n            }\n            const componentRendering = rendering;\n            let component;\n            if (componentRendering.componentName === HIDDEN_RENDERING_NAME) {\n                component = hiddenRenderingComponent !== null && hiddenRenderingComponent !== void 0 ? hiddenRenderingComponent : HiddenRendering;\n            }\n            else if (!componentRendering.componentName) {\n                component = () => React.createElement(React.Fragment, null);\n            }\n            else {\n                component = this.getComponentForRendering(componentRendering);\n            }\n            // Fallback/defaults for Sitecore Component renderings (in case not defined in component factory)\n            if (!component) {\n                if (componentRendering.componentName === FEAAS_COMPONENT_RENDERING_NAME) {\n                    component = FEaaSComponent;\n                }\n                else if (componentRendering.componentName === FEAAS_WRAPPER_RENDERING_NAME) {\n                    component = FEaaSWrapper;\n                }\n                else if (componentRendering.componentName === BYOC_COMPONENT_RENDERING_NAME) {\n                    component = BYOCComponent;\n                }\n                else if (componentRendering.componentName === BYOC_WRAPPER_RENDERING_NAME) {\n                    component = BYOCWrapper;\n                }\n            }\n            if (!component) {\n                console.error(`Placeholder ${name} contains unknown component ${componentRendering.componentName}. Ensure that a React component exists for it, and that it is registered in your componentFactory.js.`);\n                component = missingComponentComponent !== null && missingComponentComponent !== void 0 ? missingComponentComponent : MissingComponent;\n            }\n            const finalProps = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, commonProps), placeholderProps), ((placeholderFields || componentRendering.fields) && {\n                fields: Object.assign(Object.assign({}, placeholderFields), componentRendering.fields),\n            })), ((placeholderParams || componentRendering.params) && {\n                params: Object.assign(Object.assign(Object.assign({}, placeholderParams), componentRendering.params), this.getSXAParams(componentRendering)),\n            })), { rendering: componentRendering });\n            return React.createElement(component, this.props.modifyComponentProps ? this.props.modifyComponentProps(finalProps) : finalProps);\n        })\n            .filter((element) => element); // remove nulls\n    }\n    getComponentForRendering(renderingDefinition) {\n        var _a;\n        const componentFactory = this.props.componentFactory;\n        if (!componentFactory || typeof componentFactory !== 'function') {\n            console.warn(`No componentFactory was available to service request for component ${renderingDefinition}`);\n            return null;\n        }\n        // Render SXA Rendering Variant\n        if ((_a = renderingDefinition.params) === null || _a === void 0 ? void 0 : _a.FieldNames) {\n            return componentFactory(renderingDefinition.componentName, renderingDefinition.params.FieldNames);\n        }\n        return componentFactory(renderingDefinition.componentName);\n    }\n    addRef(nodeRef) {\n        this.nodeRefs.push(nodeRef);\n    }\n    createRawElement(elem, baseProps) {\n        if (!elem.name) {\n            console.error('\"elem.name\" is undefined in \"createRawElement\". Something is likely wrong with your component data. Ensure that your components have a name.');\n            return null;\n        }\n        const attributes = convertAttributesToReactProps(elem.attributes);\n        const props = Object.assign(Object.assign(Object.assign({}, baseProps), attributes), { dangerouslySetInnerHTML: elem.contents ? { __html: elem.contents } : undefined });\n        /* Since we can't set the \"key\" attribute via React, stash it\n         * so we can set in the DOM after render.\n         */\n        if (!Array.isArray(attributes) && attributes && attributes.chrometype === 'placeholder') {\n            props.phkey = elem.attributes.key; // props that get rendered as dom attribute names need to be lowercase, otherwise React complains.\n            props.ref = this.addRef; // only need ref for placeholder containers, trying to add it to other components (e.g. stateless components) may result in a warning.\n        }\n        return React.createElement(elem.name, props);\n    }\n    updateKeyAttributes() {\n        if (!this.nodeRefs) {\n            return;\n        }\n        this.nodeRefs.forEach((ref) => {\n            if (ref && ref.getAttribute) {\n                // ref might be a wrapped component, so check for existence of getAttribute method\n                const key = ref.getAttribute('phkey');\n                if (key) {\n                    // need to manually set the 'key' attribute after component mount because\n                    // 'key' is a reserved attribute/prop in React. so it will never be rendered\n                    // as an html attribute.\n                    ref.setAttribute('key', key);\n                }\n            }\n        });\n    }\n}\n", "import React from 'react';\nexport const MissingComponent = (props) => {\n    const componentName = props.rendering && props.rendering.componentName\n        ? props.rendering.componentName\n        : 'Unnamed Component';\n    // error override would mean component is not unimplemented\n    !props.errorOverride &&\n        console.log(`Component props for unimplemented '${componentName}' component`, props);\n    const errorMessage = props.errorOverride ||\n        'JSS component is missing React implementation. See the developer console for more information.';\n    return (React.createElement(\"div\", { style: {\n            background: 'darkorange',\n            outline: '5px solid orange',\n            padding: '10px',\n            color: 'white',\n            maxWidth: '500px',\n        } },\n        React.createElement(\"h2\", null, componentName),\n        React.createElement(\"p\", null, errorMessage)));\n};\nMissingComponent.displayName = 'MissingComponent';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { getFieldValue } from '@sitecore-jss/sitecore-jss/layout';\nimport { parse as styleParse } from 'style-attr';\n// https://stackoverflow.com/a/10426674/9324\nexport const convertKebabCasetoCamelCase = (str) => str.replace(/^.|-./g, (letter, index) => index === 0 ? letter.toLowerCase() : letter.substr(1).toUpperCase());\n/**\n * https://facebook.github.io/react/docs/dom-elements.html\n * We are only concerned with style at the moment, which needs to be converted from string to object to satisfy React.\n * We don't need to convert any other attributes (that we know of), because the placeholder renders them \"as-is\" by using the special \"is\" React prop.\n * For whatever reason though, the \"style\" prop is still validated as needing to be an object when using the \"is\" prop, which is why we need to convert from string to object.\n * @param {string} [style] style\n * @returns {Array} converted attributes\n */\nexport const convertStyleAttribute = (style = '') => {\n    // styleParse converts a style attribute string into an object format\n    const parsedStyle = styleParse(style, { preserveNumbers: true });\n    return Object.keys(parsedStyle).reduce((initialResult, styleKey) => {\n        const result = initialResult;\n        const convertedKey = convertKebabCasetoCamelCase(styleKey);\n        result[convertedKey] = parsedStyle[styleKey];\n        return result;\n    }, {});\n};\nexport const convertAttributesToReactProps = (attributes) => {\n    if (!attributes) {\n        return [];\n    }\n    return Object.keys(attributes).reduce((initialResult, attrName) => {\n        const result = initialResult;\n        switch (attrName) {\n            case 'class': {\n                result.className = attributes.class;\n                break;\n            }\n            case 'style': {\n                result.style = convertStyleAttribute(attributes.style);\n                break;\n            }\n            default: {\n                result[attrName] = attributes[attrName];\n                break;\n            }\n        }\n        return result;\n    }, {});\n};\n/**\n * \"class\" property will be transformed into or appended to \"className\" instead.\n * @param {string} otherAttrs all other props included on the image component\n * @returns {void}\n */\nexport const addClassName = (otherAttrs) => {\n    if (otherAttrs.class) {\n        // if any classes are defined properly already\n        if (otherAttrs.className) {\n            let className = otherAttrs.className;\n            className += ` ${otherAttrs.class}`;\n            otherAttrs.className = className;\n        }\n        else {\n            otherAttrs.className = otherAttrs.class;\n        }\n        delete otherAttrs.class;\n    }\n};\n/**\n * Converts the given tag attributes object to a string\n * @param {Object.<string, unknown>} attributes the attributes object\n * @returns {string} string representation of the attributes\n */\nexport const getAttributesString = (attributes) => {\n    const { className } = attributes, restAttributes = __rest(attributes, [\"className\"]);\n    const attributesEntries = Object.entries(restAttributes).map(([key, value]) => {\n        if (typeof value === 'object') {\n            const valueString = JSON.stringify(value)\n                .replace(/\"|{|}/g, '')\n                .replace(/,/g, ';');\n            return `${key}=\"${valueString}\"`;\n        }\n        return `${key}=\"${value}\"`;\n    });\n    if (className) {\n        attributesEntries.push(`class=\"${className}\"`);\n    }\n    return attributesEntries.join(' ');\n};\n/**\n * Used in FEAAS and BYOC implementations to convert datasource item field values into component props\n * @param {ComponentFields} fields field collection from Sitecore\n * @returns JSON object that can be used as props\n */\nexport const getDataFromFields = (fields) => {\n    let data = {};\n    data = Object.entries(fields).reduce((acc, [key]) => {\n        acc[key] = getFieldValue(fields, key);\n        return acc;\n    }, data);\n    return data;\n};\n", "import React from 'react';\nconst styles = {\n    height: '100px',\n    backgroundImage: 'linear-gradient(45deg, #ffffff 25%, #dcdcdc 25%, #dcdcdc 50%, #ffffff 50%, #ffffff 75%, #dcdcdc 75%, #dcdcdc 100%)',\n    backgroundSize: '3px 3px',\n};\nexport const HiddenRendering = () => React.createElement(\"div\", { style: styles });\nexport const HIDDEN_RENDERING_NAME = 'Hidden Rendering';\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport React from 'react';\nimport * as FEAAS from '@sitecore-feaas/clientside/react';\nimport { LayoutServicePageState } from '@sitecore-jss/sitecore-jss/layout';\nimport { getDataFromFields } from '../utils';\nexport const FEAAS_COMPONENT_RENDERING_NAME = 'FEaaSComponent';\n/**\n * @param {FEaaSComponentProps} props component props\n */\nexport const FEaaSComponent = (props) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const computedRevision = ((_a = props.params) === null || _a === void 0 ? void 0 : _a.ComponentRevision) || props.revisionFallback;\n    if (!props.template &&\n        (!props.params ||\n            !props.params.LibraryId ||\n            !props.params.ComponentId ||\n            !props.params.ComponentVersion ||\n            !props.params.ComponentHostName ||\n            !computedRevision)) {\n        // Missing FEaaS component required props\n        return null;\n    }\n    // combine fetchedData from server with datasource data (if present)\n    const data = Object.assign(Object.assign({}, props.fetchedData), { _: getDataFromFields((_b = props.fields) !== null && _b !== void 0 ? _b : {}) });\n    // FEaaS control would still be hydrated by client\n    // we pass all the props as a workaround to avoid hydration error, until we convert all JSS components to server side\n    // this also allows component to fall back to full client-side rendering when template or src is empty\n    // FEAAS should not fetch anything, since JSS does the fetching - so we pass empty array into fetch param\n    return (React.createElement(FEAAS.Component, { data: data, template: props.template, cdn: (_c = props.params) === null || _c === void 0 ? void 0 : _c.ComponentHostName, library: (_d = props.params) === null || _d === void 0 ? void 0 : _d.LibraryId, version: (_e = props.params) === null || _e === void 0 ? void 0 : _e.ComponentVersion, component: (_f = props.params) === null || _f === void 0 ? void 0 : _f.ComponentId, instance: (_g = props.params) === null || _g === void 0 ? void 0 : _g.ComponentInstanceId, revision: computedRevision, fetch: [] }));\n};\n/**\n * Fetches server component props required for server rendering, based on rendering params.\n * Component endpoint will either be retrieved from params or from endpointOverride\n * @param {FEaaSComponentParams} params component params\n * @param {LayoutServicePageState} [pageState] page state to determine which component variant to use\n * @param {string} [endpointOverride] optional override for component endpoint\n */\nexport function fetchFEaaSComponentServerProps(params, pageState, endpointOverride) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const revisionFallback = pageState && pageState !== LayoutServicePageState.Normal ? 'staged' : 'published';\n        const src = endpointOverride || composeComponentEndpoint(params, revisionFallback);\n        let template = '';\n        let fetchedData = {};\n        const fetchDataOptions = params.ComponentDataOverride\n            ? JSON.parse(params.ComponentDataOverride)\n            : {};\n        try {\n            template = yield fetchComponentTemplate(src, params, revisionFallback);\n            fetchedData = yield fetchData(fetchDataOptions);\n        }\n        catch (e) {\n            console.error(e);\n        }\n        return {\n            fetchedData,\n            revisionFallback,\n            template,\n        };\n    });\n}\n/**\n * @param {string} src component endpoint\n * @param {FEaaSComponentParams} params rendering parameters for FEAAS component\n * @param {RevisionType} revisionFallback fallback revision to fetch if revision is absent in params\n */\nfunction fetchComponentTemplate(src, params, revisionFallback) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const { template } = yield FEAAS.fetchComponent(src);\n            return template;\n        }\n        catch (error) {\n            console.error(`Fetch FEAAS component from ${src} failed. Ensure the component revision \"${params.ComponentRevision ||\n                revisionFallback}\" is present`);\n            throw error;\n        }\n    });\n}\n/**\n * Fetches component data based on the provided data options.\n * This function asynchronously fetches data using the FEAAS.DataSettings.fetch method.\n *\n * @param {FEAAS.DataOptions} dataOptions - Options to customize data fetching.\n * @returns {Promise<FEAAS.DataScopes>} A promise that resolves with the fetched data,\n * or rejects with an error if data fetching encounters an issue.\n * @throws {Error} If an error occurs during data fetching, it is propagated as an error.\n */\nfunction fetchData(dataOptions) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const fetchedData = yield FEAAS.DataSettings.fetch(dataOptions || {});\n            return fetchedData;\n        }\n        catch (error) {\n            console.error('Fetch FEAAS component data settings failed');\n            throw error;\n        }\n    });\n}\n/**\n * Build component endpoint URL from component's params\n * @param {FEaaSComponentParams} params rendering parameters for FEAAS component\n * @param {RevisionType} revisionFallback fallback revision to fetch if revision is absent in params\n * @returns component endpoint URL\n */\nexport const composeComponentEndpoint = (params, revisionFallback) => {\n    const revision = params.ComponentRevision || revisionFallback;\n    const hostname = params.ComponentHostName.startsWith('https://')\n        ? params.ComponentHostName\n        : `https://${params.ComponentHostName}`;\n    return `${hostname}/components/${params.LibraryId}/${params.ComponentId}/${params.ComponentVersion}/${revision}`;\n};\n", "/** Converts the keys of an object to kebab case. */\nexport const objectKeysToKebabCase = (object: Record<string, any> = {}) =>\n  Object.keys(object).reduce(\n    (acc, key) =>\n      Object.assign(acc, {\n        [toKebabCase(key)]: object[key]\n      }),\n    {} as Record<string, any>\n  )\nexport const objectKeysToCamelCase = (object: Record<string, any> = {}) =>\n  Object.keys(object).reduce(\n    (acc, key) =>\n      Object.assign(acc, {\n        [toCamelCase(key)]: object[key]\n      }),\n    {} as Record<string, any>\n  )\n\nexport function toKebabCase(str: string) {\n  const KEBAB_REGEX = /[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g\n  return toCamelCase(str).replace(KEBAB_REGEX, function (match) {\n    return '-' + match.toLowerCase()\n  })\n}\nexport function toCamelCase(input: string): string {\n  input = input.replace(/[-_ ]+/g, ' ')\n  input = input.charAt(0).toLowerCase() + input.slice(1)\n  return input\n    .split(/\\s+/)\n    .map((word, index) => (index === 0 ? word : word.charAt(0).toUpperCase() + word.slice(1)))\n    .join('')\n}\n", "import { ExternalComponentSchemaProperty } from './components.js'\nimport { JSONSchema } from './schema.js'\n\nexport type ExternalComponentSchemaHandler = (\n  property: ExternalComponentSchemaProperty\n) => ExternalComponentSchemaProperty\n\n/**\n * Defines a custom data type, that can be expanded into multiple properties. Handler is defined as a function that\n * accepts all the nested properties and returns a new schema. This can be used to define nested structures that\n * redirect the properties to a nested definition, like Item does.\n *\n * `ui` property can be returned as well to customize UI settings for the type (accepts parameters of `ui:options` of UI\n * Schema (https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema/) )\n *\n * A name of a custom type has to start with a capital letter.\n *\n * @param handler\n * @see https://doc.sitecore.com/xmc/en/developers/xm-cloud/the-simple-field-types.html\n *      https://doc.sitecore.com/xmc/en/developers/xm-cloud/the-link-field-types.html\n * @example\n *\n *   registerDataType(\n *     (schema) => ({\n *       type: 'string',\n *       description: 'My custom data type',\n *       ...schema\n *     }),\n *     { name: 'MyDataType' }\n *   )\n *\n *   registerComponent(MyComponent, {\n *     name: 'MyComponent',\n *     properties: {\n *       myField: {\n *         type: 'MyDataType',\n *         title: 'Title will mix with the description'\n *       }\n *     }\n *   })\n *\n */\nexport function registerDataType(\n  handler: ExternalComponentSchemaHandler,\n  {\n    name\n  }: {\n    name: string\n  }\n) {\n  if (name.charAt(0) != name.charAt(0).toUpperCase()) {\n    throw new Error('Custom types must start with a capital letter')\n  }\n  BYOCDataTypes[name] = handler\n}\n\n/**\n * Using `registerDataType` BYOC defines set of data types that are available in XM cloud.\n * It includes simple types like Date, String, etc, and then complex types link Link, Item and List.\n *\n * Custom types start with a capital letter.\n * - Top level field values are accessed directly by their names.\n * - Nested fields inside Item, can be accessed via `item.fields.<fieldName>.value` notation, or using\n * `getFieldValue(item.fields,\n * 'fieldName', defaultValue)` JSS helper.\n * - List items are accessed via `list[0].fields.<fieldName>.value` notation.\n *\n * When describing types of properties in components, you can use types provided by JSS: Field<...> and LinkField,\n * ItemField, ListField, ImageField, etc. The following is a list of all types, their respective JSS types and data\n * shapes.\n * | Type                | Typescript       | Shape |\n * | ------------------- | ---------------- | ----- |\n * | File                | FileField        | { src: string, title: string, displayName: string } |\n * | Date                | Field<string>    | \"2021-01-01T00:00:00.000Z\" |\n * | Datetime            | Field<string>    | \"2021-01-01T00:00:00.000Z\" |\n * | RichText            | Field<string>    | \"<p>Some text</p>\" |\n * | SingleLineText      | Field<string>    | \"Some text\" |\n * | MultiLineText       | Field<string>    | \"Some\\ntext\" |\n * | Image               | ImageField       | { src: string, ... } |\n * | Checkbox            | Field<boolean>   | true |\n * | Item                | Item             | { name: string, displayName: string, id: string, url: string, fields: { [key: string]: Field<any> } } |\n * | List                | Item[]           | { name: string, displayName: string, id: string, url: string, fields: { [key: string]: Field<any> } }[] |\n * | Link                | LinkField        | { href: string, text: string, linktype: string, title: string, class: string, target: string, anchor: string, querystring: string } |\n * | DropLink            | Item             | { name: string, displayName: string, id: string, url: string, fields: { [key: string]: Field<any> } } |\n * | DropTree            | Item             | { name: string, displayName: string, id: string, url: string, fields: { [key: string]: Field<any> } } |\n * | String              | Field<string>    | \"Some text\" |\n * | Number              | Field<number>    | 123 |\n * | Integer             | Field<number>    | 123 |\n * | Boolean             | Field<boolean>   | true |\n *\n * @example\n *\n * registerComponent(MyComponent, {\n *   name: 'MyComponent',\n *   description: 'Description of my example component',\n *   properties: {\n *     myField: {\n *       type: 'Datetime',\n *       title: 'My Field'\n *     },\n *     activities: {\n *       type: 'List',\n *       properties: {\n *         name: {\n *            type: 'String',\n *            title: 'Name of a person'\n *         },\n *         rank: {\n *           type: 'Number',\n *           description: 'Numerical rank, like 1, 2, 3, etc'\n *         }\n *       }\n *     },\n *     myItem: {\n *        type: 'Item',\n *        properties: {\n *          nestedField: {\n *            type: 'Number'\n *            title: 'Nested Field\n *         }\n *       }\n *     }\n *   }\n * })\n *\n *\n * function MyComponebnt(props: {myField: string, myItem: { fields: { nestedField: number } }, activities: { fields: { name: string, rank: number } }[] }) {\n *   return <>\n *    <div>{props.myField}</div>\n *    <div>{props.myItem.fields.nestedField} or {getFieldValue(props.myItem.fields, 'nestedField')}</div>\n *  </>\n * }\n *\n */\nexport const BYOCDataTypes: Record<string, ExternalComponentSchemaHandler> = {}\n\n/** Standard definition of a link */\nconst XMLinkHandler = () => ({\n  type: 'object',\n  properties: {\n    href: {\n      required: true,\n      type: 'string',\n      title: 'URL',\n      description:\n        'The URL of the link, except for media items, for which the Url property contains the path to the media item relative to /Sitecore/Media Library.'\n    },\n    text: { type: 'string', title: 'Text', description: 'The text content of the HTML <a> element.' },\n    linktype: {\n      type: 'string',\n      enum: ['internal', 'external', 'media', 'anchor', 'mailto', 'javascript'],\n      default: 'internal',\n      title: 'Target',\n      description: 'The target attribute of the HTML <a> element.'\n    },\n    title: { type: 'string', title: 'Title', description: 'The title attribute of the HTML <a> element.' },\n    //className: { type: 'string', title: 'Class Name', description: 'The class attribute of the HTML <a> element.' },\n    class: { type: 'string', title: 'Class Name', description: 'The class attribute of the HTML <a> element.' },\n    target: {\n      type: 'string',\n      title: 'Target',\n      description: 'The target attribute of the HTML <a> element.',\n      enum: ['', '_blank', '_self', '_parent', '_top']\n    },\n    anchor: {\n      type: 'string',\n      title: 'Anchor',\n      description: 'The name attribute of the HTML <a> element, without the leading hash character (\u201C#\u201D).'\n    },\n    querystring: { type: 'string', title: 'Query String', description: 'Query string parameters to add to the URL.' }\n  }\n})\n\nconst ItemHandler = ({ properties, ...schema }: ExternalComponentSchemaProperty) => ({\n  ...schema,\n  type: 'object',\n  properties: {\n    name: { type: 'string' },\n    displayName: { type: 'string' },\n    id: { type: 'string' },\n    url: { type: 'string' },\n    fields: propertiesToFields(properties)\n  }\n})\n\nfunction propertiesToFields(properties: Record<string, JSONSchema> | undefined = {}) {\n  return {\n    type: 'object',\n    properties: Object.keys(properties).reduce((fields, key) => {\n      const { title, ...rest } = properties[key]\n      return {\n        ...fields,\n        [key]: {\n          type: 'object',\n          properties: {\n            value: {\n              title: title || key,\n              ...properties[key]\n            }\n          }\n        }\n      }\n    }, {})\n  }\n}\n\nexport const XMTypes = {\n  Link: XMLinkHandler,\n  DropLink: ItemHandler,\n  DropTree: ItemHandler,\n  File: () => ({\n    type: 'object',\n    properties: {\n      src: { type: 'string', title: 'Source', description: 'The URL of the file.' },\n      title: { type: 'string', title: 'Title', description: 'Title of a file' },\n      displayName: { type: 'string', title: 'Display name', description: 'Display name of a file' }\n    }\n  }),\n  Date: () => ({\n    type: 'string',\n    format: 'date'\n  }),\n  Datetime: () => ({\n    type: 'string',\n    format: 'date-time'\n  }),\n  RichText: () => ({\n    type: 'string'\n  }),\n  Image: (schema: ExternalComponentSchemaProperty) => ({\n    type: 'object',\n    properties: {\n      src: { type: 'string' },\n      ...schema.properties\n    }\n  }),\n  SingleLineText: () => {\n    type: 'string'\n  },\n  MultiLineText: () => ({\n    type: 'string'\n  }),\n  Checkbox: () => ({\n    type: 'boolean'\n  }),\n  String: () => ({\n    type: 'string'\n  }),\n  Number: () => ({\n    type: 'number'\n  }),\n  Boolean: () => ({\n    type: 'boolean'\n  }),\n  Item: ItemHandler,\n  List: ({ properties, ...schema }: ExternalComponentSchemaProperty) => ({\n    ...schema,\n    type: 'array',\n    items: {\n      type: 'object',\n      properties: {\n        name: { type: 'string' },\n        displayName: { type: 'string' },\n        id: { type: 'string' },\n        url: { type: 'string' },\n        fields: propertiesToFields(properties)\n      }\n    }\n  })\n} as const\n\n// Register all default XM data types\nObject.keys(XMTypes).forEach((property) => {\n  registerDataType(XMTypes[property as keyof typeof XMTypes] as ExternalComponentSchemaHandler, { name: property })\n})\n\nexport type XMTypes = typeof XMTypes\n", "import type { UiSchema } from '@rjsf/utils'\n\n/** Simplified JSON schema for improved suggestions */\nimport { JSONSchema7, JSONSchema7Type, JSONSchema7TypeName } from 'json-schema'\nimport { toCamelCase, toKebabCase } from './utils.js'\nimport { BYOCDataTypes } from './datatypes.js'\nexport type JSONSchema7GenericKeys = Exclude<\n  keyof JSONSchema7,\n  // Type-specific properties\n  | 'items'\n  | 'additionalItems'\n  | 'properties'\n  | 'additionalProperties'\n  | 'patternProperties'\n  | 'dependencies'\n  | 'required'\n  | 'minProperties'\n  | 'maxProperties'\n  | 'minItems'\n  | 'maxItems'\n  | 'uniqueItems'\n  | 'minLength'\n  | 'maxLength'\n  | 'pattern'\n  | 'format'\n  | 'minimum'\n  | 'maximum'\n  | 'multipleOf'\n  | 'exclusiveMinimum'\n  | 'exclusiveMaximum'\n  | 'propertyNames'\n  | 'contains'\n  // Rarely used or more obscure properties\n  | '$schema'\n  | 'definitions'\n  | '$defs'\n  | '$comment'\n  | 'const'\n  | 'examples'\n  | 'readOnly'\n  | 'writeOnly'\n  | 'contentMediaType'\n  | 'contentEncoding'\n  | 'if'\n  | 'then'\n  | 'else'\n  | 'allOf'\n  | 'anyOf'\n  | 'oneOf'\n  | 'not'\n  // Advanced features\n  | '$ref'\n  | '$id'\n>\n\n/** Schema for common properties. */\nexport interface BaseSchema<T extends JSONSchema7TypeName> extends Pick<JSONSchema7, JSONSchema7GenericKeys> {\n  /** The type of data. */\n  type: T\n  [key: string]: any\n}\n\n/** Schema for string type properties. */\nexport interface StringSchema extends BaseSchema<'string'> {\n  /** Minimum length of the string. */\n  minLength?: number\n  /** Maximum length of the string. */\n  maxLength?: number\n  /** A regex pattern the string should match. */\n  pattern?: string\n  /** Named format the string should adhere to. */\n  format?: string\n}\n\n/** Schema for number type properties. */\nexport interface NumberSchema extends BaseSchema<'number' | 'integer'> {\n  /** Minimum value of the number. */\n  minimum?: number\n  /** Maximum value of the number. */\n  maximum?: number\n  /** The number should be a multiple of this value. */\n  multipleOf?: number\n}\n\n/** Schema for object type properties. */\nexport interface ObjectSchema extends BaseSchema<'object'> {\n  /** Properties of the object. */\n  properties?: Record<string, JSONSchema>\n  /** Additional properties not covered by 'properties'. */\n  additionalProperties?: JSONSchema | boolean\n  /** Array of required properties. */\n  required?: string[]\n  /** Minimum number of properties. */\n  minProperties?: number\n  /** Maximum number of properties. */\n  maxProperties?: number\n  /** Properties matching the patterns. */\n  patternProperties?: Record<string, JSONSchema>\n  /** Property dependencies. */\n  dependencies?: Record<string, JSONSchema | string[]>\n}\n\n/** Schema for array type properties. */\nexport interface ArraySchema extends BaseSchema<'array'> {\n  /** Items in the array. */\n  items?: JSONSchema | JSONSchema[]\n  /** Additional items not covered by 'items'. */\n  additionalItems?: JSONSchema | boolean\n  /** Minimum number of items. */\n  minItems?: number\n  /** Maximum number of items. */\n  maxItems?: number\n  /** All items should be unique. */\n  uniqueItems?: boolean\n}\n\n/** Schema for boolean type properties. */\nexport interface BooleanSchema extends BaseSchema<'boolean'> {}\n\n/** Schema for null type properties. */\nexport interface NullSchema extends BaseSchema<'null'> {}\n\n/** Definition of JSON Schema type. */\nexport type JSONSchema = StringSchema | NumberSchema | ObjectSchema | ArraySchema | BooleanSchema | NullSchema\n\n/**\n * JSON Schema is limited in describing how a given data type should be rendered as a form input component. That's why\n * this library introduces the concept of uiSchema.\n *\n * A UI schema is basically an object literal providing information on how the form should be rendered, while the JSON\n * schema tells what.\n *\n * @see https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema\n * @example\n *\n * {\n *       // Present color choices as radio buttons\n *       color: { 'ui:widget': 'radio' },\n *       // Text is a textarea with 5 rows\n *       text: { 'ui:widget': 'textarea', 'ui:options': { rows: 5 } },\n *       // Count is a number field with spinner button\n *       count: { 'ui:widget': 'updown' }\n *     },\n *\n */\n\nexport type UISchema = UiSchema\nexport type JSONSchemaConstruct = Partial<ArraySchema | ObjectSchema>\n\n/**\n * Iterate JSON schema including nested constructs like oneOf, allOf, if, then, etc. creating a copy in process.\n *  */\nexport function traverseSchema(\n  schema: JSONSchemaConstruct,\n  callback: (value: JSONSchemaConstruct) => JSONSchemaConstruct\n): JSONSchemaConstruct {\n  var traversed = {} as Partial<ArraySchema | ObjectSchema>\n  for (var property in schema) {\n    const value = schema[property]\n    if (value && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        traversed[property] = value.map((item) =>\n          typeof item === 'object' && item ? traverseSchema(item, callback) : item\n        )\n      } else {\n        traversed[property] = traverseSchema(callback(value), callback)\n      }\n    } else {\n      traversed[property] = schema[property]\n    }\n  }\n  return traversed\n}\n\n/**\n * Normalizes schema and assigns default values. It will traverse schema to normalize nested constructs.\n */\nexport function transformSchema(schema: Partial<ObjectSchema | ArraySchema>, defaults: Record<string, any> = {}) {\n  schema = transformSchemaObject({\n    /** 1. Assign schema type unless given */\n    type: 'object',\n    /** 2. Ensure that properties is not null */\n    properties: {},\n    required: [],\n    ...schema\n  })\n  // Iterate nested constructs, without passing the defaults object\n  return traverseSchema(schema, (construct) =>\n    construct.properties ? transformSchemaObject(construct, defaults) : construct\n  )\n}\n/**\n * Normalizes schema and assigns default values\n */\nexport function transformSchemaObject(\n  schema: Partial<ObjectSchema | ArraySchema>,\n  defaults: Record<string, any> = {}\n): ObjectSchema | ArraySchema {\n  const transformed = { ...schema }\n  if (transformed.properties) {\n    transformed.required = schema.required?.slice() || []\n    transformed.properties = Object.keys(transformed.properties).reduce((acc: ObjectSchema['properties'], key) => {\n      const given = transformed.properties[key]\n      const custom = BYOCDataTypes[given?.type]?.(given)\n      const property = {\n        ...custom,\n        ...given,\n        type: custom?.type || given.type,\n        /** 3. Assign default value from the explicit defaults object*/\n        default: defaults.hasOwnProperty(key) ? defaults[key] : given.default,\n        /** 4. Generate fallback title */\n        title:\n          given.title ||\n          toKebabCase(key)\n            .split('-')\n            .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n            .join(' ')\n      }\n      if (given?.properties || custom?.properties) {\n        property.properties = {\n          ...(custom?.properties || given?.properties)\n        }\n        // Auto-merge property definitions if their names match. Will bail out when expanding nested objects like Item and List\n        Object.keys(custom?.properties || {}).forEach((subKey) => {\n          property.properties[subKey] = { ...custom?.properties?.[subKey], ...given?.properties?.[subKey] }\n        })\n      }\n      if (given?.items || custom?.items) {\n        property.items = custom?.items || given?.items\n      }\n      if (property.default === undefined) {\n        delete property.default\n      }\n      if ('required' in property && typeof property.required == 'boolean') {\n        if (transformed.required.indexOf(key) == -1) {\n          transformed.required.push(key)\n        }\n        delete property.required\n      }\n      return Object.assign(acc as any, {\n        [key]: property\n      })\n    }, {}) as Partial<ObjectSchema>\n  }\n  return {\n    type: 'object',\n    ...transformed\n  } as ObjectSchema\n}\n/** Make UI schema assumptions to improve the ui */\nexport const transformUiSchema = (uiSchema: UISchema, properties: Record<string, any>) => {\n  let transformed: UISchema = {\n    ...uiSchema\n  }\n\n  for (var property in properties) {\n    if (typeof properties[property] != 'object' || !properties[property]) {\n      continue\n    }\n    if (properties[property]?.type == 'integer' || properties[property]?.type == 'number') {\n      transformed[property] = {\n        ...transformed[property],\n        'ui:options': {\n          widget: 'updown'\n        }\n      }\n    }\n    if (properties[property]?.ui) {\n      transformed[property] = {\n        ...transformed[property],\n        'ui:options': {\n          ...transformed[property]?.['ui:options'],\n          ...properties[property].ui\n        }\n      }\n    }\n    transformed = {\n      ...transformed,\n      [property]: properties[property].items\n        ? { items: transformUiSchema(transformed[property], properties[property].items.properties) }\n        : transformUiSchema(transformed[property], properties[property].properties || {})\n    }\n  }\n\n  return transformed\n}\n\n/** Parses a property value based on its property name and type defined in the JSON properties object. */\nexport function parseValue(value: any, type: JSONSchema['type']) {\n  switch (type) {\n    case 'string':\n      return value\n    case 'object':\n      try {\n        return typeof value == 'object' && value != null ? value : JSON.parse(value)\n      } catch (e) {\n        return null\n      }\n    case 'array':\n      try {\n        return Array.isArray(value) ? value : JSON.parse(value)\n      } catch (e) {\n        return null\n      }\n    case 'number':\n      return parseFloat(value)\n    case 'integer':\n      return parseInt(value)\n    case 'boolean':\n      return value == 'true' || value == '1'\n    default:\n      return value\n  }\n}\n\n/** Transform properties to match the schema types of a specified component. It will parse json for objects and arrays. */\nexport function parseSchemaProperties(schema: JSONSchema, props: Record<string, string>): any {\n  return Object.keys(props).reduce((prev, name) => {\n    const value = props[name]\n    const prop = toCamelCase(name)\n    const definition = schema?.properties[prop]\n    const type = definition?.type\n    const parsed = parseValue(value, type)\n    if (parsed != null && !name.startsWith('data-attribute') && !['class', 'id', 'contenteditable'].includes(name)) {\n      return { ...prev, [prop]: parsed }\n    } else {\n      return prev\n    }\n  }, {})\n}\n/**\n * 1. Transform properties to match the schema types of a specified component. It will parse json for objects and arrays.\n * 2. Combine it with default values as defined by the schema\n */\nexport function getSchemaProperties(schema: JSONSchema, props: Record<string, string>): any {\n  return {\n    ...getSchemaDefaults(schema),\n    ...parseSchemaProperties(schema, props)\n  }\n}\n/** Get properties with their default non-null values*/\nexport function getSchemaDefaults(schema: JSONSchema): any {\n  return Object.keys(schema.properties).reduce((prev, prop) => {\n    if (schema.properties[prop]?.default != null) {\n      return { ...prev, [prop]: schema.properties[prop]?.default }\n    } else {\n      return prev\n    }\n  }, {})\n}\n", "import { DataSettings } from './lib/types.js'\nimport { ArraySchema, JSONSchema, ObjectSchema, transformSchema } from './schema.js'\n\nexport type DataHandler = (settings: DataSettings) => Partial<DataSettings> | Promise<any>\nexport type RequestConfigurator = (resource: RequestInfo, options?: RequestInit) => Promise<Response> // DROP THIS\n// Store registered datasources in a global variable BYOCDatasources for external access\n// On the clientside the datasource registry is shared via global variable, on server it doesnt to avoid breaking next.js\nexport const registeredDatasources: Record<string, RegisteredDatasource> =\n  typeof window != 'undefined' ? (window.BYOCDatasources ||= {}) : {}\n\n/**\n * Registers a custom datasource with the provided function and schema.\n *\n * @param handler               - A function that returns the DataSettings settings.\n * @param options               - Options for the datasource. Includes the datasource id, schema, and other\n *                              metadata.\n * @param {string} options.id            - Unique identifier of the datasource.\n * @param {string} [options.name]        - (Optional) Internal name of a datasource. Defaults to the id.\n * @param {string} [options.sample]      - (Optional) Sample data for the datasource (alternative to schema).\n * @param {string} [options.type]        - (Optional) JSON Schema type (array or object).\n * @param {string} [options.properties]  - (Optional) JSON Schema properties definition.\n * @param {string} [options.schema]      - (Optional) Whole JSON Schema definition.\n * @returns Void.\n * @example\n *\n *   // HTTP-based datasource, described by schema\n *\n *   registerDatasource(\n *     () => ({\n *       url: 'https://api.sampleapis.com/wines/reds'\n *     }),\n *     {\n *       id: 'http-and-schema',\n *       name: 'Wines via HTTP',\n *       description: 'List of red wines fetched by HTTP, each with `wine`, `price` and `id` property',\n *       type: 'array',\n *       properties: {\n *         wine: { type: 'string' },\n *         price: { type: 'string' },\n *         id: { type: 'number' }\n *       }\n *     }\n *   )\n *\n * @example\n *\n * // When datasource is registered with ID of a datasource that exist in the library, it can adjust the data settings of the\n * original request.\n *\n * registerDatasource(\n *   // settings will contain DataSettings as specified via UI in Components app\n *   (settings) => ({\n *     ...settings,\n *     params: {\n *       // add ?page=2 parameter to the original URL\n *       ...settings.params,\n *       page: 2\n *     },\n *     headers: {\n *       // add Authorization header in addition to original headers\n *       ...settings.headers,\n *       Authorization: 'Bearer token'\n *     }\n *   }),\n *   {\n *     // ID of a datasource as created in UI (can be visible in the address bar URL) to be extended\n *     // No other options are specified in this case.\n *     id: 'aBcDaaa23a'\n *   }\n * )\n *\n * @example\n *\n *   import { promises as fs } from 'fs'\n *   // Async handlers supposed to return data itself instead of DataSettings\n *\n *   registerDatasource(\n *     async () => {\n *       return JSON.parse(await fs.readFile('wines.json', 'utf-8'))\n *     },\n *     {\n *       id: 'file-and-sample',\n *       name: 'Wines from JSON file',\n *       description: 'JSON file read and parsed from file (no HTTP request is made), with sample data',\n *       sample: [\n *         { wine: 'Emporda 2012', id: 1, price: '$250' },\n *         { wine: 'P\u00EAra-Manca Tinto 1990', id: 2, price: '$312' }\n *       ]\n *     }\n *   )\n *\n */\nexport function registerDatasource(\n  handler: DataHandler,\n  options: {\n    sample?: any\n    schema?: ArraySchema | ObjectSchema\n    id: string\n    name?: string\n    description?: string\n    title?: string\n    properties?: JSONSchema['properties']\n    type?: 'array' | 'object'\n  }\n) {\n  if (typeof handler !== 'function') {\n    throw new Error(\n      `The first argument of registerDatasource must be a function returning DataSettings or Promise of data`\n    )\n  }\n\n  if (!options.id) {\n    throw new Error(`Missing 'id' property in input`)\n  }\n\n  const idRegex = /^[a-zA-Z0-9-_]+$/\n  if (!idRegex.test(options.id)) {\n    throw new Error(\n      `Invalid 'id' property in input. 'id' should only contain alphanumeric characters, hyphens, and underscores.`\n    )\n  }\n\n  //if (getDatasource(options.id)?.handler != null) {\n  //  throw new Error(`Datasource with id ${options.id} already registered`)\n  //}\n\n  registeredDatasources[options.id] = {\n    ...normalizeDatasourceOptions(options),\n    handler\n  }\n\n  setRegistrationCallback()\n}\nexport type DatasourceOptionsInput = Parameters<typeof registerDatasource>[1]\n\n/**\n * Returns the registered datasource with the provided id.\n *\n * @param id  - The id of the registered datasource.\n * @returns The registered datasource.\n */\nexport function getDatasource(id: RegisteredDatasource['id']) {\n  return registeredDatasources[id]\n}\n\n/**\n * Normalizes the datasource options. If the schema is not provided, it will be derived from the properties.\n *\n * @param datasourceOptions  - The datasource options.\n * @returns The normalized datasource options.\n */\nfunction normalizeDatasourceOptions(datasourceOptions: DatasourceOptionsInput) {\n  const { id, name, title, properties, sample, schema, description = null, type = 'object' } = datasourceOptions\n\n  return {\n    id,\n    description,\n    sample,\n    name: name || title || id,\n    handler: ((settings) => settings) as DataHandler,\n    schema:\n      schema || properties\n        ? transformSchema({\n            ...(schema || { properties, type }),\n            title: schema?.title || title || name\n          })\n        : undefined\n  }\n}\n\nexport type RegisteredDatasource = ReturnType<typeof normalizeDatasourceOptions>\n\nvar registrationCallback: ReturnType<typeof setTimeout>\n\nfunction setRegistrationCallback() {\n  clearTimeout(registrationCallback)\n\n  if (typeof window !== 'undefined' && window.parent !== window) {\n    registrationCallback = setTimeout(() => {\n      // send datasources from iframe to parent window\n      window.parent?.postMessage(\n        JSON.stringify({\n          action: 'register-datasources',\n          data: Object.values(registeredDatasources)\n        }),\n        '*'\n      )\n    }, 30)\n  }\n}\nsetRegistrationCallback()\n\n/**\n * For given datasource id and original settings, either returns adjusted settings or a promise of data.\n */\nexport function customizeDataSettings(\n  id: RegisteredDatasource['id'],\n  settings: DataSettings\n): Partial<DataSettings> | Promise<any> {\n  const datasource = registeredDatasources[id]\n\n  if (datasource?.handler) {\n    return datasource.handler(settings)\n  }\n\n  return settings\n}\n\ndeclare global {\n  interface Window {\n    BYOCDatasources: Record<string, RegisteredDatasource>\n  }\n}\n", "import { getDatasource, registerDatasource } from './datasources.js'\nimport { XMTypes } from './datatypes.js'\nimport {\n  getSchemaProperties,\n  JSONSchema,\n  ObjectSchema,\n  parseValue,\n  transformSchema,\n  transformUiSchema,\n  UISchema\n} from './schema.js'\nimport { objectKeysToKebabCase, toKebabCase } from './utils.js'\n\n/** Normalized BYOC component */\nexport interface MinimalComponentProps {\n  componentName: string\n  datasources?: Record<string, any>\n  [prop: string]: any\n}\n\nexport interface ContextProperties {\n  [key: string]: any\n}\n\n/**\n * Component use [JSON Schema]{@link https://json-schema.org}, which is a declarative language that allows you to\n * annotate and validate JSON documents.\n *\n * In context of external components it is used to describe properties that component accept. It is used for documenting\n * options, parsing the values and generating the configuration UI. It is possible to provide [UI\n * Schema]{@link https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema} as well to fine tune the\n * form UI.\n *\n * @param {string}                   title                 Component name as presented to the user.\n * @param {JSONSchema['properties']} properties            Object of properties.\n * @param {JSONSchema['type']}       properties[].type     JSON Schema type of a property.\n * @param {string}                   [properties[].title]  Optional title displayed to the user.\n * @param {string}                   [group]               Optional Image to be displayed in the UI.\n * @param {string}                   [thumbnail]           Optional title displayed to the user.\n * @param {UISchema}                 [ui]                  Optional component groupping.\n * @see https://json-schema.org\n * @see https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema\n * @example\n *\n * {\n *     // Name of a component as it will be presented to the user\n *     title: 'My Component',\n *     // Optional: Thumbnail image for component to be displayed in UI\n *     thumbnail: 'http://examaple.com/component.jpg',\n *     // Optional: Group components by name\n *     group: 'Assorted components',\n *     // Definitions of three configurable properties that MyComponent accepts\n *     properties: {\n *       // Color is a string, but only Red/Green/Blue are allowed\n *       color: { type: 'string', enum: ['red', 'green', 'blue'] },\n *       // Text is a property labelled as \"Text summary\"\n *       text: { type: 'string', title: 'Text summary' },\n *       // Count is a number with 1 as default value\n *       count: { type: 'number', default: 1 }\n *     },\n *     // Optional UI schema customization\n *     ui: },\n *     // Color and text area required properties\n *     required: ['color', 'text']\n *   })\n *\n */\ntype UppercaseLetters =\n  | 'A'\n  | 'B'\n  | 'C'\n  | 'D'\n  | 'E'\n  | 'F'\n  | 'G'\n  | 'H'\n  | 'I'\n  | 'J'\n  | 'K'\n  | 'L'\n  | 'M'\n  | 'N'\n  | 'O'\n  | 'P'\n  | 'Q'\n  | 'R'\n  | 'S'\n  | 'T'\n  | 'U'\n  | 'V'\n  | 'W'\n  | 'X'\n  | 'Y'\n  | 'Z'\n\n/** Custom types start with uppercase letter */\nexport type ExternalComponentCustomType = keyof XMTypes | `${UppercaseLetters}${string}`\nexport type ExternalComponentSchemaProperty = ObjectSchema & { isHidden?: boolean; ui?: UISchema }\nexport type ExternalComponentOptions<T> = Omit<Partial<JSONSchema>, 'properties'> & {\n  /**  Optional unique identifier of a component (falls back to name if not provided) */\n  id?: string\n  /**  Internal name of a component */\n  name: string\n  /** Description of a component */\n  description?: string\n  /** Title of a component as it will be presented to the user */\n  title?: string\n  /** Object containing JSONSchema definitions of properties for instances of the component. */\n  properties?: {\n    /** Single property */\n    [propertyName in keyof T]?: Omit<JSONSchema, 'type'> & {\n      /** Type of the property (string, array, object, number, integer, null) */\n      type: JSONSchema['type'] | ExternalComponentCustomType\n      /** Optional title displayed to the user */\n      title?: JSONSchema['title']\n      /** Hide property configuration from UI  */\n      isHidden?: boolean\n      /** Default value for a property, should be valid and of correct type */\n      default?: any\n    }\n  }\n  /** Optional thumbnail to be displayed in the UI when listing components */\n  thumbnail?: string\n  /** Name of a collection to group components by (default: Ungroupped) */\n  group?: string\n  /** Hide component from the UI */\n  isHidden?: boolean\n  /** List of datasource IDs that component supports */\n  datasourceIds?: string[]\n  /** Key/value list of links to be displayed in BYOC Marketplace */\n  links?: Record<string, string>\n  /** Key/value list of links to be displayed in BYOC Marketplace */\n  meta?: Record<string, string>\n  /**\n   * UI Schema providing customization of form UI.\n   *\n   * @see https://json-schema.org\n   */\n  ui?: UISchema\n}\n\nexport type ExternalComponentHandler<P = any> =\n  | React.ComponentType<P>\n  | ((props: P) => Promise<React.ReactElement>)\n  | WebComponent\n  | null\n\nexport type WebComponent = typeof WebComponent\n\nexport function normalizeOptions<P>(\n  options: ExternalComponentOptions<P>,\n  component?: ExternalComponentHandler<P>,\n  defaults?: any\n) {\n  /**\n   * Usually property schema *is* the options, and ui schema is in `options.ui` property. This function normalizes schemas,\n   * as stores them as `uiSchema` and `schema` properties respectively. The registerComponent() call can be made with previously\n   * normalized properties (e.g. in parent frame), so it has to supports those as well.\n   */\n  const {\n    thumbnail = 'https://feaasstatic.blob.core.windows.net/assets/thumbnails/byoc.svg',\n    name,\n    id = options.name,\n    group = null,\n    ui,\n    isHidden = false,\n    datasourceIds = [],\n    links = {},\n    meta ={},\n    uiSchema: explicitUISchema,\n    schema: explicitSchema,\n    ...schemaOptions\n  } = options\n  const schemaBase = explicitSchema || schemaOptions || {}\n  const useSchemaBase = explicitUISchema || ui || {}\n  const schema = transformSchema(\n    { description: 'External component', ...schemaBase, type: 'object' },\n    defaults\n  ) as ObjectSchema\n  const uiSchema = transformUiSchema(useSchemaBase, schema.properties || {})\n  return {\n    component: component || (() => null),\n    name,\n    schema,\n    uiSchema,\n    thumbnail,\n    group: group || 'Default collection',\n    isHidden,\n    id,\n    datasourceIds,\n    links,\n    meta,\n    title: schema?.title || schemaOptions?.title || name\n  }\n}\nexport type ExternalComponent<P = any> = ReturnType<typeof normalizeOptions<P>>\n\nvar registrationCallback: ReturnType<typeof setTimeout>\n\n// Shim in case it's required in node.js environment\nexport const WebComponent = (typeof HTMLElement != 'undefined'\n  ? HTMLElement\n  : // @ts-ignore\n  typeof windowJSDOM != 'undefined'\n  ? // @ts-ignore\n    (windowJSDOM.HTMLElement as typeof HTMLElement)\n  : (class {\n      setAttribute() {}\n    } as unknown as typeof HTMLElement)) as any as typeof HTMLElement\n\n// Store registered components in a global variable BYOCComponents for external access\n// On the clientside the component registry is shared via global variable, on server it doesnt to avoid breaking next.js\nexport const registered: Record<string, ExternalComponent> =\n  typeof window != 'undefined' ? (window.BYOCComponents ||= {}) : {}\n\n/**\n * Register React component to be renderable as Sitecore component (in Components and Pages). Properties are defined as\n * {@link https://json-schema.org JSON Schema}, from which a configuration form will be produced using\n * {@link https://rjsf-team.github.io/react-jsonschema-form/ RJSF library}. The library allows passing a\n * {@link https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema UI Schema} that allows tight\n * customization of form widgets, styles and behavior.\n *\n * Schema properties supports `default` option which provides a fallback value. Alternatively default properties can be\n * passed as plain javascript object as third argument to `registerComponent` call.\n *\n * It is possible to generate same component and schema with different defaults, as separate components by altering the\n * `id` property. This is used for to expand generic component like Form into different specific Form instances.\n *\n * @param {React.ComponentType}      component                     React component that will be rendered.\n * @param {string}                   options.title                 Component name as presented to the user.\n * @param {JSONSchema['properties']} options.properties            Object of properties.\n * @param {JSONSchema['type']}       options.properties[].type     JSON Schema type of a property.\n * @param {string}                   [options.properties[].title]  Optional title displayed to the user.\n * @param {string}                   [options.group]               Optional Image to be displayed in the UI.\n * @param {string}                   [options.thumbnail]           Optional title displayed to the user.\n * @param {string}                   [options.isHidden]            Optionally hide from the UI.\n * @param {UISchema}                 [options.ui]                  Optional component groupping.\n * @param {string[]}                 [options.datasourceIds]       List of datasource id component requires.\n * @see https://rjsf-team.github.io/react-jsonschema-form/docs/api-reference/uiSchema\n * @see https://json-schema.org\n * @example\n *\n *   FEAAS.External.registerComponent(\n *     MyComponent,\n *     {\n *       // Name of a component as it will be used internally\n *       name: 'MyComponent',\n *       // Title of a component as it will be presented to the user\n *       title: 'My Component',\n *       // Optional: Thumbnail image for component to be displayed in UI\n *       thumbnail: 'http://examaple.com/component.jpg',\n *       // Optional: Group components in the UI\n *       group: 'Assorted components',\n *       // Definitions of three configurable properties that MyComponent accepts\n *       properties: {\n *         // Color is a string, but only Red/Green/Blue are allowed\n *         color: { type: 'string', enum: ['red', 'green', 'blue'] },\n *         // Text is a property labelled as \"Text summary\"\n *         text: { type: 'string', title: 'Text summary' },\n *         // Count is a number with 1 as default value\n *         count: { type: 'number', default: 1 }\n *       },\n *       // Optional UI schema customization\n *       ui: {\n *         // Present color choices as radio buttons\n *         color: { 'ui:widget': 'radio' },\n *         // Text is a textarea with 5 rows\n *         text: { 'ui:widget': 'textarea', 'ui:options': { rows: 5 } },\n *         // Count is a number field with spinner button\n *         count: { 'ui:widget': 'updown' }\n *       },\n *       // Color and text area required properties\n *       required: ['color', 'text']\n *     },\n *     { text: 'Default text' }\n *   )\n *\n */\nexport function registerComponent<T>(\n  component: ExternalComponentHandler<T>,\n  options: ExternalComponentOptions<T>,\n  defaults: any = {}\n) {\n  if (!options?.name)\n    throw new Error(\n      'Could not register external component. Please make sure you provide a name in the options' +\n        JSON.stringify(options)\n    )\n  const normalizedOptions = normalizeOptions(options, component, defaults)\n  registered[normalizedOptions.id] = normalizedOptions\n  if (isWebComponent(component)) {\n    BYOCRegistration.register('byoc-' + toKebabCase(options.name), undefined, component)\n  }\n  setRegistrationCallback()\n}\n\nexport function isWebComponent(object: any): object is WebComponent {\n  return object && 'prototype' in object && 'setAttribute' in object.prototype\n}\n\nexport type RegisteredComponents = {\n  [id: string]: ExternalComponent\n}\n\n/** Transform properties to proper types and merge them with default values */\nexport function getComponentProperties(\n  id: string | ExternalComponent,\n  props: Record<string, any> = {}\n): Record<string, any> {\n  const schema = getComponent(id)?.schema\n  return schema ? getSchemaProperties(schema, props) : props\n}\n\nexport function getComponentConfigurablePropertyNames(id: string | ExternalComponent): string[] {\n  const definition = getComponent(id)\n  return Object.keys(definition?.schema.properties || {}).filter((prop) => {\n    return definition?.uiSchema?.[prop]?.['ui:widget'] != 'hidden'\n  })\n}\n\n/**\n * Resolve a component by its id in one of two formats:\n * - Simple id like `ComponentName` returns the registered component\n * - Complex id like `ComponentName?prop=value` returns a combination of:\n *   - `ComponentName` component if registered\n *   - `ComponentName?prop=value` component if registered\n *   - Default values provided in query string\n *\n * The latter approach allows registering a generic component under simple name, and its overloads\n * which will be presented as individual components to the user.\n */\nexport function getComponent(id: string | ExternalComponent) {\n  if (typeof id != 'string') {\n    if (id && 'schema' in id) return id\n    throw new Error(`Component name should be a string, got ${typeof id}`)\n  }\n  const [name, query] = id.split('?')\n  var base = registered[name]\n  // Deal with query string\n  if (query) {\n    // if component is registered with query string, merge two component definitions\n    const overload = registered[id]\n    if (!overload && !base) return null\n    if (overload) base = { ...base, ...overload, component: overload.component || base?.component }\n\n    // merge query string as default values\n    query.split(/\\&/g).forEach((pair) => {\n      const [k, v] = pair.split('=')\n      const propertyDefinition = base.schema.properties?.[k] || {\n        type: 'string'\n      }\n      // merge in k/v pair as default value\n      base = {\n        ...base,\n        schema: {\n          ...base.schema,\n          properties: {\n            ...base.schema.properties,\n            [k]: {\n              ...propertyDefinition,\n              default: parseValue(decodeURIComponent(v), propertyDefinition.type)\n            }\n          }\n        },\n        uiSchema: {\n          ...base.uiSchema,\n          // hide preconfigured properties\n          [k]: {\n            ...base.uiSchema[k],\n            'ui:widget': base.uiSchema[k]?.['ui:widget'] ?? 'hidden'\n          }\n        }\n      }\n    })\n  }\n  return base\n}\n\n/**\n * Retrieves properties for a component, including context properties component's defaults.\n *\n * @param props  - The component props.\n * @returns An object containing the attributes, properties, and merged properties.\n */\nexport function getMergedComponentProperties(props: MinimalComponentProps) {\n  const {\n    componentName,\n    className,\n    fallbackWrapper,\n    fallback,\n    suppressHydrationWarning,\n    _dynamic,\n    datasources,\n    ...givenProps\n  } = props\n  try {\n    var parsedDatasources = typeof datasources == 'string' ? JSON.parse(datasources) : datasources\n  } catch (e) {}\n  // find first datasources with object data, use it as a source of properties\n  const dataProperties: any = Object.values(parsedDatasources || {}).find(\n    (v) => v && !Array.isArray(v) && Object.keys(v).length > 0\n  )\n  const properties = {\n    ...dataProperties,\n    ...getComponentProperties(componentName, { ...dataProperties, ...givenProps }),\n    ...(parsedDatasources ? { datasources: parsedDatasources } : {})\n  }\n  const attributes = {\n    'data-external-id': componentName,\n    ...objectKeysToKebabCase(properties),\n    suppressHydrationWarning: true,\n    class: className\n  }\n  serializedContextProperties.forEach((key) => {\n    Object.assign(attributes, { [toKebabCase(key)]: contextProperties[key] })\n  })\n  // serialize json properties\n  Object.keys(attributes).forEach((key) => {\n    const value = attributes[key as keyof typeof attributes]\n    if (value && typeof value == 'object' && key != 'class' && key != 'children') {\n      try {\n        Object.assign(attributes, { [key]: JSON.stringify(value) })\n      } catch (e) {\n        delete attributes[key as keyof typeof attributes]\n      }\n    }\n    if (typeof value == 'function' || value == null) {\n      delete attributes[key as keyof typeof attributes]\n    }\n  })\n  return {\n    /** HTML attributes in kebab case, including strings and explicitly passed objects in json format */\n    attributes,\n    /** React properties combined with datasources */\n    properties,\n    /** React properties combined with datasources and context properties */\n    merged: { ...contextProperties, ...properties }\n  }\n}\n\nexport function setRegistrationCallback() {\n  clearTimeout(registrationCallback)\n\n  if (typeof window !== 'undefined' && window.parent !== window) {\n    registrationCallback = setTimeout(() => {\n      // send components from iframe to parent window\n      window.parent?.postMessage(\n        JSON.stringify({\n          action: 'register-components',\n          data: Object.values(registered)\n        }),\n        '*'\n      )\n    }, 30)\n  }\n}\nsetRegistrationCallback()\n\n// Register schemas passed as <byoc-registration components=... />\n// It extends the web component in case it already was registered by different name\nexport class BYOCRegistration extends WebComponent {\n  connectedCallback() {\n    try {\n      ;(JSON.parse(String(this.getAttribute('components'))) as any[]).forEach((component) => {\n        if (!getComponent(component.id)) registerComponent(null, component)\n      })\n      ;(JSON.parse(String(this.getAttribute('datasources'))) as any[]).forEach((datasource) => {\n        if (!getDatasource(datasource.id)) registerDatasource((settings) => settings, datasource)\n      })\n    } catch (e) {}\n  }\n  static register(tagName: string, win?: Window, component: WebComponent = this) {\n    if (win == null) win = typeof window != 'undefined' ? window : undefined\n    if (win && !win.customElements.get(tagName)) {\n      win.customElements.define(tagName, class extends component {})\n    }\n  }\n}\n\nexport var contextProperties: ContextProperties = {}\nexport function setContextProperties(props: ContextProperties) {\n  contextProperties = props\n}\n\nexport const serializedContextProperties = ['sitecoreEdgeUrl', 'sitecoreEdgeContextId']\n\nBYOCRegistration.register('byoc-registration')\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'byoc-registration': {\n        suppressHydrationWarning?: boolean\n        components: string\n        datasources: string\n      }\n    }\n  }\n  interface Window {\n    BYOCComponents: RegisteredComponents\n    BYOCComponentsFrozen: boolean\n    BYOCWebComponent: typeof HTMLElement\n  }\n}\n", "import {\n  MinimalComponentProps,\n  getComponent,\n  getMergedComponentProperties,\n  isWebComponent,\n  registeredDatasources,\n  registered,\n  toKebabCase\n} from '@sitecore/byoc'\nimport React from 'react'\nexport * from '@sitecore/byoc'\n\nvar NextClientsideRenderer: any = null\nvar NextDynamicFunction: any = null\n\nexport interface ComponentProps extends MinimalComponentProps {\n  fallbackWrapper?: boolean\n  fallback?: any\n  clientFallback?: any\n}\n\n/**\n * A special case of Component designed for Next.js.\n * It uses `next/dynamic` to control rendering on the client, server, or both.\n *\n * @param {ComponentProps} props  - The properties for the component.\n * @returns {JSX.Element} The JSX element representing the component.\n */\nexport function NextComponent(props: ComponentProps) {\n  // See if component is registered in current context\n  const { componentName, clientFallback, ...attributes } = props\n  const Component = getComponent(componentName)?.component\n\n  // Render component as is on the server\n  const Regular = React.useMemo<any>(() => <RegularComponent {...attributes} componentName={componentName} />, [])\n\n  // maintain identity of wrapped component\n  const External = React.useMemo<any>(\n    () =>\n      NextDynamicFunction(() => Promise.resolve(NextClientsideRenderer), {\n        ssr: false,\n        // Show server-rendered component during page load\n        loading: () => Regular\n      }),\n    []\n  )\n\n  // remove functions from props to avoid them to be passed from server to client which is illegal\n  var sanitizedAttributes = typeof window == 'undefined' ? JSON.parse(JSON.stringify(attributes)) : attributes\n\n  return (\n    <External\n      {...sanitizedAttributes}\n      componentName={componentName}\n      fallbackWrapper={!Component}\n      fallback={\n        Component\n          ? // If there's no client component, keep the server-rendered component displayed\n            Regular\n          : // wrap clientFallback into a dynamic() call to make it render clientside hydration\n          clientFallback\n          ? React.createElement(NextDynamicFunction(() => Promise.resolve(() => clientFallback), { ssr: false }))\n          : props.fallback\n      }\n    ></External>\n  )\n}\n\n/**\n * Enables Next.js client/server rendering options for registered components.\n * The `component` argument should be a function exported from a file with a `use client` directive.\n *\n * @param {any} dynamic    - The Next dynamic function.\n * @param {any} component  - The component function.\n * @returns {any} Augmented bundle.\n */\nexport function enableNextClientsideComponents(dynamic: any, component: any) {\n  NextDynamicFunction = dynamic\n  NextClientsideRenderer = component\n  return component\n}\n\n/**\n * Renders a registered external component in a React tree. If enableNextClientsideComponents was called previously,\n * the component is rendered using NextComponent\u00A0codepath, which allows rendering separate component on client and\n * server.\n *\n * @param {ComponentProps} props  - The properties for the component.\n * @returns {JSX.Element} The JSX element representing the component.\n */\nexport function Component(props: ComponentProps) {\n  if (Object.keys(props).length == 0) {\n    return <></>\n  }\n  // _dynamic property ensures the component does not endlessly loop in pre-app-router setup\n  if (NextDynamicFunction && !props._dynamic) {\n    return NextComponent({ _dynamic: true, ...props })\n  }\n  return RegularComponent(props)\n}\n\n/**\n * Pass list of server side component registrations to clients, and embed clientside components to the page.\n */\nexport function Bundle() {\n  return (\n    <>\n      <byoc-registration\n        components={JSON.stringify(Object.values(registered))}\n        datasources={JSON.stringify(Object.values(registeredDatasources))}\n        suppressHydrationWarning\n      />\n      {/** Will not be rendered, but needs to be referenced */}\n      {<NextClientsideRenderer />}\n    </>\n  )\n}\n\n/**\n * A wrapper over External component that accepts a fallback for rendering in case of a missing component.\n * It accepts properties in camelcase format and ensures no hydration errors on the client-side.\n *\n * @param {ComponentProps} props  - The properties for the component.\n * @returns {JSX.Element} The JSX element representing the component.\n */\nexport function RegularComponent(props: ComponentProps) {\n  const { componentName, fallback, fallbackWrapper } = props\n  const definition = getComponent(componentName)\n  const Component = definition?.component as any\n  const { attributes, properties, merged } = getMergedComponentProperties(props)\n  if ((!Component && fallback) || !componentName) {\n    if (fallbackWrapper === false) return <>{fallback}</>\n    return (\n      <feaas-external {...attributes} hydrate='false'>\n        {fallback}\n      </feaas-external>\n    )\n  }\n  if (definition && Component && isWebComponent(Component)) {\n    const webComponentName = 'byoc-' + toKebabCase(definition.id)\n    return React.createElement(webComponentName, {\n      ...attributes,\n      ref: (el: { sitecoreContextCallback: (context: typeof properties) => {} }) => {\n        if (el && typeof window != 'undefined') {\n          // web components can define sitecoreContextCallback defined that recieves props directly\n          window.customElements?.whenDefined(webComponentName).then(() => {\n            el.sitecoreContextCallback?.({ ...merged })\n          })\n        }\n      }\n    })\n  }\n  return (\n    <>\n      <feaas-external {...attributes} hydrate='false'>\n        {Component == null ? null : <Component {...merged} />}\n      </feaas-external>\n    </>\n  )\n}\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-external': {\n        'data-external-id': string\n        children?: any\n        dangerouslySetInnerHTML?: { __html: string }\n        [key: string]: any\n      }\n    }\n  }\n}\n", "import * as BYOC from '@sitecore/byoc/react'\nimport React from 'react'\nimport { HTMLNode, parseHTMLContent, renderHTMLContent } from '../dom/html.js'\nimport { DataSettings } from '../utils/settings.js'\nimport {\n  FEAASCDNStylesheetParams,\n  FEAASCDNStylesheetSource,\n  FEAASComponentProps,\n  fetchComponent,\n  getComponentURL,\n  getStylesheetSource,\n  getStylesheetURL,\n  parseComponentSource,\n  parseStylesheetSource\n} from './index.js'\nexport * from '../headless.js'\nexport { External, FEAASExternalPropsObject, linkComponents } from './FEAASExternal.js'\nexport * from './index.js'\nexport { renderHTMLContent }\n\nvar ReactElementComponents: Record<string, React.Component | React.FC> = {}\n/**\n * Set custom implementation for a HTML tag name. Useful for Next.js Image component, handling image optimization.\n *\n * @param Component\n */\nexport function setElementImplementation(\n  tagName: string,\n  Component: React.Component<Record<string, string>> | React.FC<Record<string, string>>\n) {\n  ReactElementComponents[tagName] = Component\n}\n\ntype FEEASReactComponentFetch = string[] | string | null | undefined | boolean\nexport function normalizeFetchAttribute(fetch: FEEASReactComponentFetch) {\n  if (fetch == null || fetch === true) {\n    return ['template', 'stylesheet', 'data']\n  }\n  return [].concat(fetch || [])\n}\n\nexport type FEAASReactComponentProps = FEAASComponentProps & {\n  fetch?: FEEASReactComponentFetch\n  preload?: boolean\n  lastModified?: Date | string\n  renderNode?: (node: HTMLNode, attributes: Record<string, any>) => JSX.Element | Record<string, any> | null\n}\n\n/**\n * A component to include a stylesheet using a <link> tag. Placing one in the HEAD ensures that there will be no flash\n * of unstyled content.\n *\n * @param {FEAASCDNStylesheetParams | FEAASCDNStylesheetSource} props  - The properties for including the stylesheet.\n * @returns {JSX.Element} The <link> element for the stylesheet.\n */\nexport const FEAASReactStylesheet = (props: FEAASCDNStylesheetParams | FEAASCDNStylesheetSource) => {\n  if ('src' in props) {\n    props = parseStylesheetSource(props.src)\n  }\n  return <link rel='stylesheet' href={getStylesheetSource(props)} />\n}\n\n/**\n * An asynchronous wrapper over FEAAS.Component for use in React, especially suited for Next.js.\n * This component fetches HTML and data asynchronously for server-side rendering with data mapping.\n *\n * @param {FEAASReactComponentProps} props  - The properties for the component.\n * @returns {Promise<JSX.Element>} The JSX element representing the component.\n */\nexport const FEAASReactServerComponent = async ({ data, fetch, ...props }: FEAASReactComponentProps) => {\n  const fetchedData = await DataSettings.fetch(data || {})\n  fetch = normalizeFetchAttribute(fetch ?? ['stylesheet'])\n\n  const p: FEAASReactComponentProps = { ...props }\n\n  if (('src' in props || 'component' in props) && props?.template == null) {\n    const response = await fetchComponent(props)\n\n    p.template = response.template\n    p.lastModified = response.lastModified\n  } else if (props?.template == null && !fetch.includes('template')) {\n    fetch.push('template')\n  }\n\n  return FEAASReactComponent({\n    ...p,\n    data,\n    fetch,\n    fetchedData\n  })\n}\n/**\n * A wrapper over FEAAS.Component for use in React. It converts a passed template HTML into React,\n * allowing external components in the render tree. Data can be provided in JSON format.\n *\n * @param {FEAASReactComponentProps} props  - The properties for the component.\n * @returns {JSX.Element} The JSX element representing the component.\n */\nexport function FEAASReactComponent({\n  data,\n  lastModified,\n  fetchedData,\n  renderNode,\n  ...props\n}: FEAASReactComponentProps & { fetchedData?: any }) {\n  let preload = null\n  let children: null | React.ReactNode\n\n  if ('template' in props && props.template) {\n    children = parseHTMLContent(props.template, fetchedData || data || {}).map((node, index) =>\n      HTMLNodeToReact(\n        node,\n        (node, attributes) => {\n          // invoke customization of HTML node rendering\n          if (renderNode) {\n            const override = renderNode?.(node, attributes)\n            if (override != null && 'type' in override) {\n              return [override.type, override.props]\n            }\n            attributes = {\n              ...attributes,\n              ...override\n            }\n          }\n          // Override rendering of html tag if user provided\n          if (ReactElementComponents[node.localName]) {\n            return [ReactElementComponents[node.localName], attributes]\n          }\n          if (node.localName == 'feaas-external') {\n            const camelized = {} as any\n            for (var prop in attributes) {\n              const key = prop == 'data-external-id' ? 'componentName' : BYOC.toCamelCase(prop)\n              camelized[key] = attributes[prop]\n            }\n            return [BYOC.Component, camelized]\n          }\n        },\n        index\n      )\n    )\n  }\n\n  if ('src' in props) {\n    props = { ...parseComponentSource(props.src), ...props }\n  }\n  const fetch = normalizeFetchAttribute(props.fetch)\n  const embeddedData = fetch.includes('data') ? data : fetch.includes('template') ? fetchedData || data : null\n  return (\n    <>\n      {'preload' in props && preload === true && 'src' in props && (\n        <>\n          <link rel='preload' as='fetch' href={getComponentURL(props.src)} crossOrigin='anonymous' />\n          <link rel='preload' as='style' href={getStylesheetURL(props.src)} crossOrigin='anonymous' />\n        </>\n      )}\n      <feaas-component\n        class='-feaas'\n        {...props}\n        last-modified={lastModified ? String(lastModified) : null}\n        fetch={props.fetch == null ? props.fetch : ([].concat(props.fetch).join(' ') as any)}\n        suppressHydrationWarning\n        template={null}\n        data={typeof embeddedData == 'string' ? embeddedData : embeddedData ? JSON.stringify(embeddedData) : null}\n      >\n        {children}\n      </feaas-component>\n    </>\n  )\n}\n\n/**\n * Converts an HTMLNode into a React tree, ensuring proper context access for external components.\n *\n * @param {HTMLNode} node        - The HTML node to be converted.\n * @param {any}      [callback]  - Callback to customize turning of HTML node into react tree.\n * @param {any}      [key]       - The key for the React element.\n * @returns {React.ReactNode} The resulting React node.\n */\nexport function HTMLNodeToReact(\n  node: HTMLNode,\n  callback?: (node: HTMLNode, attributes: Record<string, any>) => [tagName: any, attributes: Record<string, any>],\n  key?: any\n): React.ReactNode {\n  if (node.nodeType === 3) {\n    return node.textContent\n  }\n  const children = Array.from(node.childNodes).map((child, index) => HTMLNodeToReact(child, callback, index))\n\n  const attributes: { [key: string]: string | Record<string, string> } = {}\n  for (let i = 0; i < node.attributes.length; i++) {\n    const { name, value } = node.attributes[i]\n    if (name == 'style') {\n      attributes[name] = String(value || '')\n        .trim()\n        .split(/\\s*;\\s*/)\n        .reduce((object, pair) => {\n          const [k, v] = pair.split(':')\n          return {\n            ...object,\n            [BYOC.toCamelCase(k)]: v\n          }\n        }, {})\n    } else if (name == 'class') {\n      attributes.className = value\n    } else {\n      attributes[name] = value\n    }\n  }\n\n  const reactNode = callback?.(node, attributes)\n  const reactName = reactNode?.[0] || node.nodeName.toLowerCase()\n  if (reactName == 'style') {\n    attributes.dangerouslySetInnerHTML = { __html: children.join('\\n') }\n  }\n  const reactAttributes = Object.assign({ key, suppressHydrationWarning: true }, reactNode?.[1] || attributes)\n  const reactChildren = reactNode?.[1]?.children || children\n  return React.createElement(\n    reactName,\n    reactAttributes,\n    ['img', 'br', 'input', 'style'].includes(reactName) ? null : reactChildren\n  )\n}\n\nexport type ExternalComponentProps = BYOC.ComponentProps\nexport type ContextProperties = BYOC.ContextProperties\nexport const enableNextClientsideComponents = BYOC.enableNextClientsideComponents\nexport const setContextProperties = BYOC.setContextProperties\nexport const ExternalComponentBundle = BYOC.Bundle\nexport const ExternalComponent = BYOC.Component\nexport const ReactExternalComponent = BYOC.RegularComponent\nexport const NextExternalComponent = BYOC.NextComponent\nexport const Component = FEAASReactComponent\nexport const ServerComponent = FEAASReactServerComponent\nexport const Stylesheet = FEAASReactStylesheet\n", "import { FEAASCDNComponentProps } from '../cdn.js'\nimport { queryScopes, serializeCH1RichText } from '../utils/data.js'\nimport { Data, DataScopes } from '../utils/settings.js'\nimport { parseHTML } from './html.js'\nimport { loadScript } from './scripts.js'\nimport { normalizeCollectionScope } from '../utils/datapath.js'\nimport { DataOptions } from '../headless.js'\nimport { isDate, formatDate } from '../utils/date.js'\n\nexport interface FEAASCustomizations {\n  processTemplate?: (element: HTMLElement, template: string, data: DataScopes) => string\n  processData?: (element: HTMLElement, data: DataScopes) => any\n  processValue?: (element: HTMLElement, property: string, value: any) => any\n  shouldRepeat?: (element: HTMLElement, value: any) => boolean\n  onRender?: (element: HTMLElement, data: DataScopes) => void\n}\n\nexport interface ExplicitTemplate {\n  template: string\n}\n\nexport type FEAASComponentProps<T = DataOptions> = Partial<ExplicitTemplate> & {\n  data?: T\n} & (ExplicitTemplate | FEAASCDNComponentProps) &\n  FEAASCustomizations\n\nfunction getDOMCollectionIndex(element: HTMLElement) {\n  const datascope = element.getAttribute('data-path-scope')\n  var index = 0\n  for (var p = element; (p = <HTMLElement>p.previousElementSibling); ) {\n    if (p.getAttribute('data-path-scope') == datascope) {\n      index++\n    }\n  }\n  return index\n}\n\nfunction updateDOMClones(element: HTMLElement, targetCount: number, config?: FEAASCustomizations) {\n  const datascope = element.getAttribute('data-path-scope')\n  if (datascope == null) {\n    return\n  }\n  var index = getDOMCollectionIndex(element)\n  if (index != 0) {\n    return\n  }\n\n  const parentElement = element.parentNode as HTMLElement\n  if (parentElement == null) {\n    return\n  }\n\n  /*dont remove first element, just hide it*/\n  if (targetCount == 0) {\n    element.setAttribute('hidden', 'hidden')\n  } else if (element.getAttribute('hidden') != null) {\n    element.removeAttribute('hidden')\n  }\n\n  var count = index + 1\n  var last = element\n  for (var n = element; (n = <HTMLElement>n.nextElementSibling); ) {\n    if (n.getAttribute('data-path-scope') == datascope) {\n      count++\n      last = n\n    }\n  }\n  /* add missing clones */\n  for (var i = count; i < targetCount; i++) {\n    parentElement.insertBefore(last.cloneNode(true), last.nextElementSibling)\n  }\n  /* remove excessive clones fron previous renders */\n  for (var i = Math.max(1, targetCount); i < count; i++) {\n    last = <HTMLElement>last.previousElementSibling\n    parentElement.removeChild(<HTMLElement>last.nextElementSibling)\n  }\n}\n\nexport function setDOMAttribute(element: HTMLElement, attribute: string, value: any, config?: FEAASCustomizations) {\n  if (!element) return\n  var target = element\n  if (value?.type == 'doc' && Array.isArray(value.content)) value = serializeCH1RichText(value)\n  if (config?.processValue) {\n    value = config?.processValue(element, attribute, value)\n  }\n  var prop = attribute.replace('data-path-', '')\n  if (attribute == 'data-path-src' || attribute == 'data-path-alt') {\n    const picture = Array.from(element.children).find((n) => n.localName == 'picture') || element\n    target = element.localName == 'img' ? element : <HTMLElement>picture.querySelector('img, video')\n  } else if (attribute == 'data-path-href') {\n    target = element.querySelector('a') || element.closest('a')\n  } else if (attribute == 'data-path-hidden') {\n    value = !value ? true : null\n  } else if (attribute == 'data-path' || attribute == 'data-embed-html' || attribute == 'html') {\n    prop = 'innerHTML'\n  } else if (attribute == 'data-embed-src') {\n    loadScript(element, value)\n  } else if (attribute == 'data-path-attributes') {\n    if (!Array.isArray(value)) {\n      const oldKeys = element.getAttribute('data-attributes-keys')?.split(',').filter(Boolean) || []\n      if (!Array.isArray(value))\n        for (var property in value) {\n          var subvalue = value[property]\n          setDOMAttribute(\n            element,\n            property,\n            typeof subvalue == 'object' && subvalue ? JSON.stringify(subvalue) : subvalue,\n            config\n          )\n        }\n      for (var i = 0; i < oldKeys.length; i++) {\n        if (value == null || !(oldKeys[i] in value)) {\n          setDOMAttribute(element, oldKeys[i], null, config)\n        }\n      }\n      setDOMAttribute(element, 'data-attributes-keys', Object.keys(value || {}).join(','))\n    }\n    // BYOC components also accept their data object in datasources attribute.\n    if (element.tagName == 'FEAAS-EXTERNAL') {\n      const datasourceId =\n        String(element.getAttribute('data-path-attributes') || '')\n          .slice(0, -1)\n          .split('.')[0] || '_'\n      setDOMAttribute(element, 'datasources', JSON.stringify({ [datasourceId]: value }))\n    }\n    return\n  }\n  if (typeof value == 'boolean') {\n    value = value ? '' : null\n  }\n\n  if (!target) return\n\n  const usePlaceholder = prop == 'innerHTML' || prop == 'src'\n  if (usePlaceholder && (value == null || value === '')) {\n    var placeholder = String(\n      (element.getAttribute('data-path-placeholder') || target[prop as keyof HTMLElement]) ??\n        target.getAttribute(prop) ??\n        ''\n    )\n    if (prop == 'innerHTML') {\n      target.innerHTML = placeholder\n    } else if (placeholder) {\n      target.setAttribute(prop, placeholder)\n    } else {\n      target.removeAttribute(prop)\n    }\n  } else if (value != null) {\n    if (prop == 'innerHTML') {\n      var str = String(value)\n      // sanitize html of structural text elements\n      for (var parent = target; parent.parentElement && parent.localName.match(/^(a|var|strong|em|i|b)$/); )\n        parent = parent.parentElement\n      if (parent.localName.match(/p|h\\d|button|time|li/)) {\n        str = str\n          .replace(/<(p|h\\d|li|ul)[^>]*?>|<\\/(p|h\\d|li|ul)[^>]*?>/g, ' ')\n          .trim()\n          .replace(/\\s+/g, ' ')\n      }\n      if (String(parent.getAttribute('class')).includes('-inline--time')) {\n        if (isDate(str)) {\n          str = formatDate(new Date(str))\n        }\n      }\n\n      if (target.innerHTML != str) {\n        target.innerHTML = str\n      }\n    } else {\n      if (target.getAttribute(prop) != value) {\n        target.setAttribute(prop, value)\n      }\n    }\n  } else {\n    target.removeAttribute(prop)\n  }\n}\n\n// order in which attributes are proccesed. Rightmost are more important\nvar sortOrder = ['data-attributes-keys', 'data-path-attributes', 'data-path-scope']\nexport function renderDOMElement(\n  input: HTMLElement | DocumentFragment,\n  datascopes?: any,\n  config?: FEAASCustomizations,\n  isNested?: boolean\n) {\n  const element = <HTMLElement>input\n  if (!isNested) {\n    datascopes = config?.processData?.(element, datascopes) || datascopes\n  }\n  if (element.nodeType == 1) {\n    const datascope = element.getAttribute('data-path-scope')\n    if (datascope) {\n      const index = getDOMCollectionIndex(element)\n      const collection = queryScopes(datascopes, datascope, false)\n      if (index == 0) {\n        updateDOMClones(element, config?.shouldRepeat?.(element, collection) === false ? 1 : collection.length, config)\n      }\n\n      datascopes = {\n        ...datascopes,\n        [normalizeCollectionScope(datascope)]: collection[index]\n      }\n    }\n    const attrs = Array.prototype.slice.call(element.attributes).sort((a: Attr, b: Attr) => {\n      return sortOrder.indexOf(a.name) - sortOrder.indexOf(b.name)\n    })\n    for (var i = 0; i < attrs.length; i++) {\n      const { name, value: datapath } = attrs[i]\n      if (name.startsWith('data-path') && name != 'data-path-scope') {\n        setDOMAttribute(\n          element,\n          name,\n          queryScopes(datascopes, datapath, true, undefined, element.tagName != 'FEAAS-EXTERNAL'),\n          config\n        )\n      }\n      if (name == 'data-embed-src') {\n        setDOMAttribute(element, name, element.getAttribute(name), config)\n      }\n    }\n  }\n  for (var i = 0, child: Node; (child = element.childNodes[i++]); ) {\n    if (isElement(child)) {\n      renderDOMElement(child, datascopes, config, true)\n    }\n  }\n  if (!isNested) {\n    config?.onRender?.(element, datascopes)\n  }\n  return element\n}\n\nfunction isElement(node: Node): node is HTMLElement {\n  return node.nodeType == 1\n}\n\nexport function renderDOMContent(root: HTMLElement, template: string, data?: Data, config?: FEAASCustomizations) {\n  const newTemplate = config?.processTemplate?.(root, template, data) || template\n  root.innerHTML = newTemplate\n  root.classList.add('-feaas')\n  // fixme, jss needs to assign theme classes to component instead\n  const anchor = root.closest('.component.feaas') || root\n  if (anchor.className.includes('-theme--')) {\n    for (var i = 0, child: Node; (child = root.childNodes[i++]); ) {\n      if (isElement(child)) {\n        child.className = child.className.replace(/(\\s|^)-theme--[^\\s]+\\s*/g, '$1')\n      }\n    }\n  }\n  return renderDOMElement(root, data, config)\n}\n\nexport function renderHTMLContent(template: string, data?: Data, config?: FEAASCustomizations, fakeDOM = false) {\n  const newTemplate = config?.processTemplate?.(null, template, data) || template\n  if (typeof document === 'undefined' || fakeDOM) {\n    const nodes = parseHTML(newTemplate)\n    return renderDOMElement(nodes[0] as unknown as HTMLElement, data, config).outerHTML\n  } else {\n    const root = document.createElement('div')\n    root.innerHTML = newTemplate\n    renderDOMElement(root, data, config)\n    return root.innerHTML\n  }\n}\n", "import { JSONPath } from 'jsonpath-plus'\n\nexport function queryObjectRaw(json: any, path: string) {\n  try {\n    return JSONPath<any[]>({ path, json })\n  } catch (e) {\n    return []\n  }\n}\nexport function queryObject(json: any, path: string, flatten = true) {\n  const data = queryObjectRaw(json, path) || []\n  if (flatten) {\n    return data.flat(Infinity)\n  }\n  return data\n}\n\nexport function queryScopes(scopes: any, datapath: string, singleValue = false, json: any = scopes, flatten = true) {\n  var path = datapath\n  /* find closest parent scope */\n  const keys = Object.keys(scopes).sort((b, a) => a.length - b.length)\n  for (const scope of keys) {\n    if (datapath.startsWith(scope) && 'ends with it') {\n      if (scope == datapath) {\n        if (singleValue) {\n          return scopes[scope]\n        } else {\n          continue\n        }\n      }\n      path = datapath.substring(scope.length + 1)\n      json = scopes[scope]\n      break\n    }\n  }\n\n  var collection = queryObject(json, path, flatten)\n\n  // If regular path didn't match any data, try fallbacks\n  // datasourceId.wrapper.$.path\n  if (collection.length == 0) {\n    collection = [\n      // look up in `_` datasource id (catch-all id is used in JSS)\n      //   _.wrapper.$.path\n      path.replace(/^.*?\\./, '_.'),\n      // look up directly on data root\n      //   wrapper.$.path\n      path.replace(/^.*?\\./, ''),\n      // look up trimmed path in datasource\n      //   datasourceId.path\n      path.replace(/^([^.]+).*?\\.\\$([\\.\\[])/, '$1$2'),\n      // look up trimmed path in catch all datasource\n      //   _.path\n      path.replace(/^.*?\\.\\$([\\.\\[])/, '_$1'),\n      // look up trimmed path on root\n      // path\n      path.replace(/^.*?\\.\\$([\\.\\[])/, '$$$1'),\n      // for case of top-level object data mapping full path can be replaced to _\n      path.replace(/^[^.]+$/, '_')\n    ]\n      .filter((v, i, a) => a.indexOf(v) === i)\n      .reduce((v, path) => {\n        return v.length > 0 ? v : queryObject(json, path, flatten)\n      }, [] as any[])\n  }\n\n  if (singleValue) {\n    return collection[0]\n  } else {\n    return collection\n  }\n}\n\nexport type CH1Node =\n  | {\n      type: string\n      text?: string\n      content?: CH1Node[]\n      marks?: CH1Node[]\n      attrs?: Record<string, any>\n    }\n  | CH1Node[]\nfunction serializeCH1Tag(data: any, attrs: Record<string, string> = {}, tag: string): string {\n  if (!tag) return serializeCH1RichText(data)\n  return `<${tag}${Object.entries(attrs)\n    .map(([k, v]) => v != null && ` ${k}=\"${v}\"`)\n    .filter(Boolean)\n    .join('')}>${serializeCH1RichText(data)}</${tag}>`.replace(/^<([a-z0-9][^>]*)><\\/[^>]+>$/, '<$1 />')\n}\nexport function serializeCH1RichText(data: CH1Node | string | null | undefined): string {\n  if (Array.isArray(data)) return data.map(serializeCH1RichText).join('\\n').trim()\n  if (typeof data == 'string') return data\n  if (data == null) return ''\n  switch (data.type) {\n    case 'heading':\n      const { level, ...attrs } = data.attrs\n      return serializeCH1Tag(data.content, attrs, 'h' + level)\n    case 'text':\n      return ((data.marks || []) as any[]).reduce((text, mark) => {\n        return serializeCH1Tag(\n          text,\n          mark.attrs,\n          {\n            link: 'a',\n            bold: 'strong',\n            italic: 'em',\n            strike: 's',\n            underline: 'u'\n          }[mark.type as string]\n        )\n      }, data.text?.replace(/\\s+/, ' '))\n    default:\n      return serializeCH1Tag(\n        data.content || data.text,\n        data.attrs,\n        {\n          bulletList: 'ul',\n          orderedList: 'ol',\n          listItem: 'li',\n          horizontalRule: 'hr',\n          paragraph: 'p',\n          codeBlock: 'code',\n          blockquote: 'blockquote'\n        }[data.type]\n      )\n  }\n}\n\nexport { JSONPath }\n", "function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar hasOwnProp = Object.prototype.hasOwnProperty;\n/**\n * @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n */\n\n/**\n * @typedef {any} AnyItem\n */\n\n/**\n * @typedef {any} AnyResult\n */\n\n/**\n * Copies array and then pushes item into it.\n * @param {GenericArray} arr Array to copy and into which to push\n * @param {AnyItem} item Array item to add (to end)\n * @returns {GenericArray} Copy of the original array\n */\n\nfunction push(arr, item) {\n  arr = arr.slice();\n  arr.push(item);\n  return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {AnyItem} item Array item to add (to beginning)\n * @param {GenericArray} arr Array to copy and into which to unshift\n * @returns {GenericArray} Copy of the original array\n */\n\n\nfunction unshift(item, arr) {\n  arr = arr.slice();\n  arr.unshift(item);\n  return arr;\n}\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\n\n\nvar NewError = /*#__PURE__*/function (_Error) {\n  _inherits(NewError, _Error);\n\n  var _super = _createSuper(NewError);\n\n  /**\n   * @param {AnyResult} value The evaluated scalar value\n   */\n  function NewError(value) {\n    var _this;\n\n    _classCallCheck(this, NewError);\n\n    _this = _super.call(this, 'JSONPath should not be called with \"new\" (it prevents return ' + 'of (unwrapped) scalar values)');\n    _this.avoidNew = true;\n    _this.value = value;\n    _this.name = 'NewError';\n    return _this;\n  }\n\n  return _createClass(NewError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n* @returns {void}\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n* @returns {boolean}\n*/\n\n/* eslint-disable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @typedef {PlainObject} JSONPathOptions\n * @property {JSON} json\n * @property {string|string[]} path\n * @property {\"value\"|\"path\"|\"pointer\"|\"parent\"|\"parentProperty\"|\"all\"} [resultType=\"value\"]\n * @property {boolean} [flatten=false]\n * @property {boolean} [wrap=true]\n * @property {PlainObject} [sandbox={}]\n * @property {boolean} [preventEval=false]\n * @property {PlainObject|GenericArray|null} [parent=null]\n * @property {string|null} [parentProperty=null]\n * @property {JSONPathCallback} [callback]\n * @property {OtherTypeCallback} [otherTypeCallback] Defaults to\n *   function which throws on encountering `@other`\n * @property {boolean} [autostart=true]\n */\n\n/* eslint-enable max-len -- Can make multiline type after https://github.com/syavorsky/comment-parser/issues/109 */\n\n/**\n * @param {string|JSONPathOptions} opts If a string, will be treated as `expr`\n * @param {string} [expr] JSON path to evaluate\n * @param {JSON} [obj] JSON object to evaluate against\n * @param {JSONPathCallback} [callback] Passed 3 arguments: 1) desired payload\n *     per `resultType`, 2) `\"value\"|\"property\"`, 3) Full returned object with\n *     all payloads\n * @param {OtherTypeCallback} [otherTypeCallback] If `@other()` is at the end\n *   of one's query, this will be invoked with the value of the item, its\n *   path, its parent, and its parent's property name, and it should return\n *   a boolean indicating whether the supplied value belongs to the \"other\"\n *   type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\n\n\nfunction JSONPath(opts, expr, obj, callback, otherTypeCallback) {\n  // eslint-disable-next-line no-restricted-syntax\n  if (!(this instanceof JSONPath)) {\n    try {\n      return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n    } catch (e) {\n      if (!e.avoidNew) {\n        throw e;\n      }\n\n      return e.value;\n    }\n  }\n\n  if (typeof opts === 'string') {\n    otherTypeCallback = callback;\n    callback = obj;\n    obj = expr;\n    expr = opts;\n    opts = null;\n  }\n\n  var optObj = opts && _typeof(opts) === 'object';\n  opts = opts || {};\n  this.json = opts.json || obj;\n  this.path = opts.path || expr;\n  this.resultType = opts.resultType || 'value';\n  this.flatten = opts.flatten || false;\n  this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n  this.sandbox = opts.sandbox || {};\n  this.preventEval = opts.preventEval || false;\n  this.parent = opts.parent || null;\n  this.parentProperty = opts.parentProperty || null;\n  this.callback = opts.callback || callback || null;\n\n  this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n    throw new TypeError('You must supply an otherTypeCallback callback option ' + 'with the @other() operator.');\n  };\n\n  if (opts.autostart !== false) {\n    var args = {\n      path: optObj ? opts.path : expr\n    };\n\n    if (!optObj) {\n      args.json = obj;\n    } else if ('json' in opts) {\n      args.json = opts.json;\n    }\n\n    var ret = this.evaluate(args);\n\n    if (!ret || _typeof(ret) !== 'object') {\n      throw new NewError(ret);\n    }\n\n    return ret;\n  }\n} // PUBLIC METHODS\n\n\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n  var _this2 = this;\n\n  var currParent = this.parent,\n      currParentProperty = this.parentProperty;\n  var flatten = this.flatten,\n      wrap = this.wrap;\n  this.currResultType = this.resultType;\n  this.currPreventEval = this.preventEval;\n  this.currSandbox = this.sandbox;\n  callback = callback || this.callback;\n  this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n  json = json || this.json;\n  expr = expr || this.path;\n\n  if (expr && _typeof(expr) === 'object' && !Array.isArray(expr)) {\n    if (!expr.path && expr.path !== '') {\n      throw new TypeError('You must supply a \"path\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    if (!hasOwnProp.call(expr, 'json')) {\n      throw new TypeError('You must supply a \"json\" property when providing an object ' + 'argument to JSONPath.evaluate().');\n    }\n\n    var _expr = expr;\n    json = _expr.json;\n    flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n    this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n    this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n    wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n    this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n    callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n    this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n    currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n    currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n    expr = expr.path;\n  }\n\n  currParent = currParent || null;\n  currParentProperty = currParentProperty || null;\n\n  if (Array.isArray(expr)) {\n    expr = JSONPath.toPathString(expr);\n  }\n\n  if (!expr && expr !== '' || !json) {\n    return undefined;\n  }\n\n  var exprList = JSONPath.toPathArray(expr);\n\n  if (exprList[0] === '$' && exprList.length > 1) {\n    exprList.shift();\n  }\n\n  this._hasParentSelector = null;\n\n  var result = this._trace(exprList, json, ['$'], currParent, currParentProperty, callback).filter(function (ea) {\n    return ea && !ea.isParentSelector;\n  });\n\n  if (!result.length) {\n    return wrap ? [] : undefined;\n  }\n\n  if (!wrap && result.length === 1 && !result[0].hasArrExpr) {\n    return this._getPreferredOutput(result[0]);\n  }\n\n  return result.reduce(function (rslt, ea) {\n    var valOrPath = _this2._getPreferredOutput(ea);\n\n    if (flatten && Array.isArray(valOrPath)) {\n      rslt = rslt.concat(valOrPath);\n    } else {\n      rslt.push(valOrPath);\n    }\n\n    return rslt;\n  }, []);\n}; // PRIVATE METHODS\n\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n  var resultType = this.currResultType;\n\n  switch (resultType) {\n    case 'all':\n      {\n        var path = Array.isArray(ea.path) ? ea.path : JSONPath.toPathArray(ea.path);\n        ea.pointer = JSONPath.toPointer(path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n      }\n\n    case 'value':\n    case 'parent':\n    case 'parentProperty':\n      return ea[resultType];\n\n    case 'path':\n      return JSONPath.toPathString(ea[resultType]);\n\n    case 'pointer':\n      return JSONPath.toPointer(ea.path);\n\n    default:\n      throw new TypeError('Unknown result type');\n  }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n  if (callback) {\n    var preferredOutput = this._getPreferredOutput(fullRetObj);\n\n    fullRetObj.path = typeof fullRetObj.path === 'string' ? fullRetObj.path : JSONPath.toPathString(fullRetObj.path); // eslint-disable-next-line n/callback-return\n\n    callback(preferredOutput, type, fullRetObj);\n  }\n};\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} hasArrExpr\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\n\n\nJSONPath.prototype._trace = function (expr, val, path, parent, parentPropName, callback, hasArrExpr, literalPriority) {\n  var _this3 = this;\n\n  // No expr to follow? return path and value as the result of\n  //  this trace branch\n  var retObj;\n\n  if (!expr.length) {\n    retObj = {\n      path: path,\n      value: val,\n      parent: parent,\n      parentProperty: parentPropName,\n      hasArrExpr: hasArrExpr\n    };\n\n    this._handleCallback(retObj, callback, 'value');\n\n    return retObj;\n  }\n\n  var loc = expr[0],\n      x = expr.slice(1); // We need to gather the return value of recursive trace calls in order to\n  // do the parent sel computation.\n\n  var ret = [];\n  /**\n   *\n   * @param {ReturnObject|ReturnObject[]} elems\n   * @returns {void}\n   */\n\n  function addRet(elems) {\n    if (Array.isArray(elems)) {\n      // This was causing excessive stack size in Node (with or\n      //  without Babel) against our performance test:\n      //  `ret.push(...elems);`\n      elems.forEach(function (t) {\n        ret.push(t);\n      });\n    } else {\n      ret.push(elems);\n    }\n  }\n\n  if ((typeof loc !== 'string' || literalPriority) && val && hasOwnProp.call(val, loc)) {\n    // simple case--directly follow property\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr)); // eslint-disable-next-line unicorn/prefer-switch -- Part of larger `if`\n  } else if (loc === '*') {\n    // all child properties\n    this._walk(val, function (m) {\n      addRet(_this3._trace(x, val[m], push(path, m), val, m, callback, true, true));\n    });\n  } else if (loc === '..') {\n    // all descendent parent properties\n    // Check remaining expression with val's immediate children\n    addRet(this._trace(x, val, path, parent, parentPropName, callback, hasArrExpr));\n\n    this._walk(val, function (m) {\n      // We don't join m and x here because we only want parents,\n      //   not scalar values\n      if (_typeof(val[m]) === 'object') {\n        // Keep going with recursive descent on val's\n        //   object children\n        addRet(_this3._trace(expr.slice(), val[m], push(path, m), val, m, callback, true));\n      }\n    }); // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n\n  } else if (loc === '^') {\n    // This is not a final endpoint, so we do not invoke the callback here\n    this._hasParentSelector = true;\n    return {\n      path: path.slice(0, -1),\n      expr: x,\n      isParentSelector: true\n    };\n  } else if (loc === '~') {\n    // property name\n    retObj = {\n      path: push(path, loc),\n      value: parentPropName,\n      parent: parent,\n      parentProperty: null\n    };\n\n    this._handleCallback(retObj, callback, 'property');\n\n    return retObj;\n  } else if (loc === '$') {\n    // root only\n    addRet(this._trace(x, val, path, null, null, callback, hasArrExpr));\n  } else if (/^(\\x2D?[0-9]*):(\\x2D?[0-9]*):?([0-9]*)$/.test(loc)) {\n    // [start:end:step]  Python slice syntax\n    addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n  } else if (loc.indexOf('?(') === 0) {\n    // [?(expr)] (filtering)\n    if (this.currPreventEval) {\n      throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n    }\n\n    var safeLoc = loc.replace(/^\\?\\(((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?)\\)$/, '$1');\n\n    this._walk(val, function (m) {\n      if (_this3._eval(safeLoc, val[m], m, path, parent, parentPropName)) {\n        addRet(_this3._trace(x, val[m], push(path, m), val, m, callback, true));\n      }\n    });\n  } else if (loc[0] === '(') {\n    // [(expr)] (dynamic property/index)\n    if (this.currPreventEval) {\n      throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n    } // As this will resolve to a property name (but we don't know it\n    //  yet), property and parent information is relative to the\n    //  parent of the property to which this expression will resolve\n\n\n    addRet(this._trace(unshift(this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName), x), val, path, parent, parentPropName, callback, hasArrExpr));\n  } else if (loc[0] === '@') {\n    // value type: @boolean(), etc.\n    var addType = false;\n    var valueType = loc.slice(1, -2);\n\n    switch (valueType) {\n      case 'scalar':\n        if (!val || !['object', 'function'].includes(_typeof(val))) {\n          addType = true;\n        }\n\n        break;\n\n      case 'boolean':\n      case 'string':\n      case 'undefined':\n      case 'function':\n        // eslint-disable-next-line valid-typeof\n        if (_typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'integer':\n        if (Number.isFinite(val) && !(val % 1)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'number':\n        if (Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'nonFinite':\n        if (typeof val === 'number' && !Number.isFinite(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'object':\n        // eslint-disable-next-line valid-typeof\n        if (val && _typeof(val) === valueType) {\n          addType = true;\n        }\n\n        break;\n\n      case 'array':\n        if (Array.isArray(val)) {\n          addType = true;\n        }\n\n        break;\n\n      case 'other':\n        addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n        break;\n\n      case 'null':\n        if (val === null) {\n          addType = true;\n        }\n\n        break;\n\n      /* c8 ignore next 2 */\n\n      default:\n        throw new TypeError('Unknown value type ' + valueType);\n    }\n\n    if (addType) {\n      retObj = {\n        path: path,\n        value: val,\n        parent: parent,\n        parentProperty: parentPropName\n      };\n\n      this._handleCallback(retObj, callback, 'value');\n\n      return retObj;\n    } // `-escaped property\n\n  } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) {\n    var locProp = loc.slice(1);\n    addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, hasArrExpr, true));\n  } else if (loc.includes(',')) {\n    // [name1,name2,...]\n    var parts = loc.split(',');\n\n    var _iterator = _createForOfIteratorHelper(parts),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback, true));\n      } // simple case--directly follow property\n\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (!literalPriority && val && hasOwnProp.call(val, loc)) {\n    addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, hasArrExpr, true));\n  } // We check the resulting values for parent selections. For parent\n  // selections we discard the value object and continue the trace with the\n  // current val object\n\n\n  if (this._hasParentSelector) {\n    for (var t = 0; t < ret.length; t++) {\n      var rett = ret[t];\n\n      if (rett && rett.isParentSelector) {\n        var tmp = this._trace(rett.expr, val, rett.path, parent, parentPropName, callback, hasArrExpr);\n\n        if (Array.isArray(tmp)) {\n          ret[t] = tmp[0];\n          var tl = tmp.length;\n\n          for (var tt = 1; tt < tl; tt++) {\n            t++;\n            ret.splice(t, 0, tmp[tt]);\n          }\n        } else {\n          ret[t] = tmp;\n        }\n      }\n    }\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._walk = function (val, f) {\n  if (Array.isArray(val)) {\n    var n = val.length;\n\n    for (var i = 0; i < n; i++) {\n      f(i);\n    }\n  } else if (val && _typeof(val) === 'object') {\n    Object.keys(val).forEach(function (m) {\n      f(m);\n    });\n  }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n  if (!Array.isArray(val)) {\n    return undefined;\n  }\n\n  var len = val.length,\n      parts = loc.split(':'),\n      step = parts[2] && Number.parseInt(parts[2]) || 1;\n  var start = parts[0] && Number.parseInt(parts[0]) || 0,\n      end = parts[1] && Number.parseInt(parts[1]) || len;\n  start = start < 0 ? Math.max(0, start + len) : Math.min(len, start);\n  end = end < 0 ? Math.max(0, end + len) : Math.min(len, end);\n  var ret = [];\n\n  for (var i = start; i < end; i += step) {\n    var tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback, true); // Should only be possible to be an array here since first part of\n    //   ``unshift(i, expr)` passed in above would not be empty, nor `~`,\n    //     nor begin with `@` (as could return objects)\n    // This was causing excessive stack size in Node (with or\n    //  without Babel) against our performance test: `ret.push(...tmp);`\n\n\n    tmp.forEach(function (t) {\n      ret.push(t);\n    });\n  }\n\n  return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n  this.currSandbox._$_parentProperty = parentPropName;\n  this.currSandbox._$_parent = parent;\n  this.currSandbox._$_property = _vname;\n  this.currSandbox._$_root = this.json;\n  this.currSandbox._$_v = _v;\n  var containsPath = code.includes('@path');\n\n  if (containsPath) {\n    this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n  }\n\n  var scriptCacheKey = 'script:' + code;\n\n  if (!JSONPath.cache[scriptCacheKey]) {\n    var script = code.replace(/@parentProperty/g, '_$_parentProperty').replace(/@parent/g, '_$_parent').replace(/@property/g, '_$_property').replace(/@root/g, '_$_root').replace(/@([\\t-\\r \\)\\.\\[\\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])/g, '_$_v$1');\n\n    if (containsPath) {\n      script = script.replace(/@path/g, '_$_path');\n    }\n\n    JSONPath.cache[scriptCacheKey] = new this.vm.Script(script);\n  }\n\n  try {\n    return JSONPath.cache[scriptCacheKey].runInNewContext(this.currSandbox);\n  } catch (e) {\n    throw new Error('jsonPath: ' + e.message + ': ' + code);\n  }\n}; // PUBLIC CLASS PROPERTIES AND METHODS\n// Could store the cache object itself\n\n\nJSONPath.cache = {};\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\n\nJSONPath.toPathString = function (pathArr) {\n  var x = pathArr,\n      n = x.length;\n  var p = '$';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += /^[\\*0-9]+$/.test(x[i]) ? '[' + x[i] + ']' : \"['\" + x[i] + \"']\";\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\n\n\nJSONPath.toPointer = function (pointer) {\n  var x = pointer,\n      n = x.length;\n  var p = '';\n\n  for (var i = 1; i < n; i++) {\n    if (!/^(~|\\^|@(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\(\\))$/.test(x[i])) {\n      p += '/' + x[i].toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    }\n  }\n\n  return p;\n};\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\n\n\nJSONPath.toPathArray = function (expr) {\n  var cache = JSONPath.cache;\n\n  if (cache[expr]) {\n    return cache[expr].concat();\n  }\n\n  var subx = [];\n  var normalized = expr // Properties\n  .replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g, ';$&;') // Parenthetical evaluations (filtering and otherwise), directly\n  //   within brackets or single quotes\n  .replace(/['\\[](\\??\\((?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*?\\))['\\]]/g, function ($0, $1) {\n    return '[#' + (subx.push($1) - 1) + ']';\n  }) // Escape periods and tildes within properties\n  .replace(/\\[[\"']((?:(?!['\\]])[\\s\\S])*)[\"']\\]/g, function ($0, prop) {\n    return \"['\" + prop.replace(/\\./g, '%@%').replace(/~/g, '%%@@%%') + \"']\";\n  }) // Properties operator\n  .replace(/~/g, ';~;') // Split by property boundaries\n  .replace(/[\"']?\\.[\"']?(?!(?:(?!\\[)[\\s\\S])*\\])|\\[[\"']?/g, ';') // Reinsert periods within properties\n  .replace(/%@%/g, '.') // Reinsert tildes within properties\n  .replace(/%%@@%%/g, '~') // Parent\n  .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n    return ';' + ups.split('').join(';') + ';';\n  }) // Descendents\n  .replace(/;;;|;;/g, ';..;') // Remove trailing\n  .replace(/;$|'?\\]|'$/g, '');\n  var exprList = normalized.split(';').map(function (exp) {\n    var match = exp.match(/#([0-9]+)/);\n    return !match || !match[1] ? exp : subx[match[1]];\n  });\n  cache[expr] = exprList;\n  return cache[expr].concat();\n};\n\n/**\n * @typedef {any} ContextItem\n */\n\n/**\n * @typedef {any} EvaluatedResult\n */\n\n/**\n * @callback ConditionCallback\n * @param {ContextItem} item\n * @returns {boolean}\n */\n\n/**\n * Copy items out of one array into another.\n * @param {GenericArray} source Array with items to copy\n * @param {GenericArray} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item;\n *     will move item if evaluates to `true`\n * @returns {void}\n */\n\nvar moveToAnotherArray = function moveToAnotherArray(source, target, conditionCb) {\n  var il = source.length;\n\n  for (var i = 0; i < il; i++) {\n    var item = source[i];\n\n    if (conditionCb(item)) {\n      target.push(source.splice(i--, 1)[0]);\n    }\n  }\n};\n/**\n * In-browser replacement for NodeJS' VM.Script.\n */\n\n\nvar Script = /*#__PURE__*/function () {\n  /**\n   * @param {string} expr Expression to evaluate\n   */\n  function Script(expr) {\n    _classCallCheck(this, Script);\n\n    this.code = expr;\n  }\n  /**\n   * @param {PlainObject} context Object whose items will be added\n   *   to evaluation\n   * @returns {EvaluatedResult} Result of evaluated code\n   */\n\n\n  _createClass(Script, [{\n    key: \"runInNewContext\",\n    value: function runInNewContext(context) {\n      var expr = this.code;\n      var keys = Object.keys(context);\n      var funcs = [];\n      moveToAnotherArray(keys, funcs, function (key) {\n        return typeof context[key] === 'function';\n      });\n      var values = keys.map(function (vr, i) {\n        return context[vr];\n      });\n      var funcString = funcs.reduce(function (s, func) {\n        var fString = context[func].toString();\n\n        if (!/function/.test(fString)) {\n          fString = 'function ' + fString;\n        }\n\n        return 'var ' + func + '=' + fString + ';' + s;\n      }, '');\n      expr = funcString + expr; // Mitigate http://perfectionkills.com/global-eval-what-are-the-options/#new_function\n\n      if (!/([\"'])use strict\\1/.test(expr) && !keys.includes('arguments')) {\n        expr = 'var arguments = undefined;' + expr;\n      } // Remove last semi so `return` will be inserted before\n      //  the previous one instead, allowing for the return\n      //  of a bare ending expression\n\n\n      expr = expr.replace(/;[\\t-\\r \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]*$/, ''); // Insert `return`\n\n      var lastStatementEnd = expr.lastIndexOf(';');\n      var code = lastStatementEnd > -1 ? expr.slice(0, lastStatementEnd + 1) + ' return ' + expr.slice(lastStatementEnd + 1) : ' return ' + expr; // eslint-disable-next-line no-new-func\n\n      return _construct(Function, keys.concat([code])).apply(void 0, _toConsumableArray(values));\n    }\n  }]);\n\n  return Script;\n}();\n\nJSONPath.prototype.vm = {\n  Script: Script\n};\n\nexport { JSONPath };\n", "export function observeDOMElement(element: HTMLElement) {\n  const observer = new element.ownerDocument.defaultView.MutationObserver((changes) => {\n    changes.forEach((change) => {\n      const target = change.target as HTMLElement\n      const src = target.getAttribute('data-embed-src')\n      if (src) {\n        loadScript(target, src)\n      }\n\n      if (change.addedNodes) {\n        change.addedNodes.forEach((node) => {\n          if (node.nodeType == 1) autoloadScripts(node as HTMLElement, false)\n        })\n      }\n    })\n  })\n  observer.observe(element, { attributes: true, subtree: true, childList: true })\n  return observer\n}\n\nexport function autoloadScripts(element: HTMLElement, observe = true) {\n  const embeds = element.querySelectorAll('[data-embed-src]')\n  for (var i = 0; i < embeds.length; i++) {\n    const embed = embeds[i]\n    loadScript(embed as HTMLElement, embed.getAttribute('data-embed-src'))\n  }\n  if (observe) return observeDOMElement(element)\n}\n\nexport function loadScript(element: HTMLElement, src: string) {\n  for (var p = element; p; p = p.parentElement as HTMLElement) {\n    if (!p.parentElement) {\n      const scripts = p.querySelectorAll('script')\n      for (var i = 0; i < scripts.length; i++) {\n        if (scripts[i].getAttribute('src') == src) {\n          return true\n        }\n      }\n      if (p.tagName == 'HTML') p = p.querySelector('head') || p\n      const script = p.ownerDocument.createElement('script')\n      script.setAttribute('type', 'module')\n      script.setAttribute('src', src)\n      p.appendChild(script)\n      break\n    }\n  }\n}\n", "export const parseLimit = (qualifier: string) => {\n  const limit = parseInt(qualifier?.match(/\\[0:(\\d+)\\]/)?.[1], 10)\n  if (!isNaN(limit) && limit > 0) return String(limit)\n  return null\n}\n\nexport const parseRange = (qualifier: string) => {\n  const bits = qualifier\n    ?.match(/\\[([^\\]]+)\\]/)?.[1]\n    .split(/\\s*,\\s*/g)\n    .filter(Boolean)\n    .map((bit) => {\n      // individual indexes\n      if (bit.match(/^-?\\d+$/)) return bit\n      // ranges\n      const range = bit.match(/^(\\d+):(\\d+)$/)\n      return range && parseInt(range[1], 10) < parseInt(range[2], 10) ? range[1] + '-' + range[2] : null\n    })\n  if (!bits?.every(Boolean)) return null\n  return bits.join(',')\n}\n\nexport const getQualifier = (jsonpath: string) => jsonpath?.match(/(\\.\\*|\\[[^\\]]*\\])$/)?.[0]\n\nexport function cleanCollectionBit(path: string) {\n  return path.replace(/(\\.?\\[[^\\]\\[]*\\]|\\.\\*)$/g, '')\n}\n\nexport function normalizeCollectionScope(path: string) {\n  return cleanCollectionBit(path) + '.*'\n}\n\n// increment numbers by given numbers, exclude second value of ranges to ensure inclusivity\nexport function adjustNumbers(string: string, diff: number) {\n  return string?.replace(/(.|^)(\\d+)/g, (m, b, n) => b + (b == ':' ? n : String(parseInt(n) + diff)))\n}\n\nexport function getHumanizedLabel(path: string, maxBits = 2) {\n  var bits = cleanCollectionBit(path)\n    .split(/]\\.|\\.\\*\\./g)\n    .pop()\n    .split(/\\./g)\n    .slice(-3)\n  bits = bits.filter((b) => isNaN(parseInt(b)))\n  return bits\n    .map((bit) => bit.charAt(0).toUpperCase() + bit.slice(1))\n    .slice(-maxBits)\n    .join(' ')\n}\n\nexport function getLastPathBit(path: string) {\n  return cleanCollectionBit(path).split('.').pop()\n}\n", "const monthNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\n\nexport const formatDate = (date: Date) => {\n  if (!date || typeof date.getDay !== 'function') return\n\n  const year = date.getFullYear()\n  const month = monthNames[date.getMonth()]\n  const day = date.getDate()\n\n  return `${month} ${day}, ${year}`\n}\n\nexport const isDate = function (date: string) {\n  return String(new Date(date)) !== 'Invalid Date' && !isNaN(Number(new Date(date)))\n}\n", "/** Lightweight DOM parser and serializer to use in server environments */\n\nimport { DataScopes } from '../utils/settings.js'\nimport { FEAASCustomizations, renderDOMElement } from './rendering.js'\n\nexport type HTMLAttribute = { name: string; value: string }\n\nexport class HTMLNode {\n  nodeName: string\n  nodeType: number\n  textContent?: string\n  attributes: HTMLAttribute[]\n  childNodes: HTMLNode[]\n  parentNode?: HTMLNode\n\n  constructor(nodeName: string, nodeType: number = 1, textContent?: string) {\n    this.nodeName = nodeName\n    this.nodeType = nodeType\n    this.textContent = textContent\n    this.attributes = []\n    this.childNodes = []\n  }\n\n  setAttribute(name: string, value: string) {\n    const attr = this.attributes.find((attr) => attr.name === name)\n    if (attr) {\n      attr.value = value\n    } else {\n      this.attributes.push({ name, value })\n    }\n  }\n\n  getAttribute(name: string): string | undefined {\n    const attr = this.attributes.find((attr) => attr.name === name)\n    return attr ? attr.value : undefined\n  }\n\n  insertBefore(newNode: HTMLNode, referenceNode: HTMLNode | null) {\n    newNode.parentNode = this\n    if (referenceNode === null) {\n      this.childNodes.push(newNode)\n    } else {\n      const index = this.childNodes.indexOf(referenceNode)\n      if (index !== -1) {\n        this.childNodes.splice(index, 0, newNode)\n      }\n    }\n  }\n\n  removeAttribute(attrName: string) {\n    const index = this.attributes.findIndex((attr) => attr.name === attrName)\n    if (index !== -1) {\n      this.attributes.splice(index, 1)\n    }\n  }\n\n  appendChild(newNode: HTMLNode) {\n    newNode.parentNode = this\n    this.childNodes.push(newNode)\n  }\n\n  get tagName() {\n    return this.nodeName?.toUpperCase()\n  }\n\n  get localName() {\n    return this.nodeName?.toLowerCase()\n  }\n\n  get innerHTML() {\n    return serializeHTML(this.childNodes)\n  }\n  set innerHTML(html: string) {\n    this.childNodes = parseHTML(String(html ?? ''))\n  }\n  get outerHTML() {\n    return serializeHTML([this])\n  }\n  get children() {\n    return this.childNodes.filter((c) => c.nodeType == 1)\n  }\n\n  closest(selector: string): HTMLNode | null {\n    let currentNode: HTMLNode | undefined = this\n\n    while (currentNode) {\n      if (selectorMatchesNode(selector, currentNode)) {\n        return currentNode\n      }\n\n      currentNode = currentNode.parentNode\n    }\n\n    return null\n  }\n\n  querySelectorAll(selector: string): HTMLNode[] {\n    const selectors = selector.split(/\\s*,\\s*/)\n    const results: HTMLNode[] = []\n\n    const checkNode = (node: HTMLNode) => {\n      for (const sel of selectors) {\n        if (selectorMatchesNode(sel, node)) {\n          results.push(node)\n          break\n        }\n      }\n\n      for (const child of node.childNodes) {\n        checkNode(child)\n      }\n    }\n\n    for (const child of this.childNodes) {\n      checkNode(child)\n    }\n\n    return results\n  }\n\n  querySelector(selector: string): HTMLNode {\n    return this.querySelectorAll(selector)[0]\n  }\n\n  private findSibling(step: -1 | 1, elementTypeOnly?: boolean): HTMLNode | null {\n    if (!this.parentNode) return null\n    const siblings = this.parentNode.childNodes\n    const index = siblings.indexOf(this)\n    if (index === -1) return null\n\n    for (let i = index + step; i >= 0 && i < siblings.length; i += step) {\n      const sibling = siblings[i]\n      if (!elementTypeOnly || sibling.nodeType === 1) {\n        return sibling\n      }\n    }\n\n    return null\n  }\n\n  removeChild(child: HTMLNode): HTMLNode {\n    const index = this.childNodes.indexOf(child)\n    if (index === -1) return\n    this.childNodes.splice(index, 1)\n    child.parentNode = undefined\n    return child\n  }\n\n  get previousSibling(): HTMLNode | null {\n    return this.findSibling(-1)\n  }\n\n  get nextSibling(): HTMLNode | null {\n    return this.findSibling(1)\n  }\n\n  get previousElementSibling(): HTMLNode | null {\n    return this.findSibling(-1, true)\n  }\n\n  get nextElementSibling(): HTMLNode | null {\n    return this.findSibling(1, true)\n  }\n  cloneNode(deep: boolean = false): HTMLNode {\n    const clonedNode = new HTMLNode(this.nodeName, this.nodeType)\n    clonedNode.attributes = JSON.parse(JSON.stringify(this.attributes))\n\n    if (this.textContent) {\n      clonedNode.textContent = this.textContent\n    }\n\n    if (deep) {\n      for (const childNode of this.childNodes) {\n        const clonedChild = childNode.cloneNode(true)\n        clonedNode.appendChild(clonedChild)\n      }\n    }\n\n    return clonedNode\n  }\n  get parentElement() {\n    return this.parentNode?.nodeType == 1 ? this.parentNode : null\n  }\n\n  ownerDocument = {\n    createElement(name: string): HTMLNode {\n      return new HTMLNode(name)\n    },\n    createDocumentFragment(): HTMLNode {\n      return new HTMLNode(null, 11)\n    }\n  }\n}\n\nfunction selectorMatchesNode(selector: string, node: HTMLNode): boolean {\n  const simpleSelectors = selector.match(/([.#]?[\\w-]+|\\[([\\w-]+)(=\"([^\"]*)\")?\\])/g)\n  if (!simpleSelectors) {\n    return false\n  }\n\n  for (const simpleSelector of simpleSelectors) {\n    if (simpleSelector.startsWith('#')) {\n      if (node.getAttribute('id') !== simpleSelector.slice(1)) {\n        return false\n      }\n    } else if (simpleSelector.startsWith('.')) {\n      const classNames = (node.getAttribute('class') || '').split(' ')\n      if (!classNames.includes(simpleSelector.slice(1))) {\n        return false\n      }\n    } else if (simpleSelector.startsWith('[')) {\n      const attrSelectorMatch = simpleSelector.match(/^\\[([\\w-]+)(=\"([^\"]*)\")?\\]$/)\n      if (attrSelectorMatch) {\n        const attrName = attrSelectorMatch[1]\n        const attrValue = attrSelectorMatch[3]\n        const actualValue = node.getAttribute(attrName)\n\n        if (typeof attrValue === 'undefined') {\n          if (actualValue === undefined) {\n            return false\n          }\n        } else {\n          if (actualValue !== attrValue) {\n            return false\n          }\n        }\n      } else {\n        return false\n      }\n    } else {\n      if (node.nodeName !== simpleSelector) {\n        return false\n      }\n    }\n  }\n\n  return true\n}\n\nexport function parseHTML(html: string): HTMLNode[] {\n  const nodes: HTMLNode[] = []\n  const stack: HTMLNode[] = []\n\n  while (html) {\n    const openTagMatch = html.match(/^<([\\w-]+)(\\s[^>]*)?>/)\n    const closingTagMatch = html.match(/^<\\/([\\w-]+)>/)\n\n    if (openTagMatch) {\n      const nodeName = openTagMatch[1].toLowerCase()\n      const attrsStr = openTagMatch[2] || ''\n      const attrs =\n        attrsStr.match(/([\\w-]+)(=\"([^\"]*)\")?/g)?.map((attr) => {\n          const [_, name, , value] = attr.match(/([\\w-]+)(=\"([^\"]*)\")?/)\n          return { name, value: unescapeHTML(value || '') }\n        }) || []\n\n      const node = new HTMLNode(nodeName, 1)\n      node.attributes = attrs\n      if (stack.length > 0) {\n        const parentNode = stack[stack.length - 1]\n        parentNode.childNodes.push(node)\n        node.parentNode = parentNode\n      } else {\n        nodes.push(node)\n      }\n      if (!['img', 'input', 'br'].includes(nodeName)) stack.push(node)\n      html = html.slice(openTagMatch[0].length)\n    } else if (closingTagMatch) {\n      stack.pop()\n      html = html.slice(closingTagMatch[0].length)\n    } else {\n      const textEnd = html.indexOf('<')\n      const textContent = html.slice(0, textEnd !== -1 ? textEnd : undefined)\n      const textNode = new HTMLNode('#text', 3)\n      textNode.textContent = textContent\n      if (stack.length > 0) {\n        const parentNode = stack[stack.length - 1]\n        parentNode.childNodes.push(textNode)\n        textNode.parentNode = parentNode\n      } else {\n        nodes.push(textNode)\n      }\n      html = html.slice(textContent.length)\n    }\n  }\n\n  return nodes\n}\n\nexport function escapeHTML(input: string): string {\n  return input\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;')\n}\n\nexport function unescapeHTML(input: string): string {\n  return input\n    .replace(/&amp;/g, '&')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&quot;/g, '\"')\n    .replace(/&#x27;/g, \"'\")\n}\n\nexport function serializeHTML(nodes: HTMLNode[]): string {\n  return nodes\n    .map((node) => {\n      if (node.nodeType === 3) {\n        return node.textContent || ''\n      }\n\n      const { nodeName, attributes } = node\n      const serializedAttributes = attributes\n        .map(({ name, value }) => ` ${name}=\"${escapeHTML(String(value))}\"`)\n        .join('')\n      const serializedChildren = serializeHTML(node.childNodes)\n      if (['img', 'input', 'br'].includes(nodeName)) {\n        return `<${nodeName}${serializedAttributes} />`\n      } else {\n        return `<${nodeName}${serializedAttributes}>${serializedChildren}</${nodeName}>`\n      }\n    })\n    .join('')\n}\n\nexport function renderHTMLContent(template: string, data?: DataScopes, config?: FEAASCustomizations) {\n  return parseHTMLContent(template, data, config)[0].outerHTML\n}\n\nexport function parseHTMLContent(template: string, data?: DataScopes, config?: FEAASCustomizations) {\n  const newTemplate = config?.processTemplate?.(null, template, data) || template\n  const nodes = parseHTML(newTemplate)\n  return nodes.map((node) => {\n    return renderDOMElement(node as unknown as HTMLElement, data, config)\n  }) as unknown as HTMLNode[]\n}\n", "import { queryObject } from './data.js'\nimport { customizeDataSettings } from '@sitecore/byoc'\n\nexport type DataSourceId = string\n\n// Fully resolved data - object or array\nexport type Data = Record<string, any> | any[]\n\n// Data keyed by datasource id\nexport type DataScopes = Data | Record<DataSourceId, Data>\n\n// Data settings is json object representing fetch call\nexport type DataSettings = ReturnType<typeof DataSettings>\n\n// Data options/samples indexed by id\nexport type DataOptionsById = Record<DataSourceId, DataSettings | Data>\n\n// Data options combines of the above: data, settings, plain or keyed by datasource id\nexport type DataOptions = Data | DataSettings | DataOptionsById\n\n/**\n * Cleans the provided settings object by removing unnecessary properties that match the defaults that will be re-added\n * back through normalizations. This method is used for code generated for the user, neant to make it look neater.\n *\n * @param {any} settings  - The settings object to be cleaned.\n * @returns {Object} - The cleaned settings object.\n */\nexport function clean(settings: any) {\n  const { params, method, headers, body, url } = DataSettings(settings)\n  var cleanSettings = { url } as Partial<DataSettings>\n  var cleanHeaders = { ...headers }\n  if (headers['Content-Type'] === 'application/json') delete cleanHeaders['Content-Type']\n  if (headers['Accept'] === 'application/json') delete cleanHeaders['Accept']\n  if (Object.keys(cleanHeaders).length > 0) {\n    cleanSettings.headers = cleanHeaders\n  }\n  if (method !== 'GET') {\n    cleanSettings.method = method\n  }\n  if (!(method === 'GET' || method === 'HEAD' || Object.keys(body).length === 0)) {\n    cleanSettings.body = body\n  }\n  if (Object.keys(params).length > 0) {\n    cleanSettings = { ...cleanSettings, params }\n  }\n  return cleanSettings\n}\n\n/**\n * Checks if the provided data is of type DataSettings by checking if all keys are recognized as settings keys.\n *\n * @param {any} data  - The data to be checked.\n * @returns {boolean} - True if the data is of type DataSettings, false otherwise.\n */\nexport const isDataSettings = (data: any): data is DataSettings => {\n  if (!data || typeof data.url != 'string') return false\n\n  for (var property in data) {\n    if (\n      property == 'body' ||\n      property == 'params' ||\n      property == 'headers' ||\n      property == 'url' ||\n      property === 'method' ||\n      (property == 'jsonpath' && typeof data[property] == 'string')\n    ) {\n      continue\n    }\n\n    return false\n  }\n\n  return true\n}\n\n/**\n * Converts settings object into fetch function arguments.\n *\n * @param {any} settings  - The settings object.\n * @returns {Array} - An array containing URL and options objects as fetch function arguments.\n */\nexport function toFetchArguments(settings?: any): Parameters<typeof fetch> {\n  const { url, headers, params, method, body: payload } = DataSettings(settings)\n\n  let body = undefined\n\n  const contentType = headers['Content-Type']\n\n  if (method != 'GET' && method != 'HEAD') {\n    if (contentType === 'application/json') body = JSON.stringify(payload)\n    if (contentType === 'multipart/form-data')\n      body = Object.keys(payload).reduce((form, key) => {\n        form.append(key, (payload as any)[key])\n        return form\n      }, new FormData())\n    if (contentType === 'application/x-www-form-urlencoded') body = new URLSearchParams(payload)\n  }\n\n  const query = Object.keys(params).length ? `?${new URLSearchParams(params)}` : ''\n\n  return [\n    `${url}${query}`,\n    {\n      headers,\n      body,\n      method\n    }\n  ]\n}\n\n/**\n * Creates a DataSettings object based on the provided settings. These settings are used later to fetch data for the\n * component. It's essentially fetch options with url.\n *\n * @param {any} settings  - The settings object.\n * @returns {DataSettings} - The DataSettings object.\n */\nexport function DataSettings(settings: any) {\n  const headers = {} as any\n  for (const key in settings?.headers || {}) {\n    if (settings.headers.hasOwnProperty(key)) {\n      const headerCase = key.replace(/^[a-z]|\\-[a-z]/g, (m) => m.toUpperCase())\n      headers[headerCase] = settings.headers[key]\n    }\n  }\n  if (!headers.Accept) headers['Accept'] = 'application/json'\n  return {\n    params: (settings?.params || {}) as Record<string, any>,\n    headers: headers as Record<string, string>,\n    jsonpath: String(settings?.jsonpath || '$'),\n    method: (settings?.method || 'GET').toUpperCase() as\n      | 'GET'\n      | 'POST'\n      | 'OPTIONS'\n      | 'PUT'\n      | 'DELETE'\n      | 'UPDATE'\n      | 'HEAD',\n    body: (settings?.body || {}) as Record<string, any>,\n    url: String(settings?.url || '')\n  }\n}\n/**\n * Fetches data based on the provided settings. It is expected that reesponse is json (forced by Accept header)\n *\n * @param {DataSettings} settings  - The data settings.\n * @param {string} datasourceId  - The datasource id.\n * @returns {Promise<Data>} - A promise that resolves to the fetched data.\n */\n\nconst fetchDataSettings = async (settings: DataSettings, datasourceId?: string): Promise<Data> => {\n  /**\n   * Allow BYOC to intercept request and return custom settings\n   */\n  const datasourceSettingsGetter = customizeDataSettings(datasourceId, settings)\n\n  if (datasourceSettingsGetter instanceof Promise) {\n    return datasourceSettingsGetter\n  }\n  // Apply custom settings\n  let updatedSettings = settings\n  if (datasourceSettingsGetter) {\n    updatedSettings = DataSettings(datasourceSettingsGetter)\n  }\n\n  try {\n    const [url, options] = toFetchArguments(updatedSettings)\n    const response = await DataSettings.fetchImplementation(url, {\n      ...options,\n      // next.js only allows lowercase method\n      method: options.method.toLowerCase()\n    })\n    const json = await response.json()\n    if (updatedSettings.jsonpath && updatedSettings.jsonpath != '$') {\n      return queryObject(json, updatedSettings.jsonpath)\n    }\n    return json\n  } catch (e) {\n    return {}\n  }\n}\n/**\n * Fetches data based on the provided data options. Options is a union of different types, settngs, data or\n * datasource-id keyed settings/data. If the function doesnt find settings in the object, it returns it as is. It\n * supports mixing of static and fetched data. If multiple data settings are found, requests are made in parallel.\n *\n * @param {DataOptions} data  - The data options.\n * @returns {Promise<DataScopes>} - A promise that resolves to the fetched data.\n */\nexport async function fetchData(data: DataOptions): Promise<DataScopes> {\n  if (!data) return data\n  if (isDataSettings(data)) return fetchDataSettings(data)\n\n  const keys = Object.keys(data)\n  const allRequests = await Promise.all(\n    keys\n      .map((key: keyof typeof data) => {\n        return isDataSettings(data[key]) ? fetchDataSettings(data[key], key) : null\n      })\n\n      .filter(Boolean)\n  )\n\n  return keys.reduce(\n    (obj, key: keyof typeof data) => ({\n      ...obj,\n      [key]: isDataSettings(data[key]) ? allRequests.shift() : data[key]\n    }),\n    {}\n  )\n}\n\nexport function hasDataSettings(data: DataOptions) {\n  if (!data) return false\n  return isDataSettings(data) || Object.values(data).some(isDataSettings)\n}\n\nDataSettings.clean = clean\nDataSettings.toFetchArguments = toFetchArguments\nDataSettings.fetchOne = fetchDataSettings\nDataSettings.fetch = fetchData\nDataSettings.isDataSettings = isDataSettings\nDataSettings.hasDataSettings = hasDataSettings\nDataSettings.fetchImplementation = (...args: Parameters<typeof fetch>) => fetch(...args)\n", "export * from '../headless.js'\nexport * from './FEAASEditor.js'\nexport * from './FEAASPicker.js'\nexport * from './FEAASContext.js'\n", "export type ControlledPromise<T> = Promise<T> & {\n  resolve: (result?: T) => void\n  reject: (e: Error) => void\n  restart: () => ControlledPromise<T>\n  first: ControlledPromise<T>\n}\n\n/**\n * ControlledPromise is a function that returns a promise with additional methods for resolve, reject, restart, and\n * first. This allows more granular control over the promise resolution process. It also avoids unhandled rejections by\n * catching any errors and passing them to the onFailure callback.\n *\n * @example\n *   const promise = ControlledPromise(\n *     (result) => console.log(result),\n *     (error) => console.error(error)\n *   )\n *   promise.resolve('Success') // logs: \"Success\"\n *   promise.reject(new Error('Failure')) // logs: Error: Failure\n *\n * @template T The type of value that the promise will resolve with.\n * @param {(result: T) => void} [onSuccess] - A callback function that is called when the promise is successfully\n *   resolved. The resolved value is passed to this function.\n * @param {(e: Error) => void} [onFailure=(e: Error) => {}] - A callback function that is called when the promise is\n *   rejected. The Error object is passed to this function. Default is `(e: Error) => {}`\n * @returns {ControlledPromise<T>} A ControlledPromise object with the following properties:\n *\n *   - Resolve: A function that when called, will resolve the promise.\n *   - Reject: A function that when called, will reject the promise with the provided error.\n *   - Restart: A function that when called, will restart the promise. This creates a new promise and replaces the current\n *       promise with the new one.\n *   - First: The first promise that was created by the restart function. This property is initially undefined, and is set\n *       when the restart function is called for the first time.\n */\nexport function ControlledPromise<T>(onSuccess?: (result: T) => void, onFailure = (e: Error) => {}) {\n  var first: ControlledPromise<T>\n  const restart = () => {\n    var resolve: (result?: T) => void\n    var reject: (e: Error) => void\n    const promise = new Promise<T>((success, failure) => {\n      resolve = (value: T) => {\n        onSuccess?.(value)\n        success(value)\n      }\n      reject = failure\n    })\n    var controlled: ControlledPromise<T> = Object.assign(promise, {\n      resolve,\n      reject,\n      restart,\n      first\n    })\n    first = controlled\n\n    // Avoid unhandled rejection\n    controlled.catch(onFailure)\n\n    return controlled\n  }\n  return restart()\n}\n", "import type { JSXElementConstructor, ReactElement, ReactNode } from 'react'\nimport type ReactDOMClient from 'react-dom/client'\nimport type ReactDOM from 'react-dom'\nimport type React from 'react'\nimport { ControlledPromise } from '../utils/promise.js'\n\nexport type OptionalExcept<T, K extends keyof T> = Pick<T, K> & Partial<Omit<T, K>>\n\n// Shim in case it's required in node.js environment\nvar WebComponent =\n  typeof HTMLElement == 'undefined'\n    ? // @ts-ignore\n      typeof windowJSDOM != 'undefined'\n      ? // @ts-ignore\n        (windowJSDOM.HTMLElement as typeof HTMLElement)\n      : (class {} as unknown as typeof HTMLElement)\n    : HTMLElement\n\nexport interface ReactPayload {\n  React: typeof React\n  ReactDOM: typeof ReactDOM\n  ReactDOMClient: typeof ReactDOMClient\n}\n\ndeclare global {\n  interface DocumentEventMap {\n    feaasMount: Event\n    feaasUnmount: Event\n    feaasLoad: Event\n    feaasError: CustomEvent<Error>\n  }\n}\n\n/**\n * FEAASElement is a superclass for FEAAS components with optional react support.\n *\n * Initialization lifecycle:\n *\n * - `set(props)`\n * - `scheduleRender()` - any attribute change causes render to schedule to next frame\n * - `whenRendered.restart()` - rendering promise is reset and will resolve after render\n * - `advance()` - called on next frame\n * - `if (isReadyToLoad()) => boolean` - check if component has all necessary properties to load\n * - `load() => payload` => component is loaded\n * - `onLoad?(payload)` => invoke loaded callback\n * - `advance()` => going further in state machine\n * - `flush()` => flushes all react changes if needed\n * - `update()` => component-specific method (or react) to render changes to dom\n * - `render(payload, props)` => render means react\n * - `whenRendered.resolve()` - rendering promise is resolved after rendering\n * - `whenLoaded.resolved()` - resolved after loading and rendering\n */\nexport class FEAASElement<Props = any, Payload = any> extends WebComponent {\n  static observedAttributes: string[]\n\n  defaultProps = {} as Partial<Props>\n\n  /** Return attributes as parsed values */\n  getProps(context?: HTMLElement): any {\n    return {}\n  }\n\n  /** Properties parsed in current tick */\n  props: Props\n  overrides: Props\n\n  /** Timer until next tick */\n  nextRender: number\n\n  /** Is/was component in the dom? */\n  connected = false\n\n  refs: Record<string, FEAASElement> = {}\n  descendants: FEAASElement[] = []\n\n  /** Result of lazy loading */\n  payload: Payload\n  whenLoaded = ControlledPromise<Payload>((payload) => {\n    this.payload = payload\n  })\n\n  constructor() {\n    super()\n    this.addEventListener('feaasMount', this)\n    this.addEventListener('feaasUnmount', this)\n  }\n\n  /** Attaches shadow root if getShadowRootOptions any settings, or uses element itself */\n  getRoot(): FEAASElement | HTMLElement | ShadowRoot {\n    return this\n  }\n\n  /** Attribute changes trigger props parsing and schedules re-rendering */\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n    this.set()\n  }\n\n  /** Components parses its attributes when connected, and schedules rendeirng */\n  connectedCallback() {\n    this.mount()\n  }\n  disconnectedCallback() {\n    this.unmount()\n  }\n  /**\n   * Web components are initialized depth-first, making child elements render before its parents. This could here\n   * attempts to avoid this and inverts the initialization logic, so that children are initialized in the context of its\n   * already-initialized parents.\n   *\n   * FEAAS components dispatch `feaasMount` event that allows components to store references to each other. In addition\n   * it allows external scripts to listen for initialization of FEAAS components\n   */\n  mount() {\n    try {\n      const parent = this.getParent() as FEAASElement\n      // Allow parent component to initialize first\n      if (parent && !parent.connected) return\n      if (this.connected) return\n      this.connected = true\n      this.log('FEAAS: Mount', this.tagName, this)\n      this.dispatchEventIndirectly(new Event('feaasMount', { bubbles: true, composed: true }))\n      this.getElements().map((element: FEAASElement) => element.mount?.())\n      this.set()\n    } catch (e) {\n      this.onError(e)\n    }\n  }\n\n  dispatchEventIndirectly(event: Event) {\n    this.dispatchEvent(event)\n    const parent = this.getParent() as FEAASElement\n\n    if (parent && !parent.contains(this)) {\n      Object.defineProperty(event, 'target', { value: this, writable: false })\n      Object.defineProperty(event, 'composedPath', { value: () => [this], writable: false })\n      parent.handleEvent(event)\n    }\n  }\n\n  isJSONAttribute(attribute: keyof Props) {\n    return false\n  }\n\n  log(...args: any) {\n    const format = args[0]\n\n    if (\n      (typeof location != 'undefined' && location?.hostname.startsWith('components-')) ||\n      localStorage['Sitecore.Components.Debug']\n    )\n      console.log(\n        format +\n          ' ' +\n          args\n            .slice(1)\n            .map((arg: any) => {\n              return arg && typeof arg == 'object' ? '%O' : '%s'\n            })\n            .join(' '),\n        ...args.slice(1)\n      )\n  }\n\n  /** Nothing special happens on unmount, except setting a flag */\n  unmount() {\n    if (!this.connected) return\n    this.log('FEAAS: Unmount', this)\n    this.dispatchEventIndirectly(new Event('feaasUnmount', { bubbles: true, composed: true }))\n    // If a component is react component, we need to re-render tree so that React can unmount it from VDOM\n    // so observers can be removed\n    if (this.connected && this.initialized && this.render) {\n      this.update()\n    }\n    this.cancelRender()\n    this.connected = false\n    // If a component is react component, we need to re-render tree so that React can unmount\n    // it from VDOM, removing the observers\n    if (this.initialized && this.render) {\n      this.update()\n    }\n  }\n\n  getParent(onlyFeaas = true) {\n    for (\n      var p: HTMLElement = this;\n      (p = p.parentElement || ((p.parentNode instanceof ShadowRoot ? p.parentNode.host : null) as HTMLElement));\n\n    ) {\n      if (!onlyFeaas || p.tagName.startsWith('FEAAS-')) return p\n    }\n    // feaas context anywhere in the dom acts as a root element\n    if (this.tagName != 'FEAAS-CONTEXT') return document.querySelector('feaas-context')\n  }\n\n  getElements(root: HTMLElement | ShadowRoot = this.getRoot(), onlyFeaas = true): HTMLElement[] {\n    return Array.from(root.querySelectorAll('*'))\n      .map(\n        (el) =>\n          [\n            !onlyFeaas || el.tagName.startsWith('FEAAS-') ? el : null,\n            el.shadowRoot ? this.getElements(el.shadowRoot, onlyFeaas) : null\n          ] as HTMLElement[]\n      )\n      .flat()\n      .filter(Boolean)\n  }\n\n  /** Catch-all event handler that dispatches events to callback */\n  handleEvent(event: Event) {\n    const target = event.composedPath()[0] as FEAASElement\n    switch (event.type) {\n      case 'feaasMount':\n        if (target != this) this.nestedCallback(target)\n        break\n      case 'feaasUnmount':\n        if (target != this) this.unnestedCallback(target)\n        break\n    }\n  }\n\n  /** Act on children element being removed */\n  unnestedCallback(target: FEAASElement) {\n    const index = this.descendants.indexOf(target)\n    if (index == -1) return\n    this.log('FEAAS: Unnest', this, target)\n    this.descendants.splice(index, 1)\n    this.refs[target.getComponentName()] = null\n    if (target.refs.parent == this) target.refs.parent = null\n    if (target.refs.top == this) {\n      target.refs.top = target.refs.parent\n    }\n  }\n\n  /** Act on children element being added */\n  nestedCallback(target: FEAASElement): boolean | void {\n    const index = this.descendants.indexOf(target)\n    if (index != -1) return\n    this.descendants.push(target)\n    this.log('FEAAS: Nest', this, target)\n    this.refs[target.getComponentName()] = target\n    target.refs.top = this\n    target.refs.parent ||= this\n    if (target.render) {\n      for (var p: FEAASElement = target.refs.parent; p; p = p.refs.parent) {\n        if (p.render) {\n          target.refs.parentReact ||= p\n          target.refs.topReact = p\n        }\n      }\n    }\n  }\n\n  getComponentName() {\n    return this.tagName.replace('FEAAS-', '').toLowerCase()\n  }\n\n  /**\n   * Check if lazy component is ready to be loaded. For example a component may stay unloaded unless certain attributes\n   * are set\n   */\n  isReadyToLoad() {\n    return this.payload === undefined && this.getAttribute('hidden') == null\n  }\n\n  /** Generic error handler */\n  onError(error: Error, where: string = 'uncaught', handled = false) {\n    const event = new CustomEvent('feaasError', { bubbles: true, composed: true, detail: error })\n    this.dispatchEventIndirectly(event)\n    this.whenLoaded.reject(error)\n    if (!event.defaultPrevented && !handled) {\n      this.whenRendered.reject(error)\n      try {\n        this.unmount()\n      } catch (e) {}\n      return true\n    }\n    return false\n  }\n\n  shouldUpdateOnLoad() {\n    return true\n  }\n\n  onLoad: (payload: Payload) => void\n\n  /** Load lazy component & render */\n  async advance() {\n    try {\n      if (this.payload === undefined) {\n        if (!this.isReadyToLoad()) return\n        this.payload = null\n        this.dispatchEventIndirectly(new Event('feaasLoad', { bubbles: true, composed: true }))\n        const loaded = await this.load().catch((e) => {\n          this.payload = undefined\n          throw e\n        })\n\n        this.whenLoaded.resolve(loaded)\n\n        // Allow component to handle the post-loading\n        if (this.onLoad) {\n          return\n        }\n      } else if (this.payload == null) {\n        return\n      }\n\n      this.flush()\n      this.whenRendered.resolve(this)\n    } catch (e) {\n      this.onError(e)\n    }\n  }\n\n  flush() {\n    if (!this.connected) return\n    const flushSync = (this.payload as ReactPayload)?.ReactDOM?.flushSync\n    if (flushSync) {\n      flushSync(() => this.update())\n    } else {\n      this.update()\n    }\n  }\n\n  /** Invoke preloading logic that needs to finish before component can render */\n  load() {\n    return Promise.resolve(null)\n  }\n\n  /**\n   * Component-specific logic that updates the DOM. Default render implementation assume react rendering, in that case\n   * the component needs to provide React & ReactDOM references in its payload. Web component redefine its render to not\n   * use react at all\n   */\n  update(): any {\n    //this.log('FEAAS: React', this.tagName, this.payload)\n    if (this.payload == null) return\n    if (!this.render) return\n    const { React, ReactDOM, ReactDOMClient } = (this.payload as ReactPayload) || {}\n    if (!React) throw new Error(`${this.tagName}: React is not present in payload`)\n    if (!ReactDOM) throw new Error(`${this.tagName}: ReactDOM is not present in payload`)\n    if (this.getAttribute('hydrate') == 'false' && this.firstElementChild) return\n    if (!this.refs.topReact && !this.forceUpdateReact) {\n      if (ReactDOMClient) {\n        this.reactRoot ||= ReactDOMClient.createRoot(this.getReactRootElement())\n        this.reactRoot.render(this.getReactElement())\n      } else {\n        ReactDOM.render(this.getReactElement(), this.getReactRootElement())\n      }\n    } else if (this.forceUpdateReact && this.connected) {\n      this.forceUpdateReact?.()\n    } else {\n      this.refs.topReact?.forceUpdateReact?.()\n    }\n  }\n\n  invokeReactRendering(): ReactNode {\n    const { React, ReactDOM } = (this.payload as ReactPayload) || {}\n    if (!this.connected) return null\n    const children = this.descendants\n      .filter((r) => {\n        return r.refs.parentReact == this && r.payload && r.connected\n      })\n      .map((child: FEAASElement<any, any>, index) => {\n        return this.getReactElement(child)\n      })\n    return this.render({ ...this.props, children }, this.payload)\n  }\n\n  reactWrapper: React.FunctionComponent\n  reactErrorBoundary: new (...args: any) => React.Component<{ children: any; slot: string }, { error: Error }>\n  reactRoot: ReactDOMClient.Root\n\n  getReactErrorBoundary(target: FEAASElement = this, displayName = target.tagName) {\n    if (this.reactErrorBoundary) return this.reactErrorBoundary\n\n    const { React, ReactDOM } = (target.payload as ReactPayload) || {}\n    return (this.reactErrorBoundary ||= class FEAASErrorBoundary extends React.Component<\n      { children: any; slot: string },\n      { error: Error }\n    > {\n      state = {\n        error: null as Error\n      }\n\n      static getDerivedStateFromError(error: Error) {\n        return { error: error }\n      }\n\n      componentDidCatch(error: Error, errorInfo: any) {\n        console.error(`FEAAS: ${target.tagName} Error:`, error, errorInfo)\n        target.onError(error, 'react')\n        //this.setState({ error: error })\n      }\n\n      render() {\n        if (this.state.error) {\n          // target.classList.add('feaas-error')\n          return\n          //return <h1>There seems to be a problem.</h1>\n        }\n        //if (target.classList.contains('feaas-error')) target.classList.remove('feaas-error')\n\n        return this.props.children\n      }\n    })\n  }\n\n  getReactElement(target: FEAASElement = this, props?: any) {\n    const { React, ReactDOM } = (target.payload as ReactPayload) || {}\n    const ErrorBoundary = this.getReactErrorBoundary()\n    const Wrapper = this.getReactWrapper(target)\n    return (\n      // @ts-ignore TS5 react types throws here\n      <ErrorBoundary key={target.tagName + '-' + target.getUID()} slot={target.getAttribute('slot')}>\n        <Wrapper />\n      </ErrorBoundary>\n    )\n  }\n\n  getReactWrapper(target: FEAASElement = this, displayName = target.tagName) {\n    if (target.reactWrapper) return target.reactWrapper\n\n    const { React, ReactDOM } = (target.payload as ReactPayload) || {}\n\n    target.reactWrapper = (props?: any) => {\n      if (target.render) {\n        const [value, forceUpdateReact] = React.useReducer((r) => r + 1, 0)\n        target.forceUpdateReact = forceUpdateReact\n        return ReactDOM.createPortal(<>{target.invokeReactRendering()}</>, target.getReactRootElement())\n      } else {\n        return target.update()\n      }\n    }\n\n    Object.assign(target.reactWrapper, {\n      key: target.tagName + '-' + target.getUID(),\n      displayName: displayName\n    })\n\n    return target.reactWrapper\n  }\n\n  uid: string\n  getUID() {\n    return (this.uid ||= String(Math.random()))\n  }\n  forceUpdateReact: (node?: ReactNode) => void\n\n  /**\n   * Render method that is pretty much the same as React Functional component, but with extra second argument for\n   * payload (usually result of import, it is expected to have React in scope).\n   */\n  render?(props: React.PropsWithChildren<Props>, payload: Payload): ReactNode | ReactElement\n\n  useShadowRoot: boolean\n  getShadowRoot() {\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' })\n    }\n    return this.shadowRoot\n  }\n  getReactRootElement(): HTMLElement | ShadowRoot {\n    return this.useShadowRoot ? this.getShadowRoot() : this.getRoot()\n  }\n\n  /** Set props and return values on new next tick */\n  set(overrides?: Partial<Props>) {\n    try {\n      this.scheduleRender()\n      this.overrides = {\n        ...this.overrides,\n        ...overrides\n      }\n      this.props = {\n        ...this.getProps(),\n        ...this.overrides\n      }\n      for (var property in this.props) {\n        const isJSON = this.isJSONAttribute(property)\n        const value = this.props[property]\n        const valueAsString = isJSON ? JSON.stringify(value) : String(value)\n        const defaultValue = this.defaultProps[property as keyof typeof this.defaultProps]\n        const defaultValueAsString = isJSON ? JSON.stringify(defaultValue) : String(defaultValue)\n        const attribute = property.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n        const oldValue = this.getAttribute(attribute)\n        try {\n          var odlValueAsString: string = isJSON ? JSON.stringify(JSON.parse(oldValue)) : oldValue\n        } catch (e) {\n          var odlValueAsString: string = null\n        }\n\n        if (value == null || valueAsString === defaultValueAsString) {\n          this.removeAttribute(attribute)\n        } else if (typeof value == 'string' || typeof value == 'number' || typeof value == 'boolean' || isJSON) {\n          if (odlValueAsString != valueAsString) this.setAttribute(attribute, valueAsString)\n        }\n      }\n    } catch (e) {\n      this.whenRendered.reject(e)\n      this.onError(e, 'set')\n    }\n    return this\n  }\n\n  import(path: string): Promise<Payload> {\n    return import(/* @vite-ignore */ /* webpackIgnore: true */ path)\n  }\n\n  /** Schedule rendering on next tick, to batch multiple attribute changes */\n  initialized: boolean\n  whenRendered = ControlledPromise<this>(\n    () => (this.initialized = true),\n    () => this.cancelRender()\n  )\n  scheduleRender() {\n    if (this.nextRender == null) {\n      this.whenRendered = this.whenRendered.restart()\n    }\n    this.cancelRender()\n    this.nextRender = requestAnimationFrame(() => {\n      this.nextRender = null\n      this.advance().catch((e) => {})\n    })\n  }\n\n  cancelRender() {\n    cancelAnimationFrame(this.nextRender)\n  }\n\n  formatURL(src: string, hostname: string) {\n    if (typeof src == 'string' && src.match(/^\\/[^\\/]/)) {\n      return hostname + src\n    } else {\n      return src\n    }\n  }\n\n  getContextAttribute(name: string, element = this) {\n    for (\n      var p: HTMLElement = this;\n      (p = p.parentElement || ((p.parentNode instanceof ShadowRoot ? p.parentNode.host : null) as HTMLElement));\n\n    ) {\n      if (p.getAttribute(name) != null) return p.getAttribute(name)\n    }\n    return this.getAttribute(name)\n  }\n\n  static register(tagName: string, win?: Window) {\n    if (win == null) win = typeof window != 'undefined' ? window : null\n    if (win && !win.customElements.get(tagName)) {\n      win.customElements.define(tagName, this)\n    }\n  }\n}\n\nexport { FEAASElement as Element }\nexport { WebComponent }\n", "import type { ReactNode, ReactElement, JSXElementConstructor, PropsWithChildren } from 'react'\nimport { FEAASElement } from './FEAASElement.js'\n\nexport type ReactModules = {\n  React: typeof React\n  ReactDOM: typeof ReactDOM\n}\nexport type ReactJSX = ReactNode | ReactElement<any, string | JSXElementConstructor<any>>\nexport type FEAASReactRender<P> = {\n  (this: FEAASReactElement<P>, props: P, payload: ReactModules): ReactJSX\n}\n\nexport default class FEAASReactElement<P> extends FEAASElement<P, ReactModules> {\n  load() {\n    return Promise.all([\n      // @ts-ignore @webpack-ignore\n      import('https://cdn.skypack.dev/react'),\n      // @ts-ignore\n      import('https://cdn.skypack.dev/react-dom')\n    ]).then(([React, ReactDOM]) => {\n      return { React, ReactDOM }\n    })\n  }\n\n  render({}: P, { React }: ReactModules): ReactJSX {\n    return <></>\n  }\n}\n\ninterface MyComponentProps {\n  counter: string\n}\n\nexport class MyComponent extends FEAASReactElement<MyComponentProps> {\n  // will re-render component if any of these attributes have changed\n  static observedAttributes = ['counter']\n\n  useShadowRoot = true\n\n  // parse attributes from web component to react-ready form\n  getProps() {\n    return {\n      counter: parseFloat(this.getAttribute('counter'))\n    }\n  }\n\n  // First argument is props, second arguments is React stuff\n  // Destructuring React is important for JSX to work\n  render({ counter }: MyComponentProps, { React }: ReactModules): ReactJSX {\n    const [updates, setUpdates] = React.useState(0)\n    React.useEffect(() => {\n      setUpdates((u) => u + 1)\n    }, [counter])\n    return (\n      <>\n        <p>Rendering attribute: {counter}</p>\n        <p>Triggered updates: {updates}</p>\n      </>\n    )\n  }\n}\n", "import { ControlledPromise } from './utils/promise.js'\n\nconst phases = ['initial', 'check', 'updated'] as const\nexport type ValidatableRequestPhase = (typeof phases)[number]\nexport type FetchCache = Record<string, FetchCacheRequest>\nexport interface ValidatableRequest {\n  url: Parameters<typeof fetch>[0]\n  options?: Parameters<typeof fetch>[1]\n  validator?: (resposne: Response, isCached: boolean) => boolean\n  callback?: (response: Response, status: ValidatableRequestPhase, isCached: boolean) => any\n  isCached?: boolean\n  response?: Response\n  cache?: FetchCache\n}\n\nexport type FetchCacheRequest = {\n  phase: ValidatableRequestPhase\n  initial: ControlledPromise<Response>\n  check: ControlledPromise<Response>\n  updated: ControlledPromise<Response>\n  final: ControlledPromise<Response>\n}\n\nexport var fetchCache: Record<string, FetchCacheRequest> = {}\nexport function clearFetchCache() {\n  fetchCache = {}\n}\n\n/**\n * Utility to cache-bust static files. It relies on reading Date header to detect cached response, so it requires CORS\n * settings to be set.\n *\n * It accepts validator function that determines if response is usable. If response was pulled from cache and is valid,\n * the optional callback function is fired right away. Then HEAD request is made bypassing the cache, to see if the\n * response has an newer Last-Modified header. In case it does and it passes validation, third request is fired that\n * actually fetches the new content and callback is invoked the second time.\n *\n * It works as promise, but also accepts callback to use cached blobs mid-flight and have access to headers. Any network\n * errors will not be caught. Function throws when unable to fetch valid response.\n */\nexport async function fetchAndRevalidate(\n  url: ValidatableRequest['url'],\n  options?: ValidatableRequest['options'],\n  validator?: ValidatableRequest['validator'],\n  callback?: ValidatableRequest['callback'],\n  cache: FetchCache = fetchCache\n) {\n  // make request as usual, see if there's cached version of an asset\n  return fetchWithCacheAwareness({ url, options, validator, callback, cache })\n    .then(fetchToValidateCache)\n    .then((result) => result.response)\n}\n\n/**\n * Executes a fetch request optionally validating and handling the response. Using callback function it's possible to\n * observe successful response twice: Cached version first, and up-to-date later.\n *\n * @param {Object}                  request              - An object containing request parameters.\n * @param {string}                  request.url          - The URL to fetch.\n * @param {Object}                  request.options      - Fetch request options.\n * @param {Function}                [request.validator]  - Function to validate the response. Should return `false` if\n *                                                       validation fails.\n * @param {Function}                [request.callback]   - Function to execute after fetching. Receives the response,\n *                                                       phase, and cache status.\n * @param {Object}                  [request.cache]      - Cache object to store or retrieve cached data.\n * @param {ValidatableRequestPhase} [phase='initial']    - The phase of the request, defaults to 'initial'.\n * @returns {Promise<Object>} A promise that resolves to an object containing request details and the response.\n * @throws {Error} Throws an error if the fetch fails or if the response is not valid according to the validator.\n */\nexport async function fetchWithCacheAwareness(\n  { url, options, validator, callback, cache }: ValidatableRequest,\n  phase: ValidatableRequestPhase = 'initial'\n) {\n  const date = new Date()\n  if (cache != null) {\n    var cachedRequest = getFetchCache(url)\n    if (phases.indexOf(cachedRequest.phase) >= phases.indexOf(phase)) {\n      var promise = cachedRequest[phase]\n    } else {\n      cachedRequest.phase = phase\n    }\n  }\n  const response = await (promise || fetch(url, options))\n  if (!promise && cachedRequest) {\n    if (!response.ok) {\n      cachedRequest[phase].reject(new Error('Fetch failed'))\n    } else {\n      cachedRequest[phase].resolve(response)\n    }\n  }\n  if (!response.ok) throw new Error('Fetch failed')\n  // see if response was pulled from cache\n  const isCached =\n    new Date(response.headers.get('date')) < date ||\n    (promise && phase == 'initial' && (cachedRequest.phase == 'updated' || cachedRequest.phase == 'check'))\n  if (validator?.(response, isCached) === false) throw new InvalidResponse('Response is not valid')\n  await callback?.(response, phase, isCached)\n  return {\n    url,\n    options,\n    isCached,\n    response,\n    validator,\n    callback,\n    cache\n  }\n}\n\nexport function getFetchCache(url: Parameters<typeof fetch>[0], dontCreate = false) {\n  const key = String(url).replace('?head', '')\n  var cache = fetchCache[key]\n  if (!cache && !dontCreate) {\n    cache = fetchCache[key] = {\n      phase: null,\n      initial: ControlledPromise(),\n      check: ControlledPromise(),\n      updated: ControlledPromise(),\n      final: ControlledPromise()\n    }\n  }\n  return cache\n}\n\nexport class InvalidResponse extends Error {}\n\n/**\n * Validates cache of previousl fetch If the resource is cached and there is a newer version available, it will be\n * re-fetched.\n *\n * @param request  - The request object containing the URL, cache information, options, validator, and response of\n *                 initial request.\n * @returns A promise that resolves to the request object.\n */\nexport async function fetchToValidateCache(\n  request: ValidatableRequest & Required<Pick<ValidatableRequest, 'response'>>\n) {\n  const { url, isCached, options, validator, response, cache } = request\n  if (isCached) {\n    // check if response was stale by sending quick HEAD request busting cache\n    const { response: head } = await fetchWithCacheAwareness(\n      {\n        url: url + (url.toString().includes('?') ? '&' : '?') + 'head',\n        options: {\n          ...options,\n          method: 'HEAD',\n          cache: 'no-cache'\n        },\n        validator,\n        cache\n      },\n      'check'\n    )\n\n    // there's a newer version of the file that we may fetch\n    if (head.headers.get('last-modified') != response.headers.get('last-modified')) {\n      // the new resource has to be re-fetched\n      return fetchBypassingCache(request)\n    }\n  }\n  return request\n}\n\nexport async function fetchBypassingCache(request: ValidatableRequest) {\n  return fetchWithCacheAwareness(\n    {\n      ...request,\n      options: {\n        ...request.options,\n        cache: 'reload'\n      }\n    },\n    'updated'\n  )\n}\n", "import {\n  fetchAndRevalidate,\n  fetchWithCacheAwareness,\n  fetchBypassingCache,\n  fetchToValidateCache,\n  ValidatableRequestPhase\n} from './fetch.js'\n\nexport const DEFAULT_CDN_URL = `https://feaas.blob.core.windows.net`\nexport type FEAASCDNComponentParams = {\n  cdn?: string\n  revision?: 'staged' | 'published' | 'saved' | number\n  library: string\n  component: string\n  version?: string\n\n  /**\n   * @deprecated Use `cdn` instead.\n   */\n  hostname?: string\n}\nexport type FEAASCDNComponentSource = {\n  src: string\n}\nexport type FEAASCDNComponentParamsCustomizations = {\n  instance?: string\n}\nexport type FEAASCDNComponentProps = (FEAASCDNComponentParams | FEAASCDNComponentSource) &\n  FEAASCDNComponentParamsCustomizations\n\nexport interface FEAASCDNStylesheetParams {\n  cdn?: string\n  library: string\n  revision?: 'staged' | 'published' | 'saved' | number\n\n  /**\n   * @deprecated Use `cdn` instead.\n   */\n  hostname?: string\n}\n\nexport type FEAASCDNStylesheetSource = {\n  src: string\n}\nexport type FEAASCDNStylesheetProps = FEAASCDNStylesheetParams | FEAASCDNStylesheetSource | string\n\nexport function parseComponentSource(source: string): FEAASCDNComponentParams {\n  const match = source.match(\n    /^(?:(.*?)\\/components)?\\/?([^\\/]+)\\/([^\\/]+)(?:\\/([^\\/]+)(?:\\/(published|staged|saved|\\d+)(?:\\.html?)?)?)?$/\n  )\n  if (match) {\n    var [, cdn, library, component, version, revision] = match\n    return { cdn, library, component, version, revision: revision as any }\n  }\n}\nexport function getComponentSource(props: FEAASCDNComponentParams) {\n  if (!props || !props.library || !props.component)\n    throw new Error('Component requires `library` and `component` properties')\n  return `${props.cdn && props.cdn != DEFAULT_CDN_URL ? `${props.cdn}/components` : ''}/${props.library}/${\n    props.component\n  }/${\n    !props.version || (props.version == 'responsive' && (!props.revision || props.revision == 'published'))\n      ? ''\n      : props.version\n  }/${!props.revision || props.revision == 'published' ? '' : props.revision}`.replace(\n    /(^\\/|\\/$|\\/\\/)(?!.+\\/components\\/)/g,\n    ''\n  )\n}\n\nexport function getStylesheetSource(props: FEAASCDNStylesheetParams) {\n  return `${props.cdn && props.cdn != DEFAULT_CDN_URL ? `${props.cdn}/styles/` : ''}${props.library}/${\n    !props.revision || props.revision == 'published' ? '' : props.revision\n  }`.replace(/\\/$|\\/\\/(?!.+\\/styles\\/)/g, '')\n}\n\nexport function parseStylesheetSource(source: string): FEAASCDNStylesheetParams {\n  const match = source.match(/^(?:(.*?)\\/styles\\/)?([^\\/]+)(?:\\/(published|staged|saved|\\d+)(?:.css)?)?$/)\n  if (match) {\n    var [, cdn, library, revision] = match\n    return { cdn, library, revision: revision as any }\n    // try parsing it as component url\n  } else {\n    const parsed = parseComponentSource(source) as Record<string, string>\n    if (parsed) {\n      var { cdn, library, revision } = parsed\n      if (revision?.match(/\\d/)) revision = undefined\n      return { cdn, library, revision: revision as any }\n    }\n  }\n}\nexport function getComponentURL(props: FEAASCDNComponentProps | string) {\n  if (typeof props == 'string') {\n    props = { src: props }\n  }\n  if ('src' in props) {\n    props = {\n      ...parseComponentSource(props.src)\n    }\n  }\n  return `${props.cdn || props.hostname || DEFAULT_CDN_URL}/components/${props.library}/${props.component}/${\n    props.version || 'responsive'\n  }/${props.revision || 'published'}.html`\n}\n\nexport function getStylesheetURL(props: FEAASCDNStylesheetProps) {\n  if (typeof props == 'string') {\n    props = { src: props }\n  }\n  if ('src' in props) {\n    // edge url are always well formed\n    if (String(props.src).includes('v1/files/components/styles')) return props.src\n\n    props = {\n      ...parseStylesheetSource(props.src)\n    }\n  }\n  return `${props.cdn || props.hostname || DEFAULT_CDN_URL}/styles/${props.library}/${\n    props.revision == 'staged' ? 'staged' : props.revision == 'saved' ? 'saved' : 'published'\n  }.css`\n}\n\nexport async function fetchAndRevalidateComponent(\n  props: FEAASCDNComponentProps,\n  callback?: (html: string) => void,\n  dontRevalidate = false\n) {\n  const onlyIfNotDeleted = (response: Response) => {\n    return response.headers.get('x-ms-meta-versionDeletedAt') == null\n  }\n  const parseResponse = (response: Response) => {\n    return response.clone().text().then(callback)\n  }\n\n  // Fetch two requests in parallel: One optimistically checking if component was forked,\n  // and another checking original definition of a component\n  const results = await Promise.all([\n    props.instance &&\n      fetchWithCacheAwareness({\n        options: {\n          headers: {\n            Accept: 'text/html'\n          },\n          credentials: 'omit'\n        },\n        url: getComponentURL({ ...props, version: props.instance }),\n        validator: onlyIfNotDeleted\n      }).catch((e) => e as Error),\n    fetchWithCacheAwareness({ url: getComponentURL(props), validator: onlyIfNotDeleted }).catch((e) => e as Error)\n  ])\n  const result = results.find((result) => result && 'isCached' in result && result)\n  if (!result || result instanceof Error) {\n    const error = results.find((result) => result && result instanceof Error)\n    throw error || new Error('Can not fetch component')\n  }\n  if (results[0] == result) {\n    console.log('Using fork!', results)\n  }\n  await parseResponse(result.response)\n  if (dontRevalidate) return result\n  return fetchToValidateCache({ ...result, callback: parseResponse }).catch((e) => {\n    if (results[0] == result) {\n      fetchBypassingCache({ ...result, callback: null, validator: null })\n      console.log('Fork was deleted')\n      // forked version was cached, but it's now deleted\n      if (!(results[1] instanceof Error)) {\n        parseResponse(results[1].response)\n        return fetchToValidateCache({ ...results[1], callback: parseResponse })\n      }\n    }\n    throw e\n  })\n}\n\n/** Fetches HTML of a component. */\nexport async function fetchComponent(props: FEAASCDNComponentProps | string) {\n  if (typeof props == 'string') props = { src: props }\n  var template: string\n  const { response } = await fetchAndRevalidateComponent(\n    props,\n    (result) => {\n      template = result\n    },\n    true\n  )\n  return { ...props, template, lastModified: response.headers.get('last-modified') }\n}\n\nexport type ValidatableStylesheetCallback = (css: string, phase: ValidatableRequestPhase) => void\nexport async function fetchAndRevalidateStylesheet(\n  props: FEAASCDNStylesheetProps,\n  callback: ValidatableStylesheetCallback\n) {\n  return fetchAndRevalidate(\n    getStylesheetURL(props),\n    {\n      headers: {\n        Accept: 'text/css'\n      },\n      credentials: 'omit'\n    },\n    (response) => {\n      return response.headers.get('x-ms-meta-deletedAt') == null\n    },\n    (response, phase) => {\n      return response\n        .clone()\n        .text()\n        .then((text) => callback(text, phase))\n    }\n  )\n}\n", "import {\n  FEAASCDNStylesheetProps,\n  fetchAndRevalidateStylesheet,\n  getStylesheetURL,\n  parseStylesheetSource,\n  ValidatableStylesheetCallback\n} from '../cdn.js'\n\nexport function renderStylesheet(props: FEAASCDNStylesheetProps, style?: HTMLStyleElement) {\n  renderStylesheetPromise(props, (style ||= document.createElement('style')))\n  return style\n}\n\nexport function renderStylesheetPromise(props: FEAASCDNStylesheetProps, stylesheet?: HTMLStyleElement) {\n  stylesheet ||= document.createElement('style')\n  return fetchAndRevalidateStylesheet(props, (cssText, phase) => {\n    stylesheet.textContent = cssText\n  }).then(() => stylesheet)\n}\n\nconst validatedStylesheets = new WeakSet<HTMLStyleElement | HTMLLinkElement>()\nexport function loadStylesheet(props: FEAASCDNStylesheetProps, callback?: ValidatableStylesheetCallback) {\n  var writableStylesheet: HTMLStyleElement\n  var foundStylesheet = findStylesheet(props)\n\n  if (foundStylesheet) {\n    if (validatedStylesheets.has(foundStylesheet)) {\n      return Promise.resolve(foundStylesheet)\n    }\n    // it can be that page already have stylesheet using alternative URL (e.g. edge url), use that instead\n    props = foundStylesheet.getAttribute('data-href') || foundStylesheet.getAttribute('href')\n  }\n\n  return fetchAndRevalidateStylesheet(props, (cssText, phase) => {\n    // dont need to write stylesheet for cached state if we already found a stylesheet\n    if (!(phase == 'initial' && foundStylesheet)) {\n      writableStylesheet ||=\n        !foundStylesheet || foundStylesheet.tagName == 'LINK' ? createStylesheet(props) : foundStylesheet\n      writableStylesheet.textContent = cssText\n    }\n    callback?.(cssText, phase)\n  }).then(() => writableStylesheet || foundStylesheet)\n}\n\nexport function loadStylesheetAllowStale(props: FEAASCDNStylesheetProps) {\n  return new Promise((resolve, reject) => {\n    loadStylesheet(props, resolve).catch(reject)\n  })\n}\n\n// Find stylesheet on the page for given props, also check by alternative edge url\nexport function findStylesheet(props: FEAASCDNStylesheetProps) {\n  const cdnURL = getStylesheetURL(props)\n  const { library } = parseStylesheetSource(cdnURL)\n  const edgeURL = `/files/components/styles/${library}.css`\n  return document.querySelector(\n    `style[data-href=\"${cdnURL}\"], \n    link[rel=\"stylesheet\"][href=\"${cdnURL}\"], \n    style[data-href*=\"${edgeURL}\"], \n    link[rel=\"stylesheet\"][href*=\"${edgeURL}\"]`\n  ) as HTMLStyleElement | HTMLLinkElement\n}\n\nexport function createStylesheet(props: FEAASCDNStylesheetProps) {\n  const url = getStylesheetURL(props)\n  const stylesheet = document.createElement('style')\n  stylesheet.setAttribute('data-href', url)\n  document.head.appendChild(stylesheet)\n  return stylesheet\n}\n", "import { fetchAndRevalidateComponent } from '../cdn.js'\nimport { DataScopes } from '../utils/settings.js'\nimport { FEAASComponentProps, renderDOMContent, renderDOMElement } from './rendering.js'\n\nexport function renderComponentElement(content: string, datasources?: DataScopes) {\n  const wrapper = document.createElement('div')\n  wrapper.innerHTML = content\n  const fragment = document.createDocumentFragment()\n  while (wrapper.firstChild) {\n    fragment.appendChild(wrapper.firstChild)\n  }\n  renderDOMElement(fragment, datasources)\n  return wrapper\n}\n\nexport function renderComponent(props: FEAASComponentProps, root?: HTMLElement) {\n  renderComponentPromise(props, (root ||= document.createElement('div')))\n  return root\n}\n\nexport async function renderComponentPromise(props: FEAASComponentProps, root?: HTMLElement) {\n  root ||= document.createElement('div')\n  if (!root.childNodes.length) {\n    if ('template' in props) {\n      return renderDOMContent(root, props.template, props.data, props)\n    } else {\n      return fetchAndRevalidateComponent(props, (template) => {\n        return renderDOMContent(root, template, props.data, props)\n      }).then(() => root)\n    }\n    /* update element with new data */\n  } else {\n    return renderDOMElement(root, props.data, props)\n  }\n}\n", "import { DEFAULT_CDN_URL, FEAASCDNComponentParams, fetchAndRevalidateComponent, parseComponentSource } from '../cdn.js'\nimport { renderDOMContent, renderDOMElement } from '../dom/rendering.js'\nimport { loadStylesheetAllowStale } from '../headless.js'\nimport { ControlledPromise } from '../utils/promise.js'\nimport { DataOptions, DataSettings } from '../utils/settings.js'\nimport { FEAASElement } from './FEAASElement.js'\n\nexport function FEAASComponentsProps(element: FEAASElement) {\n  let data: any\n  const src = element.getAttribute('src')\n  if (src) {\n    const parsed = parseComponentSource(src)\n    if (!parsed) throw new Error(`Could not parse FEAAS Component source: ${src}`)\n    var { cdn, library, component, version, revision } = parsed\n  }\n\n  const dataValue = element.getAttribute('data')\n\n  if (dataValue != null && dataValue != '') {\n    try {\n      data = typeof dataValue == 'string' ? JSON.parse(dataValue) : {}\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const fetch = element.getAttribute('fetch')\n  return {\n    data: (data || {}) as DataOptions,\n    cdn: element.getContextAttribute('cdn') ?? cdn ?? DEFAULT_CDN_URL,\n    library: element.getAttribute('library') ?? library,\n    component: element.getAttribute('component') ?? component,\n    version: element.getAttribute('version') ?? version ?? 'responsive',\n    revision: (element.getAttribute('revision') ?? revision ?? 'published') as FEAASCDNComponentParams['revision'],\n    hostname: element.getAttribute('hostname'),\n    template: element.getAttribute('template'),\n    instance: element.getAttribute('instance'),\n    editable: element.getAttribute('editable') != null,\n    suspended: element.getAttribute('suspended') != null,\n    lastModified: element.getAttribute('last-modified'),\n    fetch:\n      fetch == 'false' || (fetch == null && element.hasAttribute('fetch'))\n        ? []\n        : fetch == null || fetch == 'true'\n        ? ['data', 'template', 'stylesheet']\n        : fetch.split(/(\\s+|\\-)+/g).filter(Boolean)\n  }\n}\n\nexport type FEAASComponentsProps = ReturnType<typeof FEAASComponentsProps>\n\n/**\n * - Initialization lifecycle:\n * - - `set(props)`\n * - - `scheduleRender()` - any attribute change causes render to schedule to next frame\n * - - `whenRendered.restart()` - rendering promise is reset and will resolve after render\n * - - `advance()` - called on next frame\n * - - `if (isReadyToLoad()) => boolean` - check if component has all necessary properties to load\n * - - `load() => payload` => component is loaded\n * - - `onLoad?(payload)` => invoke loaded callback for cached version of a component\n * - - `advance()` => going further in state machine\n * - - `flush()` => flushes all react changes if needed\n * - - `update()` => component-specific method (or react) to render changes to dom\n * - - `render(payload, props)` => render means react\n * - - `whenRendered.resolve()` - rendering promise is resolved after rendering\n * - - IF CACHE WAS STALE - FETCH AND RENDER AGAIN\n * - - `fetchByPassingCache()` - load up-to-date version of a component\n * - - `onLoad(newPayload) `\n * - - `advance()` => going further in state machine\n * - - `flush()` => flushes all react changes if needed\n * - - `update()` => component-specific method (or react) to render changes to dom\n * - - `render(payload, props)` => render means react\n * - - `whenRendered.resolve()` - rendering promise is resolved after rendering\n * - - `whenLoaded.resolved()` - resolved after loading of up to date component\n */\nexport class FEAASComponent extends FEAASElement<FEAASComponentsProps, string> {\n  readyData: any = {}\n  whenDataReady = ControlledPromise<any>(\n    (data) => (this.readyData = data),\n    (e) => this.onError(e)\n  )\n\n  static observedAttributes = [\n    'library',\n    'component',\n    'version',\n    'revision',\n    'hostname',\n    'cdn',\n    'template',\n    'data',\n    'instance',\n    'editable',\n    'with-stylesheet',\n    'fetch'\n  ]\n\n  defaultProps = {\n    cdn: DEFAULT_CDN_URL,\n    revision: 'published',\n    version: 'responsive',\n    editable: false,\n    suspended: false,\n    data: {}\n  } as Partial<FEAASComponentsProps>\n\n  needsRefresh: boolean\n  needsToFetchTemplate: boolean\n\n  setData(data: DataOptions) {\n    this.set({ data })\n  }\n\n  getProps() {\n    return FEAASComponentsProps(this)\n  }\n\n  isJSONAttribute(prop: keyof FEAASComponentsProps) {\n    return prop == 'data'\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    if (oldValue === newValue) return\n\n    // force component to be refreshed\n    if (name == 'library' || name == 'component' || name == 'revision' || name == 'version') {\n      this.payload = undefined\n      if (this.alreadyRendered && this.connected) {\n        this.needsRefresh = true\n        this.needsToFetchTemplate = true\n      }\n    }\n\n    super.attributeChangedCallback(name, oldValue, newValue)\n\n    if (name == 'data') {\n      this.needsRefresh = true\n      if (this.props.fetch.includes('data') || this.alreadyRendered || !DataSettings.hasDataSettings(this.props.data)) {\n        this.fetchData()\n      }\n    }\n  }\n\n  // Reset readyData and perform a new fetch.\n  async fetchData() {\n    this.readyData = undefined\n\n    this.whenDataReady = this.whenDataReady.restart()\n\n    const data = await DataSettings.fetch(this.props.data)\n\n    const alreadyRendered = this.alreadyRendered\n\n    await this.whenDataReady.resolve(data)\n    if (alreadyRendered) {\n      this.advance()\n    }\n  }\n\n  getEditor(): any {\n    return (document.querySelector('feaas-context') as FEAASElement)?.refs.editor\n  }\n\n  constructor() {\n    super()\n\n    const data = this.getAttribute('data')\n    if (!this.getAttribute('data')) {\n      this.whenDataReady.resolve({})\n    }\n\n    this.addEventListener('click', () => {\n      if (this.props.editable) {\n        this.edit()\n      }\n    })\n  }\n\n  edit() {\n    const editor = this.getEditor()\n    if (editor?.setTarget(this)) {\n      editor.open()\n      return true\n    }\n  }\n\n  /* Check if component is a repeated clone, and return the original */\n  getOriginal() {\n    const scope = this.getAttribute('data-path-scope')\n    if (!scope) return\n    for (var current = this as Element; (current = current.previousElementSibling); ) {\n      if (current.getAttribute('data-path-scope') == scope) {\n        var last = current\n      } else {\n        break\n      }\n    }\n    return last as FEAASComponent\n  }\n\n  isReadyToLoad() {\n    return (\n      super.isReadyToLoad() && this.props.library != null && this.props.component != null && this.props.version != null\n    )\n  }\n\n  onLoad = (html: string) => {\n    this.payload = html\n    this.advance()\n  }\n\n  async load() {\n    // defer loading to original element\n    if (this.getOriginal()) return\n\n    const advanceIfEverythingIsReady = () => {\n      // html is not loaded\n      if (this.payload == null) return\n\n      // shared stylesheet is still being loaded\n      if (stylesheetPromise) return\n\n      // data is still loading\n      if (!this.readyData) return\n\n      this.onLoad(this.payload)\n    }\n\n    if (this.props.fetch.includes('stylesheet')) {\n      var stylesheetPromise = loadStylesheetAllowStale({ ...this.props }).then(() => {\n        stylesheetPromise = null\n        advanceIfEverythingIsReady()\n      })\n    }\n\n    if (this.props.fetch.includes('template') || this.needsToFetchTemplate) {\n      this.needsToFetchTemplate = false\n      var templatePromise = fetchAndRevalidateComponent(this.props, (html) => {\n        this.payload = html\n        this.needsRefresh = true\n        advanceIfEverythingIsReady()\n      })\n    } else {\n      this.payload = this.props.template ?? this.innerHTML\n    }\n\n    return Promise.all([\n      stylesheetPromise,\n      this.whenDataReady.then(() => advanceIfEverythingIsReady()),\n      templatePromise\n    ]).then(() => this.payload)\n  }\n\n  alreadyRendered: boolean\n\n  flush() {\n    if (!this.readyData) return\n\n    super.flush()\n  }\n\n  update() {\n    this.alreadyRendered = true\n    // avoid unnecessary rendering if hydration was disabled\n    if (\n      !this.props.fetch.includes('data') &&\n      !this.props.fetch.includes('template') &&\n      this.firstElementChild &&\n      !this.needsRefresh\n    )\n      return\n    if (Array.from(this.children).filter((c) => c.tagName != 'BR').length > 0 && !this.needsRefresh) {\n      renderDOMElement(this, this.readyData)\n    } else {\n      this.needsRefresh = false\n      // defer rendering to original element\n      if (this.getOriginal()) {\n        return\n      }\n      renderDOMContent(this, this.payload, this.readyData)\n    }\n  }\n}\n\ntype FetchKeyword = 'data' | 'template' | 'stylesheet'\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-component': {\n        data?: any\n        class?: string\n        suppressHydrationWarning?: boolean\n        template?: string\n        instance?: string\n        editable?: boolean\n        children?: any\n        dangerouslySetInnerHTML?: { __html: string }\n        'last-modified'?: string\n        fetch?:\n          | `${FetchKeyword} ${FetchKeyword} ${FetchKeyword}`\n          | `${FetchKeyword} ${FetchKeyword}`\n          | `${FetchKeyword}`\n          | ''\n      } & (\n        | {\n            /**\n             * @deprecated Use cdn instead.\n             */\n            hostname?: string\n            cdn?: string\n            library: string\n            component: string\n            version?: string\n            revision?: FEAASComponentsProps['revision']\n          }\n        | { src: string }\n        | { template: string }\n      )\n    }\n  }\n}\nFEAASComponent.register('feaas-component')\n\nexport { FEAASComponent as Component, FEAASComponentsProps as ComponentProps }\n", "import { FEAASElement } from './FEAASElement.js'\n\nexport function FEAASLoaderProps(element: HTMLElement) {\n  return {\n    opacity: element?.getAttribute('opacity') ? parseFloat(element?.getAttribute('opacity')) : 1,\n    hidden: element?.getAttribute('hidden') != null\n  }\n}\ntype FEAASLoaderProps = ReturnType<typeof FEAASLoaderProps>\n\nexport class FEAASLoader extends FEAASElement<FEAASLoaderProps, string> {\n  stylesheet: HTMLStyleElement\n  loader: HTMLDivElement\n\n  getProps() {\n    return FEAASLoaderProps(this)\n  }\n\n  defaultProps = {\n    hidden: false\n  } as Partial<FEAASLoaderProps>\n\n  static observedAttributes = ['hidden', 'opacity']\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    if (oldValue === newValue) return\n    if (name == 'hidden') {\n      this.style.setProperty('display', 'block', 'important')\n      this.style.setProperty('transition', 'opacity 0.3s', 'important')\n      if (newValue) {\n        this.style.setProperty('opacity', '0', 'important')\n        this.style.pointerEvents = 'none'\n      } else {\n        this.style.setProperty('opacity', '1', 'important')\n        this.style.pointerEvents = 'all'\n      }\n    }\n    return super.attributeChangedCallback(name, oldValue, newValue)\n  }\n\n  connectedCallback() {\n    this.payload = null\n    super.connectedCallback()\n    this.attributeChangedCallback('hidden', this.getAttribute('hidden'), this.getAttribute('hidden'))\n    this.stylesheet = document.createElement('style')\n    this.stylesheet.textContent = `\n  #loader {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #f6f6ff;\n    z-index: 1000;\n  }\n  @keyframes loader-circular-track {\n    0% {\n      stroke-dasharray: 1, 400;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 400, 400;\n      stroke-dashoffset: -100;\n    }\n    100% {\n      stroke-dasharray: 400, 400;\n      stroke-dashoffset: -260;\n    }\n  }\n  \n  @keyframes loader-circular-spinner {\n    0% {\n      transform: rotate(0deg);\n    }\n  \n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  #loader .spinner {\n    width: 48px;\n    height: 48px;\n  }\n  `\n    this.loader = document.createElement('div')\n    this.loader.id = 'loader'\n    this.loader.innerHTML = `\n  <div class=\"spinner\">\n    <svg\n      viewBox=\"0 0 100 100\"\n      style=\"\n        animation: 2s linear 0s infinite normal none running loader-circular-spinner;\n        display: block;\n        width: 48px;\n        height: 48px;\n      \"\n    >\n      <circle fill=\"transparent\" cx=\"50\" cy=\"50\" r=\"42\" stroke=\"rgba(0,0,0,0.1)\" stroke-width=\"10px\"></circle>\n      <circle\n        fill=\"transparent\"\n        stroke=\"#5548D9\"\n        cx=\"50\"\n        cy=\"50\"\n        r=\"42\"\n        stroke-width=\"10px\"\n        stroke-linecap=\"round\"\n        style=\"animation: 1.5s linear 0s infinite normal none running loader-circular-track\"\n      ></circle>\n    </svg>\n  </div>`\n    this.getRoot().appendChild(this.stylesheet)\n    this.getRoot().appendChild(this.loader)\n  }\n\n  update() {\n    this.loader.style.opacity = String(this.props.opacity)\n  }\n}\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-loader': any\n    }\n  }\n}\nFEAASLoader.register('feaas-loader')\n\nexport { FEAASLoader as Loader }\n", "import { DEFAULT_CDN_URL, FEAASCDNStylesheetParams, parseStylesheetSource } from '../cdn.js'\nimport { loadStylesheet } from '../dom/stylesheet.js'\nimport { FEAASElement } from './FEAASElement.js'\n\nexport function FEAASStylesheetProps(element: FEAASElement) {\n  const src = element.getAttribute('src')\n  if (src) {\n    var { cdn, library, revision } = parseStylesheetSource(src)\n  }\n  return {\n    library: element?.getContextAttribute('library'),\n    revision: element?.getAttribute('revision') ?? revision ?? 'published',\n    cdn: element?.getContextAttribute('cdn') ?? element?.getContextAttribute('hostname') ?? DEFAULT_CDN_URL\n  } as FEAASCDNStylesheetParams\n}\nexport type FEAASStylesheetProps = ReturnType<typeof FEAASStylesheetProps>\n\nexport class FEAASStylesheet extends FEAASElement<FEAASStylesheetProps, string> {\n  getProps() {\n    return FEAASStylesheetProps(this)\n  }\n\n  isReadyToLoad(): boolean {\n    return this.props.library != null && this.props.revision != null && this.props.cdn != null\n  }\n\n  onLoad = (html: string) => {\n    this.payload = html\n    this.advance()\n  }\n\n  load() {\n    return loadStylesheet(this.props, this.onLoad)\n  }\n}\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-stylesheet': Partial<FEAASStylesheetProps> & { children?: any }\n    }\n  }\n}\nFEAASStylesheet.register('feaas-stylesheet')\nexport { FEAASStylesheet as Stylesheet }\n", "import type { SDK, Style, VersionModel, ComponentModel, StylesheetModel } from '@sitecore-feaas/sdk'\nimport { fetchAndRevalidate } from '../fetch.js'\nimport { renderComponent } from './component.js'\n\nexport type Callback = (image: HTMLImageElement | null, isCached: boolean) => void\n\nexport const convertBase64toBlob = (base64: string) => fetch(base64).then((res) => res.blob())\n\n/** Parse fetch response as blob and turn it into HTMLImageElement off thread */\nexport const responseToImage = (response: Response): Promise<HTMLImageElement> =>\n  response.blob().then((blob) => {\n    return new Promise((resolve, reject) => {\n      const img = new Image()\n      img.onerror = reject\n      img.onload = () => {\n        resolve(img)\n      }\n      img.src = URL.createObjectURL(blob)\n    })\n  })\n\n/**\n * Retrieves the version of a given component that best fits a specific display width.\n *\n * The function ensures that the version data for the component is available and selects the one that is most suitable\n * for a display width of 800 pixels.\n *\n * @param {ComponentModel} component  - The component for which the version needs to be obtained.\n * @returns {Promise<VersionModel>} - A promise that resolves to the most suitable version for a display width of 800\n *                                  pixels.\n */\nexport async function getVersionForThumbnail(component: ComponentModel): Promise<VersionModel> {\n  if (!component.versions.length) await component.versions.fetch()\n  return component.getVersionForWidth(800)\n}\n\n/**\n * Ensures an up-to-date thumbnail for a specific component and version.\n *\n * This operation initiates thumbnail load and, if that fails or if file is out of date, a new thumbnail is generated.\n * It can work with a callback, which is designed to potentially fire twice for enhancing user experience. This dual\n * firing allows for an immediate display of a possibly stale cached image while downloading or generating new version\n * in the background.\n *\n * 1. The first call can happen with the stale cached or outdated image.\n * 2. The second call occurs with the up-to-date loaded or freshly generated generated image.\n *\n * @param {ComponentModel} component   - Relevant component.\n * @param {VersionModel}   [version]   - Relevant version (optional, falls back to responsive).\n * @param {Callback}       [callback]  - Callback to handle the loaded or generated image (optional).\n * @returns {Promise<HTMLImageElement | null>} - The final thumbnail image (either loaded or freshly generated).\n */\nexport async function get(component: ComponentModel, version?: VersionModel, callback?: Callback) {\n  try {\n    if (!component.isNew) {\n      return await load(component, version, callback)\n    }\n  } catch (e) {\n    component.sdk.log(\n      `FEAAS: Thumbnail ${component.id}, version: ${\n        version?.id || 'responsive'\n      }, status: generating ${status}, reason: ${e}`\n    )\n  }\n  // generate the image\n  const img = await generate(component, version)\n  callback?.(img, false)\n\n  // upload base64 image as blob off-thread\n  if (img && !component.isNew) {\n    convertBase64toBlob(img.src).then((blob) => upload(component, version, blob))\n  }\n  return img\n}\n\n/**\n * Retrieves the thumbnail image for a given component/version combination, with a responsive default if version is not\n * provided.\n *\n * The resulting HTML <img> element will have `width`, `height`, and `src` properties ready for use. Although it can\n * operate as a regular promise that resolves when the thumbnail is loaded, it also supports a callback for an enhanced\n * user experience. This callback may be invoked twice, depending on the state of the cache:\n *\n * 1. The first call occurs if the image was previously cached by the browser, but the cache is stale.\n * 2. The second call happens when the image is updated from a fresh download. By this design, the user gets to see a\n * cached image immediately while the updated image is being downloaded in the background.\n *\n * If the version of a component is known to be newer than remote file, the function will throw `InvalidResponse` error.\n * As a way to handle that error, the `generate` function may be used to produce new thumbnail (@see render).\n *\n * @param {ComponentModel} component   - The component to load a thumbnail for.\n * @param {VersionModel}   [version]   - The version of the component to load a thumbnail for. If not provided, a\n *                                     version suitable for a responsive component is selected.\n * @param {Callback}       [callback]  - A callback to handle the loaded image. This callback may be invoked twice for\n *                                     the reasons described above.\n * @returns {Promise<HTMLImageElement>} - The thumbnail image for the component/version combination.\n */\nexport async function load(\n  component: ComponentModel,\n  version?: VersionModel,\n  callback?: Callback\n): Promise<HTMLImageElement> {\n  const url = version ? version.getThumbnailURL() : component.getThumbnailURL()\n  const stylesheet = component.library.stylesheet\n  const lastModifiedDate = new Date(Math.max(Number(component.modifiedAt), Number(stylesheet.modifiedAt)))\n  component.sdk.log(`FEAAS: Thumbnail ${component.id}/${version?.id || 'responsive'}, loading`)\n  // Otherwise use a logic that will invoke callback for cached request and then try to revalidate it\n  var img: HTMLImageElement\n  await fetchAndRevalidate(\n    url,\n    {},\n    (response, isCached) => {\n      // <2 second difference is not considered outdated\n      // If thumbnail is detected as outdated it will throw error and promise will be rejected\n      const isUpToDate =\n        Math.abs(Number(new Date(response.headers.get('x-ms-meta-componentRenderedAt'))) - Number(lastModifiedDate)) <\n        2000\n\n      if (isCached && !isUpToDate) {\n        responseToImage(response).then((image) => {\n          img = image\n          callback(image, isCached)\n        })\n      }\n      return isUpToDate\n    },\n    (response, state, isCached) => {\n      component.sdk.log(`FEAAS: Thumbnail ${component.id}/${version?.id || 'responsive'}, status: ${state}`)\n      responseToImage(response).then((image) => {\n        img = image\n        callback(image, isCached)\n      })\n    },\n    null\n  )\n  return img\n}\n\n/**\n * Creates a thumbnail image for a given component and version.\n *\n * First, it determines the appropriate version to use. If not provided, it attempts to fetch one suitable for\n * thumbnail. It then leverages `render` to generate an image with provided parameters and finally, if the component\n * isn't new, uploads the generated as a Blob onto cdn for future retrieval.\n *\n * @param {ComponentModel} component  - Component instance.\n * @param {VersionModel}   [version]  - Version instance.\n * @returns {Promise<HTMLImageElement | null>} Thumbnail image or null if generation isn't possible.\n */\nexport async function generate(component: ComponentModel, version?: VersionModel, customStylesheet?: StylesheetModel) {\n  const sourceVersion = version || (component.isNew ? null : await getVersionForThumbnail(component))\n\n  if (!sourceVersion || sourceVersion.isViewEmpty()) {\n    return null\n  }\n  const stylesheet = customStylesheet || component.library.stylesheets.first\n\n  const { datasources } = component.sdk\n\n  const img = await render(\n    sourceVersion.classList,\n    stylesheet.getBreakpointForWidth(800, sourceVersion.getBreakpoints()),\n    sourceVersion.view,\n    datasources.reduce((object, datasource) => {\n      return Object.assign(object, { [datasource.id]: datasource.sample })\n    }, {}),\n    stylesheet.css,\n    component.sdk\n  )\n\n  return img\n}\n\n/**\n * Transforms a specific component version into an image.\n *\n * Generates an isolated environment (iframe) to render the component with supplied parameters. 'html2canvas.js' is then\n * injected into the iframe to capture the rendered component as an image. The image is created respecting the provided\n * design breakpoint, ensuring an accurate visual representation.\n *\n * @param {string[]}                 classList   - Array of class names applied to the rendered component.\n * @param {Style.Rule<'breakpoint'>} breakpoint  - Breakpoint style rule that dictates the viewport dimensions for\n *                                               rendering.\n * @param {string}                   template    - String template of the component to render.\n * @param {any}                      data        - Data object to be used when rendering the component.\n * @param {string}                   cssText     - CSS rules to be applied during component rendering.\n * @param {EnvironmentVariables}     env         - Environment variables used to set frontend and backend endpoint URLs.\n * @returns {Promise<BasicImage>} - Promise that resolves to an object containing the src, width, and height of the\n *                                created image.\n */\nfunction render(\n  classList: string[],\n  breakpoint: Style.Rule<'breakpoint'>,\n  template: string,\n  data: any,\n  cssText: string,\n  sdk: SDK\n) {\n  const iframe = document.createElement('iframe')\n  iframe.style.position = 'absolute'\n  iframe.style.top = '-2000px'\n  iframe.style.left = '-2000px'\n  iframe.style.width = breakpoint.props.minWidth + 'px'\n  iframe.style.height = '720px'\n  iframe.style.zIndex = '100011'\n  document.body.appendChild(iframe)\n\n  return new Promise<HTMLImageElement>((resolve, reject) => {\n    const script = document.createElement('script')\n    script.onerror = reject\n    script.src = sdk.frontend + '/assets/html2canvas.js'\n    script.onload = () => {\n      ;(iframe.contentWindow.document.fonts?.ready || Promise.resolve()).then(function () {\n        return (\n          iframe.contentWindow\n            //@ts-ignore\n            .html2canvas(root, {\n              // 1.1 scale is to remove shadows that are drawn incorrectly\n              scale: Math.max(1.1, 1000 / Math.min(1401, Math.max(320, breakpoint.props.minWidth))),\n              width: Math.min(1401, Math.max(320, breakpoint.props.minWidth)),\n              height: Math.max(1, Math.min(2000, root.offsetHeight)),\n              windowWidth: breakpoint.props.minWidth || breakpoint.props.maxWidth + 'px',\n              windowHeight: 1000,\n              proxy: sdk.backend + '/proxy/media',\n              backgroundColor: '#ffffff'\n            })\n            .then((canvas: HTMLCanvasElement) => {\n              const src = canvas.toDataURL('image/jpeg', 0.6)\n              iframe.parentElement.removeChild(iframe)\n              const img = new Image()\n              img.onload = () => {\n                resolve(img)\n              }\n              img.onerror = reject\n              img.src = src\n            })\n        )\n      })\n    }\n    iframe.contentWindow.document.head.appendChild(script)\n    const stylesheet = iframe.contentWindow.document.createElement('style')\n    stylesheet.textContent = `\n      ${cssText}\n      body, html { padding: 0; margin: 0; overflow: hidden }\n    `\n    const stylesheet2 = iframe.contentWindow.document.createElement('style')\n    stylesheet2.textContent = `\n      body, html { padding: 0; margin: 0; overflow: hidden }\n    `\n\n    iframe.contentWindow.document.head.appendChild(stylesheet)\n    iframe.contentWindow.document.head.appendChild(stylesheet2)\n    const root = renderComponent({ template, data })\n    root.classList.add(...classList, '-feaas--preview', '-emulate--' + breakpoint.details.slug)\n    iframe.contentWindow.document.body.appendChild(root)\n  })\n}\n\n/**\n * Uploads a thumbnail Blob to a CDN, enabling it for future retrieval.\n *\n * It constructs a URL based on component and version information, if available. The thumbnail's blob is uploaded with\n * several metadata points, including identifiers and timestamps. Upon successful upload, it sends a no-cache fetch\n * request to the constructed URL to bust the cache.\n *\n * @param {ComponentModel} component  - Component instance.\n * @param {VersionModel}   version    - Version instance.\n * @param {Blob}           blob       - Blob instance to upload.\n * @returns {Promise<string>} URL of the uploaded Blob.\n */\nexport async function upload(component: ComponentModel, version: VersionModel, blob: Blob): Promise<string> {\n  const url = version ? version.getThumbnailURL() : component.getThumbnailURL()\n  const lastModifiedDate = new Date(\n    Math.max(Number(component.modifiedAt), Number(component.library.stylesheet.modifiedAt))\n  )\n\n  try {\n    await component.sdk.uploadBlob('thumbnails', url.split(/\\/thumbnails\\//)[1], blob, {\n      headers: {\n        'x-ms-blob-content-type': 'image/jpg',\n        'x-ms-blob-cache-control': 'public,max-age=31536000,immutable',\n        'x-ms-meta-versionId': version ? version.id : null,\n        'x-ms-meta-versionRevision': version ? version.revision.toString() : null,\n        'x-ms-meta-componentId': component.id,\n        'x-ms-meta-componentRenderedAt': lastModifiedDate.toUTCString(),\n        'x-ms-meta-componentModifiedAt': component.modifiedAt.toUTCString(),\n        'x-ms-meta-componentCreatedAt': component.createdAt.toUTCString(),\n        'x-ms-meta-modifiedAt': component.modifiedAt.toUTCString()\n      }\n    })\n    // bust thumbnail cache for the future, off-thread\n    fetch(url, {\n      cache: 'no-cache'\n    }).then(() => {\n      component.sdk.log('FEAAS: Thumbnail uploaded', url)\n    })\n  } catch (e) {\n    component.sdk.log('FEAAS: Thumbnail failed to upload', url, e)\n  }\n\n  return url\n}\n", "/**\n * Simplified build of clientside that does not rely on any Frontend UI (like pickers). It refered from Frontend app to\n * avoid circular dependency. Regular clientside build entry point is in ui/index.ts\n */\n\nimport FEAASReactElement from './components/FEAASReactElement.js'\n\nexport * from './dom/rendering.js'\nexport * from './utils/data.js'\nexport * from './dom/scripts.js'\nexport * from './dom/stylesheet.js'\nexport * from './dom/component.js'\nexport * from './fetch.js'\nexport * from './utils/promise.js'\nexport * from './cdn.js'\nexport * from './components/FEAASElement.js'\nexport * from './components/FEAASReactElement.js'\nexport * from './components/FEAASComponent.js'\nexport * from './components/FEAASLoader.js'\nexport * from './components/FEAASStylesheet.js'\nexport * from './utils/datapath.js'\nexport * as DOM from './dom/rendering.js'\nexport * as DataScope from './utils/data.js'\nexport * as DataPath from './utils/datapath.js'\nexport { DataSettings, fetchData } from './utils/settings.js'\nexport type { Data, DataOptionsById, DataOptions, DataScopes } from './utils/settings.js'\nexport * as Thumbnail from './dom/thumbnail.js'\n\ndeclare global {\n  interface Window {\n    FEAASLoading: Promise<any>\n    FEAASReactElement: typeof FEAASReactElement\n  }\n}\n\nif (typeof window != 'undefined') {\n  window.FEAASReactElement = FEAASReactElement\n  window.FEAASLoading ??= Promise.resolve()\n}\nexport { registerDatasource, registerComponent, getComponent, customizeDataSettings } from '@sitecore/byoc'\n", "import type * as FEAASEditorImports from '@sitecore-feaas/frontend/editor'\nimport { FEAASElement, OptionalExcept } from '../components/FEAASElement.js'\nimport { FEAASLoader } from '../components/FEAASLoader.js'\n\nexport function getFramePosition(element: HTMLElement) {\n  let positions = []\n  if (element) {\n    let currentWindow = element.ownerDocument.defaultView as Window\n    let currentParentWindow\n    let rect\n    while (currentWindow !== window.top) {\n      currentParentWindow = currentWindow.parent\n      for (let idx = 0; idx < currentParentWindow.frames.length; idx++)\n        if (currentParentWindow.frames[idx] === currentWindow) {\n          for (let frameElement of currentParentWindow.document.getElementsByTagName('iframe')) {\n            if (frameElement.contentWindow === currentWindow) {\n              rect = frameElement.getBoundingClientRect()\n              const style = frameElement.contentWindow.getComputedStyle(frameElement)\n\n              positions.push({\n                left: rect.left + parseInt(style.borderLeftWidth),\n                top: rect.top + parseInt(style.borderTopWidth)\n              })\n            }\n          }\n          currentWindow = currentParentWindow as Window\n          break\n        }\n    }\n  }\n  return positions.reduce(\n    (accumulator, currentValue) => {\n      return {\n        left: accumulator.left + currentValue.left,\n        top: accumulator.top + currentValue.top\n      }\n    },\n    { left: 0, top: 0 }\n  )\n}\nexport function FEAASEditorProps(element: FEAASElement) {\n  return {\n    context: HTMLElement,\n    frontend: element?.getContextAttribute('frontend'),\n    src: element?.getAttribute('src') ?? '/editor.js',\n    library: element?.getAttribute('library'),\n    component: element?.getAttribute('component'),\n    version: element?.getAttribute('version'),\n    instance: element?.getAttribute('instance'),\n    forked: element?.getAttribute('forked'),\n    revision: element?.getAttribute('revision') || 'saved',\n    hidden: element?.getAttribute('hidden') != null,\n    for: element?.getAttribute('for'),\n    state: element?.getAttribute('state') || ('idle' as 'idle' | 'loading' | 'ready'),\n    changed: element?.getAttribute('changed') != null\n  }\n}\ntype FEAASEditorProps = ReturnType<typeof FEAASEditorProps>\ntype Rect = {\n  top: number\n  left: number\n  width: number\n  height: number\n}\n\nexport class FEAASEditor extends FEAASElement<FEAASEditorProps, typeof FEAASEditorImports> {\n  framePoint: Pick<Rect, 'top' | 'left'> = { top: 0, left: 0 }\n  wrapperRect: Rect = { top: 0, left: 0, width: 0, height: 0 }\n  bodyRect: Rect = { top: 0, left: 0, width: 0, height: 0 }\n\n  static observedAttributes = ['library', 'component', 'version', 'revision', 'hidden', 'state', 'changed', 'forked']\n\n  defaultProps = {\n    hidden: false\n  } as Partial<FEAASEditorProps>\n\n  getProps() {\n    return FEAASEditorProps(this)\n  }\n  reactRootElement: HTMLDivElement\n  getReactRootElement() {\n    if (!this.reactRootElement) {\n      this.reactRootElement = document.createElement('div')\n      this.getRoot().appendChild(this.reactRootElement)\n    }\n    return this.reactRootElement\n  }\n\n  target: HTMLElement\n  setTarget = (\n    element: HTMLElement,\n    props = {\n      component: element.getAttribute('component'),\n      version: element.getAttribute('version'),\n      revision: element.getAttribute('revision'),\n      instance: element.getAttribute('instance')\n    }\n  ) => {\n    if (!this.closing && (!this.target || element == null)) {\n      this.set(props)\n      this.target = element\n      return true\n    }\n  }\n\n  showLoader() {\n    if (!this.loader) {\n      this.loader = document.createElement('feaas-loader') as FEAASLoader\n      this.loader.setAttribute('opacity', '0.6')\n      this.loader.style.zIndex = '1000'\n      this.target.appendChild(this.loader)\n      if (this.target.tagName == 'FEAAS-COMPONENT') {\n        this.target.style.position = 'relative'\n      }\n    }\n  }\n\n  hideLoader() {\n    if (this.loader) {\n      this.loader.setAttribute('hidden', 'hidden')\n      if (this.target.tagName == 'FEAAS-COMPONENT') {\n        this.target.style.position = 'relative'\n        this.target.style.position = ''\n      }\n    }\n  }\n\n  load() {\n    return import(/* @vite-ignore */ /* webpackIgnore: true */ this.formatURL(this.props.src, this.props.frontend))\n  }\n\n  onChromeMeasureElement = (element: HTMLElement, rect: Rect = element.getBoundingClientRect()) => {\n    if (element.ownerDocument == document) {\n      return {\n        left: rect.left - this.bodyRect.left,\n        top: rect.top - this.bodyRect.top,\n        width: rect.width,\n        height: rect.height\n      }\n    }\n    return {\n      left: rect.left + this.framePoint.left - this.bodyRect.left,\n      top: rect.top + this.framePoint.top - this.bodyRect.top,\n      width: rect.width,\n      height: rect.height\n    }\n  }\n\n  onBeforeMeasure: FEAASEditorImports.EditorContext['onChromeBeforeMeasure'] = (refs) => {\n    if (refs.memoized.focusable) this.framePoint = getFramePosition(refs.memoized.focusable)\n    if (this.chrome) {\n      this.wrapperRect = this.chrome.positionable.getBoundingClientRect()\n      this.bodyRect = this.chrome.positionable.ownerDocument.body.parentElement.getBoundingClientRect()\n    }\n  }\n\n  onMeasure: FEAASEditorImports.EditorContext['onChromeMeasure'] = () => {}\n  onPosition: FEAASEditorImports.EditorContext['onChromePosition'] = ({ focusable, root }) => {\n    if (!this.chrome || this.props.hidden) return\n    if (focusable) {\n      const topbarHeight = 64\n      const padding = 16\n      this.chrome.wrapper.style.width = focusable.width + padding * 2 + 'px'\n      this.chrome.wrapper.style.height = focusable.height + padding * 1 + topbarHeight + 'px'\n      this.chrome.wrapper.style.left = focusable.left - padding + 'px'\n      this.chrome.wrapper.style.top = focusable.top - topbarHeight + 'px'\n      this.chrome.wrapper.style.opacity = '1'\n      this.chrome.absolute = this.querySelector('.ui.overlays')\n      if (this.chrome.absolute) {\n        this.chrome.absolute.style.left = root.left + 'px'\n        this.chrome.absolute.style.top = root.top + 'px'\n      }\n    } else {\n      this.chrome.wrapper.style.opacity = '0'\n      this.chrome.wrapper.style.left = '-1000px'\n      this.chrome.wrapper.style.top = '-1000px'\n      // wrapper.style.left = '-1000px'\n      // wrapper.style.top = '-1000px'\n    }\n\n    //    this.setPlaceholder()\n  }\n\n  onWindowMessage = (event: MessageEvent) => {\n    switch (event.data?.type) {\n      case 'feaasEdit':\n        const placeholder = this.getPlaceholder()\n        if (this.setTarget(placeholder.editable, event.data)) {\n          this.loader = placeholder.loader\n          document.body.appendChild(placeholder.clipper)\n          this.editedUID = event.data.id\n          this.setPlaceholder()\n          this.open()\n        }\n        break\n      case 'feaasMeasurements':\n        this.measurements = event.data.measurements\n        if (!this.props.hidden) this.setPlaceholder()\n        break\n    }\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n\n    window.addEventListener('message', this.onWindowMessage)\n  }\n\n  disconnectedCallback(): void {\n    super.disconnectedCallback()\n\n    window.removeEventListener('message', this.onWindowMessage)\n  }\n\n  onContentChange = () => {\n    this.setAttribute('changed', 'changed')\n    requestAnimationFrame(() => {\n      this.setIframeComponentContent()\n    })\n  }\n\n  iframe: HTMLIFrameElement\n  setIframe(iframe: HTMLIFrameElement) {\n    this.iframe = iframe\n  }\n\n  setIframeComponentContent() {\n    if (this.placeholder && this.iframe && this.placeholder.editable.innerHTML)\n      this.iframe.contentWindow.postMessage({\n        type: 'feaasUpdate',\n        id: this.editedUID,\n        content: this.placeholder.editable.innerHTML\n      })\n  }\n\n  setPlaceholder() {\n    if (!this.iframe) return\n    const x = this.iframe.clientWidth\n    const y = this.iframe.clientHeight\n    const rect = this.iframe.getBoundingClientRect()\n    const placeholder = this.getPlaceholder()\n    const body = document.body.getBoundingClientRect()\n    const measurement = this.measurements[this.editedUID]\n    if (!measurement) return\n    Object.assign(placeholder.clipper.style, {\n      position: 'absolute',\n      top: rect.top + this.iframe.clientTop - body.top + 'px',\n      left: rect.left + this.iframe.clientLeft - body.left + 'px',\n      width: x + 'px',\n      height: y + 'px',\n      pointerEvents: 'none',\n      zIndex: 1,\n      overflow: 'hidden'\n    })\n    Object.assign(placeholder.positionable.style, {\n      position: 'absolute',\n      top: measurement.top + 'px',\n      left: measurement.left + 'px',\n      width: measurement.width + 'px',\n      zIndex: 2,\n      transition: 'opacity 0.4s',\n      //height: measurement.height + 'px',\n      pointerEvents: this.props.hidden ? 'none' : 'all'\n      //outline: '3px solid orange'\n    })\n    Object.assign(placeholder.loader.style, {\n      position: 'absolute',\n      top: measurement.top + 'px',\n      left: measurement.left + 'px',\n      width: measurement.width + 'px',\n      height: measurement.height + 'px',\n      filter: 'opacity(0.6)',\n      zIndex: 3,\n      pointerEvents: 'none'\n      //outline: '3px solid orange'\n    })\n    document.dispatchEvent(new Event('feaasRefresh', { bubbles: true }))\n  }\n\n  chrome: {\n    positionable: HTMLDivElement\n    absolute: HTMLDivElement\n    wrapper: HTMLDivElement\n  }\n\n  measurements: Record<string, DOMRect>\n  editedUID: string\n  placeholder: {\n    clipper: HTMLDivElement\n    positionable: HTMLDivElement\n    editable: HTMLDivElement\n    loader: FEAASLoader\n  }\n  loader: FEAASLoader\n  getPlaceholder() {\n    if (this.placeholder) return this.placeholder\n    this.placeholder = {\n      clipper: document.createElement('div'),\n      positionable: document.createElement('div'),\n      editable: Object.assign(document.createElement('div'), { className: '-feaas' }),\n      loader: document.createElement('feaas-loader') as FEAASLoader\n    }\n    this.placeholder.clipper.appendChild(this.placeholder.positionable)\n    this.placeholder.positionable.appendChild(this.placeholder.editable)\n    this.placeholder.clipper.appendChild(this.placeholder.loader)\n    return this.placeholder\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    if (oldValue === newValue) return\n    if (name == 'hidden') {\n      this.style.setProperty('display', 'block', 'important')\n      this.style.setProperty('transition', 'opacity 0.3s', 'important')\n      if (newValue) {\n        this.style.setProperty('opacity', '0', 'important')\n        this.style.pointerEvents = 'none'\n      } else {\n        this.style.setProperty('opacity', '1', 'important')\n        this.style.pointerEvents = 'all'\n      }\n    }\n    super.attributeChangedCallback(name, oldValue, newValue)\n  }\n\n  open() {\n    clearTimeout(this.closing)\n    this.removeAttribute('hidden')\n    this.removeAttribute('changed')\n    this.setLoadingState()\n  }\n\n  shouldFork(version: FEAASEditorImports.Model.VersionModel) {\n    return version.forkOriginId == null && this.props.instance != null\n  }\n\n  cleanup() {\n    if (this.placeholder) {\n      this.placeholder.clipper?.remove()\n      this.placeholder = null\n    }\n  }\n  onClose = () => {\n    this.setAttribute('hidden', 'hidden')\n    if (this.placeholder) {\n      this.placeholder.positionable.style.opacity = '0'\n      this.placeholder.positionable.style.pointerEvents = 'none'\n    }\n    if (this.chrome) {\n      this.chrome.wrapper.style.opacity = '0'\n    }\n    // FIXME: Workaround for CKEditor not removing event listeners properly\n    // Reported: https://github.com/ckeditor/ckeditor5/issues/13141\n    // Have to recreate the whole component\n    if (this.target?.parentNode) {\n      this.target.outerHTML = this.target.outerHTML\n    }\n    this.setTarget(null, {\n      component: null,\n      version: null,\n      instance: null,\n      revision: null\n    })\n    this.setEditorContext({\n      isFocused: false\n    })\n  }\n  close() {\n    console.log('Editor is not ready')\n  }\n  unfork() {\n    console.log('Editor is not ready')\n  }\n  discard() {\n    console.log('Editor is not ready')\n  }\n  save() {\n    console.log('Editor is not ready')\n  }\n  versionContext: FEAASEditorImports.VersionContext\n  setVersionContext(props: Partial<FEAASEditorImports.VersionContext>) {\n    console.log('Editor is not ready')\n  }\n  onVersionStateChange = (\n    versionContext: FEAASEditorImports.VersionContext,\n    setVersionContext: (context: Partial<FEAASEditorImports.VersionContext>) => void\n  ) => {\n    this.versionContext = versionContext\n    this.setVersionContext = setVersionContext\n  }\n\n  editorContext: FEAASEditorImports.EditorContext\n  setEditorContext(props: Partial<FEAASEditorImports.EditorContext>) {\n    console.log('Editor is not ready')\n  }\n  onEditorStateChange = (\n    editorContext: FEAASEditorImports.EditorContext,\n    setEditorContext: (context: Partial<FEAASEditorImports.EditorContext>) => void\n  ) => {\n    this.editorContext = editorContext\n    this.setEditorContext = setEditorContext\n    // On editor loaded\n    if (editorContext.editor && this.props.state == 'loading' && !this.props.hidden) {\n      this.setAttribute('state', 'ready')\n      this.ownerDocument.fonts.ready.then(() =>\n        setTimeout(() => {\n          this.setReadyState()\n          this.setIframeComponentContent()\n        }, 100)\n      )\n    }\n  }\n\n  setLoadingState() {\n    this.showLoader()\n    this.setAttribute('state', 'loading')\n  }\n\n  setReadyState() {\n    this.hideLoader()\n    this.setEditorContext({\n      activeVersionId: this.component.versions[0].id\n    })\n    this.setAttribute('state', 'ready')\n  }\n\n  component: FEAASEditorImports.Model.ComponentModel\n  version: FEAASEditorImports.Model.VersionModel\n  closing: ReturnType<typeof setTimeout>\n\n  render(\n    {\n      children,\n      component: componentId,\n      version: versionId,\n      instance: instanceId\n    }: React.PropsWithChildren<FEAASEditorProps>,\n    {\n      Editor,\n      VersionStatusList,\n      VersionStatusButton,\n      Version,\n      VersionMenu,\n      EditorUIUndo,\n      EditorUIMode,\n      React: { useEffect, useMemo, useState, useContext },\n      Chakra: { HStack, Box, Button, MenuItem },\n      Chrome,\n      ReactDOM,\n      useSDK,\n      useLibrary,\n      useSlots,\n      useModelObserver,\n      ConfirmationContext,\n      VersionContext\n    }: typeof FEAASEditorImports\n  ) {\n    if (!this.payload) return\n    const { React } = this.payload\n    const sdk = useSDK()\n    const library = useLibrary()\n    const [component, setComponent] = useState<FEAASEditorImports.Model.ComponentModel>()\n    const { setConfirm } = useContext(ConfirmationContext)\n    const usedId = instanceId || versionId\n\n    if (component) this.component = component\n\n    useEffect(() => {\n      if (this.props.hidden) return\n      const comp = library.components.getItem(componentId).clone()\n      comp.versions\n        .search({ ids: [versionId, instanceId].filter(Boolean), componentIds: [componentId] })\n        .then((versions) => {\n          comp.versions.setItems(versions)\n          const fork = comp.findVersion(instanceId, ['staged', 'published'])\n          const original = comp.findVersion(versionId, ['staged', 'published'])\n          if (fork) {\n            if (fork.deletedAt) {\n              // Get unforked version up to date\n              fork.getDraft().changeAndNotify(original.toProperties()).restore() //.publish()\n              console.error('FEAAS Editor: Restoring fork')\n            } else {\n              console.error('FEAAS Editor: Pre-forked')\n              this.setAttribute('forked', fork.id)\n            }\n          } else {\n            this.removeAttribute('forked')\n            if (this.shouldFork(original)) {\n              console.error('FEAAS Editor: Forking')\n              const newForkId = original.fork(instanceId).id\n              this.setAttribute('instance', newForkId)\n            } else {\n              console.error('FEAAS Editor: Regular')\n            }\n          }\n          setComponent(comp)\n        })\n      return () => {\n        this.closing = setTimeout(() => {\n          this.closing = null\n          this.cleanup()\n          setComponent(null)\n        }, 400)\n      }\n    }, [versionId, this.props.hidden])\n\n    const versions = useModelObserver(component?.versions, []).filter((v) => v.id == usedId)\n    const version = versions[0]\n    if (version && !this.props.hidden) this.version = version\n\n    useEffect(() => {\n      this.unfork = () => {\n        setConfirm({\n          title: 'Reverting component customizations',\n          button: 'Discard',\n          body: 'Are you sure to reset component to its original state? All changes will be lost.',\n          action: () => {\n            const original = component.findVersion(versionId, ['staged', 'published'])\n            component.findVersion(instanceId).unstage().unpublish().changeAndNotify(original.toProperties())\n            component.saveVersions(false)\n            this.setVersionContext({\n              needsWrite: true\n            })\n            this.removeAttribute('forked')\n            requestAnimationFrame(this.onClose)\n          }\n        })\n      }\n      this.discard = () => {\n        if (this.props.changed) {\n          component.findVersion(usedId).revert()\n          component.saveVersions(false)\n          this.setVersionContext({\n            needsWrite: true\n          })\n        }\n      }\n      this.close = () => {\n        setConfirm({\n          title: 'Component has unsaved changes',\n          button: 'Discard',\n          body: 'Are you sure to close editor and discard changes?',\n          bypass: !this.props.changed,\n          action: () => {\n            this.discard()\n            requestAnimationFrame(this.onClose)\n          }\n        })\n      }\n      this.save = () => {\n        setConfirm({\n          bypass: !!this.props.forked,\n          title: 'Customizing component',\n          button: 'Save',\n          body: 'Changes to the component will only be visible on that page. Changes to component done in Component Builder will not be reflected here. It will be possible to revert the customization.',\n          action: () => {\n            component\n              .findVersion(usedId)\n              .commitData({\n                view: this.editorContext.editor.getData({ rootName: usedId }),\n                model: ''\n              })\n              ?.stage()\n              ?.publish()\n            this.removeAttribute('changed')\n            this.setAttribute('forked', usedId)\n            component.saveVersions(false)\n          }\n        })\n      }\n      return () => {\n        delete this.unfork\n        delete this.discard\n        delete this.save\n        delete this.editorContext\n        delete this.versionContext\n        delete this.setEditorContext\n        delete this.setVersionContext\n      }\n    }, [component])\n\n    const target = useMemo(() => {\n      return this.target\n    }, [component])\n    return useMemo(\n      () =>\n        component &&\n        useSlots<any, 'picker' | 'children'>(children, ({ picker, children }) => (\n          <Box\n            ref={(el) => {\n              this.chrome = el\n                ? {\n                    positionable: el,\n                    wrapper: el.querySelector('.editor-chrome'),\n                    absolute: this.querySelector('.ui.overlays')\n                  }\n                : null\n            }}\n          >\n            <Box className='editor-wrapper' position='absolute' left={0} top={0}>\n              <Editor\n                datasources={sdk.datasources}\n                sdk={sdk}\n                library={library}\n                component={component}\n                versions={versions}\n                context={{\n                  isAutosaveEnabled: false,\n                  onChromeMeasure: this.onMeasure,\n                  onChromeBeforeMeasure: this.onBeforeMeasure,\n                  onChromeMeasureElement: this.onChromeMeasureElement,\n                  onChromePosition: this.onPosition,\n                  onContentChange: this.onContentChange\n                }}\n              >\n                {{\n                  exports: this.onEditorStateChange,\n                  after: children,\n                  chrome: ({ editor }) => editor && <Chrome />,\n                  children: ({ isArchivedDisplayed, editor, status }) => (\n                    <Box\n                      position='absolute'\n                      left={0}\n                      top={0}\n                      className='editor-chrome'\n                      p={4}\n                      boxShadow={'2xl'}\n                      pointerEvents='none'\n                      opacity={0}\n                      transition='opacity 0.3s'\n                    >\n                      <Box\n                        left={0}\n                        width='4'\n                        top={0}\n                        bottom={0}\n                        backdropFilter='blur(2px)'\n                        background='rgb(244 244 244 / 80%)'\n                        position='absolute'\n                      ></Box>\n                      <Box\n                        right={0}\n                        width='4'\n                        top={0}\n                        bottom={0}\n                        backdropFilter='blur(2px)'\n                        background='rgb(244 244 244 / 80%)'\n                        position='absolute'\n                      ></Box>\n                      <Box\n                        top={0}\n                        height='16'\n                        left={0}\n                        right={0}\n                        backdropFilter='blur(2px)'\n                        background='rgb(244 244 244 / 80%)'\n                        position='absolute'\n                      ></Box>\n                      <Box\n                        bottom={0}\n                        height='4'\n                        left={0}\n                        right={0}\n                        backdropFilter='blur(2px)'\n                        background='rgb(244 244 244 / 80%)'\n                        position='absolute'\n                      ></Box>\n                      {version && (\n                        <Version\n                          version={version}\n                          node={target}\n                          ignoreBreakpoints={true}\n                          deps={[this.props.forked, this.props.changed]}\n                        >\n                          {{\n                            exports: this.onVersionStateChange,\n                            left: (\n                              <HStack justifyContent='space-between'>\n                                <EditorUIUndo size='sm' editor={status == 'ready' ? editor : null} />\n                                <EditorUIMode size='sm' />\n                              </HStack>\n                            ),\n                            middle: (versionContext, setVersionContext) => [\n                              false && (\n                                <VersionContext.Provider\n                                  value={[\n                                    {\n                                      ...versionContext,\n                                      version: component.findVersion(versionId)\n                                    },\n                                    setVersionContext\n                                  ]}\n                                >\n                                  <VersionStatusList></VersionStatusList>\n                                </VersionContext.Provider>\n                              )\n                            ],\n                            right: (\n                              <>\n                                <Button variant='secondary' size='sm' onClick={this.close}>\n                                  Close\n                                </Button>\n                                <Button\n                                  variant='primary'\n                                  size='sm'\n                                  onClick={this.save}\n                                  isDisabled={!this.props.changed}\n                                >\n                                  {!this.props.changed\n                                    ? 'Up to date'\n                                    : this.props.forked\n                                    ? 'Save'\n                                    : 'Save customization'}\n                                </Button>\n                                <VersionMenu isDisabled={!this.props.forked && !this.props.changed}>\n                                  <MenuItem onClick={this.unfork} isDisabled={!this.props.forked}>\n                                    Unfork\n                                  </MenuItem>\n                                  <MenuItem onClick={this.discard} isDisabled={!this.props.changed}>\n                                    Discard\n                                  </MenuItem>\n                                </VersionMenu>\n                              </>\n                            )\n                          }}\n                        </Version>\n                      )}\n                    </Box>\n                  )\n                }}\n              </Editor>\n            </Box>\n          </Box>\n        )),\n      [version, this.props.forked, this.props.changed]\n    )\n  }\n\n  isReadyToLoad(): boolean {\n    return this.props.component != null && this.props.version != null && !this.props.hidden\n  }\n}\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-editor': OptionalExcept<FEAASEditorProps, 'component' | 'version'>\n    }\n  }\n}\nFEAASEditor.register('feaas-editor')\n", "import type * as FEAASPickerImports from '@sitecore-feaas/frontend/picker'\nimport { FEAASElement } from '../components/FEAASElement.js'\n\nexport function FEAASPickerProps(element: FEAASElement<any, any>) {\n  return {\n    part: element?.getAttribute('part') || 'picker',\n    slot: element?.getAttribute('part') || 'picker',\n    mode: element?.getAttribute('mode') as FEAASPickerImports.PickerProps['mode'],\n    dialog: element?.getAttribute('dialog') as FEAASPickerImports.PickerProps['dialog'],\n    placeholder: element?.getAttribute('placeholder') || 'No theme',\n    frontend: element?.getContextAttribute('frontend') ?? 'https://components.sitecorecloud.io',\n    src: element?.getAttribute('src') ?? '/picker.js',\n    hidden: element?.getAttribute('hidden') != null,\n    variant: element?.getAttribute('variant') as 'internal' | 'pages',\n    context: undefined as FEAASPickerImports.PickerProps['context'],\n    onClose: undefined as (...args: any[]) => void,\n    setAttribute: undefined as FEAASPickerImports.AttributeSetter,\n    getAttribute: undefined as FEAASPickerImports.AttributeGetter\n  }\n}\nexport type FEAASPickerProps = ReturnType<typeof FEAASPickerProps>\n\nexport class FEAASPicker extends FEAASElement<FEAASPickerProps, typeof FEAASPickerImports> {\n  static observedAttributes = ['library', 'mode', 'frontend', 'src', 'hidden', 'variant', 'dialog']\n\n  defaultProps = {\n    hidden: false\n  } as Partial<FEAASPickerProps>\n\n  getProps() {\n    return FEAASPickerProps(this)\n  }\n\n  load() {\n    return this.import(this.formatURL(this.props.src, this.props.frontend))\n  }\n  connectedCallback() {\n    this.setAttribute('feaas-role', 'ui')\n    super.connectedCallback()\n  }\n  render(\n    { placeholder, context, mode, dialog, children, variant }: React.PropsWithChildren<FEAASPickerProps>,\n    { Picker, React, useContext, EnvironmentContext, useLibrary, useSDK, BYOC }: typeof FEAASPickerImports\n  ) {\n    const [renders, forceRender] = React.useReducer((c) => c + 1, 0)\n    const sdk = useSDK()\n    const env = useContext(EnvironmentContext)\n    const collections = useLibrary('collections')\n    const components = useLibrary('components')\n    const datasources = useSDK('datasources')\n    const library = useLibrary()\n    // @ts-ignore temporary workaround until we release all environments\n    const rules = library?.stylesheets?.first?.rules || library?.stylesheet?.styles\n    const expandedComponents = useSDK('renderingHost.expandedComponents')\n    var settings = context?.getAttribute('data')\n    if (settings) {\n      try {\n        settings = JSON.parse(settings)\n      } catch (e) {}\n    }\n    if (context) {\n      var embedDefinition = sdk.ExternalComponent.getDefinition(context)\n      var isUnconfigured = embedDefinition && !embedDefinition.getConfiguration(context)\n      var externalComponent =\n        embedDefinition?.type == 'feaas'\n          ? components.find((c) => c.id == context.getAttribute('component'))\n          : BYOC?.getComponent(String(context.getAttribute('data-external-id')))\n    }\n    return (\n      <Picker\n        cdn={env.cdn}\n        rules={rules}\n        collections={collections}\n        themeContext={context}\n        placeholder={placeholder}\n        embed={externalComponent}\n        externalComponents={expandedComponents}\n        datasources={datasources}\n        data={settings}\n        versionId={context?.getAttribute('version')}\n        mode={mode || (isUnconfigured ? 'library' : externalComponent ? 'context' : null)}\n        setAttribute={(context, attribute, value) => {\n          if (attribute == 'data' && value) value = JSON.stringify(value)\n          this.props.setAttribute(context, attribute, value)\n          forceRender()\n        }}\n        getAttribute={(c, property) => context?.getAttribute(property)}\n        dialog={dialog}\n        context={context}\n        variant={variant}\n        onModeChange={(mode, dialog) => {\n          this.set({ mode, dialog })\n        }}\n      >\n        {children}\n      </Picker>\n    )\n  }\n}\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-picker': Partial<typeof FEAASPickerImports>\n    }\n  }\n}\n\nexport { FEAASPicker as Picker }\nFEAASPicker.register('feaas-picker')\n", "import type * as FEAASContextImports from '@sitecore-feaas/frontend/context'\nimport type { AuthModel } from '@sitecore-feaas/sdk'\nimport { FEAASElement, OptionalExcept } from '../components/FEAASElement.js'\nimport { ControlledPromise } from '../utils/promise.js'\nimport type * as FEAAS from './index.js'\n\nexport function FEAASContextProps(element: HTMLElement) {\n  return {\n    library: element?.getAttribute('library') as string,\n    src: element?.getAttribute('src') ?? '/context.js',\n    // override environment\n    environment: element?.getAttribute('environment') ?? undefined,\n    frontend: element?.getAttribute('frontend') ?? 'https://components.sitecorecloud.io',\n    backend: element?.getAttribute('backend') ?? 'https://components.sitecorecloud.io/api',\n    cdn: element?.getAttribute('cdn') ?? 'https://feaas.blob.core.windows.net',\n    auth: null as Partial<AuthModel>,\n    isolate: element?.getAttribute('isolate') == null || element?.getAttribute('isolate') == 'true'\n  }\n}\nexport type FEAASContextProps = ReturnType<typeof FEAASContextProps>\n\n/**\n * Context provides shared parameters and react providers for its nested elements. It loads lazily once any of its\n * nested components load. Just placing it on the page without any consumers does not impose any overhead.\n */\nexport class FEAASContext extends FEAASElement<FEAASContextProps, typeof FEAASContextImports> {\n  static observedAttributes = ['library', 'component', 'version', 'revision', 'hostname', 'template']\n  getProps() {\n    return FEAASContextProps(this)\n  }\n\n  defaultProps = {\n    isolate: true\n  } as Partial<FEAASContextProps>\n\n  load() {\n    return this.import(this.formatURL(this.props.src, this.props.frontend))\n  }\n\n  isReadyToLoad() {\n    return super.isReadyToLoad() && this.props.library != null\n  }\n\n  // Remove global styles\n  getTheme(theme: FEAASContextImports.Chakra.Theme): FEAASContextImports.Chakra.Theme {\n    return theme\n  }\n\n  getRoot(): HTMLElement | FEAASElement<any, any> | ShadowRoot {\n    if (this.getAttribute('isolate') === 'false') return this\n    return this.shadowRoot || this.attachShadow({ mode: 'open' })\n  }\n\n  reactRootElement: HTMLDivElement\n  getReactRootElement() {\n    //if (!this.props.isolate) return this.getRoot()\n    if (!this.reactRootElement) {\n      this.reactRootElement = document.createElement('div')\n      this.getRoot().appendChild(this.reactRootElement)\n    }\n    return this.reactRootElement\n  }\n\n  /** Pull in children FEAAS react elements into the shadow DOM so they receieve the styles */\n  connectedCallback() {\n    this.setAttribute('feaas-role', 'ui')\n    //if (this.props.isolate)\n    Array.from(this.children).forEach((child) => {\n      this.getRoot().appendChild(child)\n    })\n    document.addEventListener('feaasMount', this)\n    document.addEventListener('feaasUnmount', this)\n    super.connectedCallback()\n  }\n  disconnectedCallback() {\n    document.removeEventListener('feaasMount', this)\n    document.removeEventListener('feaasUnmount', this)\n    super.disconnectedCallback()\n  }\n\n  sdk: FEAASContextImports.SDK\n  clientside: typeof FEAAS\n  onStatusChange: FEAASContextImports.SDKStatusCallback = (status, sdk) => {\n    if (status == 'ready') {\n      this.whenSDKReady.resolve(sdk)\n      this.dispatchEvent(new CustomEvent('feaasReady', { bubbles: true, composed: true, detail: sdk }))\n    }\n  }\n  whenSDKReady = ControlledPromise<FEAASContextImports.SDK>((sdk) => {\n    this.sdk = sdk\n  })\n\n  getPortalRoot() {\n    return this.getRoot()\n  }\n\n  render(\n    { children, library }: React.PropsWithChildren<FEAASContextProps>,\n    { AppContext, Chakra: { Button, Tooltip }, React }: typeof this.payload\n  ) {\n    const portalProps = {\n      containerRef: { current: this.getPortalRoot() as HTMLElement }\n    }\n    Tooltip.defaultProps = {\n      hasArrow: true,\n      placement: 'top',\n      portalProps\n    }\n    return (\n      <AppContext\n        environment={this.props.environment as any}\n        backend={this.props.backend}\n        libraryId={this.props.library}\n        container={this.getRoot()}\n        auth={this.props.auth}\n        getTheme={this.getTheme}\n        onStatusChange={this.onStatusChange}\n        modalProps={{\n          portalProps\n        }}\n        chakraProps={{\n          resetScope: ':where([feaas-role=\"ui\"])',\n          cssVarsRoot: ':host',\n          resetCSS: true,\n          toastOptions: {\n            portalProps\n          }\n        }}\n      >\n        {children}\n      </AppContext>\n    )\n  }\n}\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      'feaas-context': OptionalExcept<FEAASContextProps, 'library'>\n    }\n  }\n  interface DocumentEventMap {\n    feaasReady: CustomEvent<FEAASContextImports.SDK>\n  }\n}\n\nexport { FEAASContext as Context }\nFEAASContext.register('feaas-context')\n", "export * from './FEAAS.js'\nimport * as FEAAS from './FEAAS.js'\n\nFEAAS.Context.prototype.clientside = FEAAS\n", "import * as BYOC from '@sitecore/byoc'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { FEAASElement } from '../components/FEAASElement.js'\nimport { ReactJSX, ReactModules } from '../components/FEAASReactElement.js'\nimport { Component, FEAASComponentProps } from './react.js'\n\nexport const FEAASExternalPropsObject = BYOC.getMergedComponentProperties\n\nexport function FEAASExternalProps(element: FEAASElement): FEAASExternalProps {\n  const props = BYOC.objectKeysToCamelCase(\n    Array.from(element.attributes).reduce((prev, { name, value }) => {\n      if (name == 'data-external-id') name = 'component-name'\n      return Object.assign(prev, { [name]: value })\n    }, {} as any)\n  ) as FEAASExternalProps\n  return FEAASExternalPropsObject(props).merged\n}\n\nexport type FEAASExternalProps = { componentName: string; [key: string]: any }\n\nexport default class FEAASExternal extends FEAASElement<FEAASExternalProps, ReactModules> {\n  load() {\n    return Promise.resolve({ React, ReactDOM })\n  }\n\n  // observe all arttribute changes\n  _setAttribute: typeof HTMLElement.prototype.setAttribute\n  connectedCallback() {\n    if (!this._setAttribute) {\n      this._setAttribute = this.setAttribute\n      this.setAttribute = function (name, value) {\n        const old = this.getAttribute(value)\n        this._setAttribute(name, value)\n        this.attributeChangedCallback(name, old, value)\n      }\n    }\n    super.connectedCallback()\n  }\n\n  update() {\n    const Component = BYOC.getComponent(this.getComponentName())?.component\n    if (!Component && this.getAttribute('hydrate') == 'false') return\n    return super.update()\n  }\n\n  render(props: FEAASExternalProps, { React }: ReactModules): ReactJSX {\n    const Component = BYOC.getComponent(this.getComponentName())?.component as any\n    if (!Component) {\n      console.warn(`FEAASExternal: \\`${this.getComponentName()}\\` is not registered`)\n    }\n    return <>{Component && <Component componentName={this.getComponentName()} {...props} />}</>\n  }\n\n  getComponentName() {\n    return this.getAttribute('data-external-id')\n  }\n\n  getProps() {\n    return FEAASExternalProps(this)\n  }\n\n  static Preview(props: Partial<FEAASComponentProps<any>> & { src: string }) {\n    const src =\n      props?.src || (typeof window !== 'undefined' ? window.location.search.match(/feaasSrc=([^&]+)/)?.[1] : null)\n    return src ? <Component src={src} {...props} /> : null\n  }\n\n  static linkComponents(components: Promise<any>[]): () => any {\n    return () => components.map((components) => null)\n  }\n\n  static registered: BYOC.RegisteredComponents = BYOC.registered\n  static registerComponent = BYOC.registerComponent\n  static setRegistrationCallback = BYOC.setRegistrationCallback\n  static getComponent = BYOC.getComponent\n}\n\nFEAASExternal.register('feaas-external')\n\nexport const { linkComponents } = FEAASExternal\nexport { FEAASExternal as External }\n", "import { FEaaSComponent } from './FEaaSComponent';\nimport React from 'react';\nexport const FEAAS_WRAPPER_RENDERING_NAME = 'FEaaSWrapper';\nexport const FEaaSWrapper = (props) => {\n    var _a, _b;\n    const styles = `component feaas ${(_a = props.params) === null || _a === void 0 ? void 0 : _a.styles}`.trimEnd();\n    const id = (_b = props.params) === null || _b === void 0 ? void 0 : _b.RenderingIdentifier;\n    return (React.createElement(\"div\", { className: styles, id: id ? id : undefined },\n        React.createElement(\"div\", { className: \"component-content\" },\n            React.createElement(FEaaSComponent, Object.assign({}, props)))));\n};\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport React from 'react';\nimport { getDataFromFields } from '../utils';\nimport { MissingComponent } from './MissingComponent';\nimport * as FEAAS from '@sitecore-feaas/clientside/react';\nexport const BYOC_COMPONENT_RENDERING_NAME = 'BYOCComponent';\nconst DefaultErrorComponent = (props) => {\n    var _a;\n    return (React.createElement(\"div\", null,\n        \"A rendering error occurred: \", (_a = props.error) === null || _a === void 0 ? void 0 :\n        _a.message,\n        \".\"));\n};\n/**\n * BYOCComponent facilitate the rendering of external components. It manages potential errors,\n * missing components, and customization of error messages or alternative rendering components.\n * @param {ByocComponentProps} props component props\n * @returns dynamicly rendered component or Missing Component error frame\n */\nexport class BYOCComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n    static getDerivedStateFromError(error) {\n        // Update state so the next render will show the fallback UI.\n        return { error: error };\n    }\n    componentDidCatch(error) {\n        this.setState({ error });\n    }\n    render() {\n        var _a, _b, _c;\n        const props = this.props;\n        if (this.state.error) {\n            return this.props.errorComponent ? (React.createElement(this.props.errorComponent, { error: this.state.error })) : (React.createElement(DefaultErrorComponent, { error: this.state.error }));\n        }\n        const { ComponentName: componentName } = props.params || {};\n        if (!componentName) {\n            const noNameProps = {\n                errorOverride: 'BYOC: The ComponentName for this rendering is missing',\n            };\n            return props.missingComponentComponent ? (React.createElement(this.props.missingComponentComponent, Object.assign({}, noNameProps))) : (React.createElement(MissingComponent, Object.assign({}, noNameProps)));\n        }\n        const unRegisteredComponentProps = {\n            rendering: {\n                componentName: componentName,\n            },\n            errorOverride: 'BYOC: This component was not registered.',\n        };\n        const fallbackComponent = this.props.missingComponentComponent ? (React.createElement(this.props.missingComponentComponent, Object.assign({}, unRegisteredComponentProps))) : (React.createElement(MissingComponent, Object.assign({}, unRegisteredComponentProps)));\n        const ErrorComponent = this.props.errorComponent;\n        let componentProps = {};\n        if ((_a = props.params) === null || _a === void 0 ? void 0 : _a.ComponentProps) {\n            try {\n                componentProps = (_b = JSON.parse(props.params.ComponentProps)) !== null && _b !== void 0 ? _b : {};\n            }\n            catch (e) {\n                console.error(`Parsing props for ${componentName} component from rendering params failed. Error: ${e}`);\n                return ErrorComponent ? (React.createElement(ErrorComponent, { error: e })) : (React.createElement(DefaultErrorComponent, { error: e }));\n            }\n        }\n        // apply props from item datasource\n        const dataSourcesData = Object.assign(Object.assign({}, props.fetchedData), { _: getDataFromFields((_c = props.fields) !== null && _c !== void 0 ? _c : {}) });\n        // we render fallback on client to avoid problems with client-only components\n        return (React.createElement(FEAAS.ExternalComponent, Object.assign({ componentName: componentName, clientFallback: fallbackComponent, datasources: dataSourcesData }, componentProps)));\n    }\n}\n/**\n * Fetches server component props required for server rendering, based on rendering params.\n * @param {BYOCComponentParams} params component params\n */\nexport function fetchBYOCComponentServerProps(params) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const fetchDataOptions = params.ComponentDataOverride\n            ? JSON.parse(params.ComponentDataOverride)\n            : {};\n        const fetchedData = yield FEAAS.DataSettings.fetch(fetchDataOptions || {});\n        return {\n            fetchedData,\n        };\n    });\n}\n", "import { BYOCComponent } from './BYOCComponent';\nimport React from 'react';\nexport const BYOC_WRAPPER_RENDERING_NAME = 'BYOCWrapper';\nexport const BYOCWrapper = (props) => {\n    var _a, _b, _c;\n    const styles = (_b = (_a = props.params) === null || _a === void 0 ? void 0 : _a.styles) === null || _b === void 0 ? void 0 : _b.trimEnd();\n    const id = (_c = props.params) === null || _c === void 0 ? void 0 : _c.RenderingIdentifier;\n    return (React.createElement(\"div\", { className: styles ? styles : undefined, id: id ? id : undefined },\n        React.createElement(\"div\", { className: \"component-content\" },\n            React.createElement(BYOCComponent, Object.assign({}, props)))));\n};\n", "import React from 'react';\nimport { ComponentFactoryReactContext } from '../components/SitecoreContext';\nimport { useContext } from 'react';\n/**\n * @param {React.ComponentClass<T> | React.FC<T>} Component\n */\nexport function withComponentFactory(Component) {\n    /**\n     * @param {T} props - props to pass to the wrapped component\n     * @returns {JSX.Element} - the rendered component\n     */\n    function WithComponentFactory(props) {\n        const context = useContext(ComponentFactoryReactContext);\n        return React.createElement(Component, Object.assign({}, props, { componentFactory: props.componentFactory || context }));\n    }\n    WithComponentFactory.displayName = `withComponentFactory(${Component.displayName ||\n        Component.name ||\n        'Anonymous'})`;\n    return WithComponentFactory;\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from 'react';\nimport fastDeepEqual from 'fast-deep-equal/es6/react';\nexport const SitecoreContextReactContext = React.createContext({});\nexport const ComponentFactoryReactContext = React.createContext({});\nexport class SitecoreContext extends React.Component {\n    constructor(props) {\n        super(props);\n        /**\n         * Update context state. Value can be @type {LayoutServiceData} which will be automatically transformed\n         * or you can provide exact @type {SitecoreContextValue}\n         * @param {SitecoreContextValue | LayoutServiceData} value New context value\n         */\n        this.setContext = (value) => {\n            this.setState({\n                context: value.sitecore\n                    ? this.constructContext(value)\n                    : Object.assign({}, value),\n            });\n        };\n        const context = this.constructContext(props.layoutData);\n        this.state = {\n            context,\n            setContext: this.setContext,\n        };\n    }\n    constructContext(layoutData) {\n        var _a;\n        if (!layoutData) {\n            return {\n                pageEditing: false,\n            };\n        }\n        return Object.assign({ route: layoutData.sitecore.route, itemId: (_a = layoutData.sitecore.route) === null || _a === void 0 ? void 0 : _a.itemId }, layoutData.sitecore.context);\n    }\n    componentDidUpdate(prevProps) {\n        // In case if somebody will manage SitecoreContext state by passing fresh `layoutData` prop\n        // instead of using `updateSitecoreContext`\n        if (!fastDeepEqual(prevProps.layoutData, this.props.layoutData)) {\n            this.setContext(this.props.layoutData);\n            return;\n        }\n    }\n    render() {\n        return (React.createElement(ComponentFactoryReactContext.Provider, { value: this.props.componentFactory },\n            React.createElement(SitecoreContextReactContext.Provider, { value: this.state }, this.props.children)));\n    }\n}\nSitecoreContext.displayName = 'SitecoreContext';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { mediaApi } from '@sitecore-jss/sitecore-jss/media';\nimport React from 'react';\nimport { addClassName, convertAttributesToReactProps } from '../utils';\nimport { getAttributesString } from '../utils';\nconst getEditableWrapper = (editableMarkup, ...otherProps) => (\n// create an inline wrapper and use dangerouslySetInnerHTML.\n// if we try to parse the EE value, the parser will strip invalid or disallowed attributes from html elements - and EE uses several\nReact.createElement(\"span\", Object.assign({ className: \"sc-image-wrapper\" }, otherProps, { dangerouslySetInnerHTML: { __html: editableMarkup } })));\nconst getImageAttrs = (_a, imageParams, mediaUrlPrefix) => {\n    var { src, srcSet } = _a, otherAttrs = __rest(_a, [\"src\", \"srcSet\"]);\n    if (!src) {\n        return null;\n    }\n    addClassName(otherAttrs);\n    const newAttrs = Object.assign({}, otherAttrs);\n    // update image URL for jss handler and image rendering params\n    const resolvedSrc = mediaApi.updateImageUrl(src, imageParams, mediaUrlPrefix);\n    if (srcSet) {\n        // replace with HTML-formatted srcset, including updated image URLs\n        newAttrs.srcSet = mediaApi.getSrcSet(resolvedSrc, srcSet, imageParams, mediaUrlPrefix);\n    }\n    // always output original src as fallback for older browsers\n    newAttrs.src = resolvedSrc;\n    return newAttrs;\n};\n/**\n * @param {ImageField} imageField {ImageField} provides the dynamicMedia which is used to render the image\n * @param {ImageProps.imageParams} imageParams {ImageProp['imageParams']}} provides the image parameters that will be attached to the image URL\n * @param {RegExp} mediaUrlPrefix {RegExp} the url prefix regex used in the mediaApi\n * @param {ImageProps} otherProps {ImageProps} all other props included on the image component\n * @returns Experience Editor Markup\n */\nexport const getEEMarkup = (imageField, imageParams, mediaUrlPrefix, otherProps) => {\n    // we likely have an experience editor value, should be a string\n    const foundImg = mediaApi.findEditorImageTag(imageField.editable);\n    if (!foundImg) {\n        return getEditableWrapper(imageField.editable);\n    }\n    const foundImgProps = convertAttributesToReactProps(foundImg.attrs);\n    // Note: otherProps may override values from foundImgProps, e.g. `style`, `className` prop\n    // We do not attempt to merge.\n    const imgAttrs = getImageAttrs(Object.assign(Object.assign({}, foundImgProps), otherProps), imageParams, mediaUrlPrefix);\n    if (!imgAttrs) {\n        return getEditableWrapper(imageField.editable);\n    }\n    const imgHtml = `<img ${getAttributesString(imgAttrs)} />`;\n    const editableMarkup = imageField.editable.replace(foundImg.imgTag, imgHtml);\n    return getEditableWrapper(editableMarkup);\n};\nexport const Image = (_a) => {\n    var { media, editable = true, imageParams, field, mediaUrlPrefix } = _a, otherProps = __rest(_a, [\"media\", \"editable\", \"imageParams\", \"field\", \"mediaUrlPrefix\"]);\n    // allows the mistake of using 'field' prop instead of 'media' (consistent with other helpers)\n    if (field && !media) {\n        media = field;\n    }\n    const dynamicMedia = media;\n    if (!media ||\n        (!dynamicMedia.editable && !dynamicMedia.value && !dynamicMedia.src)) {\n        return null;\n    }\n    const imageField = dynamicMedia;\n    if (editable && imageField.editable) {\n        return getEEMarkup(imageField, imageParams, mediaUrlPrefix, otherProps);\n    }\n    // some wise-guy/gal is passing in a 'raw' image object value\n    const img = dynamicMedia.src\n        ? media\n        : dynamicMedia.value;\n    if (!img) {\n        return null;\n    }\n    const attrs = getImageAttrs(Object.assign(Object.assign({}, img), otherProps), imageParams, mediaUrlPrefix);\n    if (attrs) {\n        return React.createElement(\"img\", Object.assign({}, attrs));\n    }\n    return null; // we can't handle the truth\n};\nImage.displayName = 'Image';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from 'react';\nexport const RichText = forwardRef((_a, ref) => {\n    var { field, tag = 'div', editable = true } = _a, otherProps = __rest(_a, [\"field\", \"tag\", \"editable\"]);\n    if (!field || (!field.editable && !field.value)) {\n        return null;\n    }\n    const htmlProps = Object.assign({ dangerouslySetInnerHTML: {\n            __html: field.editable && editable ? field.editable : field.value,\n        }, ref }, otherProps);\n    return React.createElement(tag || 'div', htmlProps);\n});\nRichText.displayName = 'RichText';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nexport const Text = (_a) => {\n    var { field, tag, editable = true, encode = true } = _a, otherProps = __rest(_a, [\"field\", \"tag\", \"editable\", \"encode\"]);\n    if (!field || (!field.editable && (field.value === undefined || field.value === ''))) {\n        return null;\n    }\n    // can't use editable value if we want to output unencoded\n    if (!encode) {\n        // eslint-disable-next-line no-param-reassign\n        editable = false;\n    }\n    const isEditable = field.editable && editable;\n    let output = isEditable\n        ? field.editable || ''\n        : field.value === undefined\n            ? ''\n            : field.value;\n    // when string value isn't formatted, we should format line breaks\n    if (!field.editable && typeof output === 'string') {\n        const splitted = String(output).split('\\n');\n        if (splitted.length) {\n            const formatted = [];\n            splitted.forEach((str, i) => {\n                const isLast = i === splitted.length - 1;\n                formatted.push(str);\n                if (!isLast) {\n                    formatted.push(React.createElement(\"br\", { key: i }));\n                }\n            });\n            output = formatted;\n        }\n    }\n    const setDangerously = isEditable || !encode;\n    let children = null;\n    const htmlProps = Object.assign({}, otherProps);\n    if (setDangerously) {\n        htmlProps.dangerouslySetInnerHTML = {\n            __html: output,\n        };\n    }\n    else {\n        children = output;\n    }\n    if (tag || setDangerously) {\n        return React.createElement(tag || 'span', htmlProps, children);\n    }\n    else {\n        return React.createElement(React.Fragment, null, children);\n    }\n};\nText.displayName = 'Text';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nexport const DateField = (_a) => {\n    var { field, tag, editable = true, render } = _a, otherProps = __rest(_a, [\"field\", \"tag\", \"editable\", \"render\"]);\n    if (!field || (!field.editable && !field.value)) {\n        return null;\n    }\n    let children;\n    const htmlProps = Object.assign({}, otherProps);\n    if (field.editable && editable) {\n        htmlProps.dangerouslySetInnerHTML = {\n            __html: field.editable,\n        };\n    }\n    else if (render) {\n        children = render(field.value ? new Date(field.value) : null);\n    }\n    else {\n        children = field.value;\n    }\n    if (tag || (field.editable && editable)) {\n        return React.createElement(tag || 'span', htmlProps, children);\n    }\n    else {\n        return React.createElement(React.Fragment, null, children);\n    }\n};\nDateField.displayName = 'Date';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef } from 'react';\nexport const Link = forwardRef((_a, ref) => {\n    var { field, editable = true, showLinkTextWithChildrenPresent } = _a, otherProps = __rest(_a, [\"field\", \"editable\", \"showLinkTextWithChildrenPresent\"]);\n    const children = otherProps.children;\n    const dynamicField = field;\n    if (!field ||\n        (!dynamicField.editableFirstPart &&\n            !dynamicField.value &&\n            !dynamicField.href)) {\n        return null;\n    }\n    const resultTags = [];\n    // EXPERIENCE EDITOR RENDERING\n    if (editable && dynamicField.editableFirstPart) {\n        const markup = dynamicField.editableFirstPart + dynamicField.editableLastPart;\n        // in an ideal world, we'd pre-render React children here and inject them between editableFirstPart and editableLastPart.\n        // However, we cannot combine arbitrary unparsed HTML (innerHTML) based components with actual vDOM components (the children)\n        // because the innerHTML is not parsed - it'd make a discontinuous vDOM. So, we'll go for the next best compromise of rendering the link field and children separately\n        // as siblings. Should be \"good enough\" for most cases - and write your own helper if it isn't. Or bring xEditor out of 2006.\n        const htmlProps = Object.assign(Object.assign({ className: 'sc-link-wrapper', dangerouslySetInnerHTML: {\n                __html: markup,\n            } }, otherProps), { key: 'editable' });\n        // Exclude children, since 'dangerouslySetInnerHTML' and 'children' can't be set together\n        // and children will be added as a sibling\n        delete htmlProps.children;\n        resultTags.push(React.createElement(\"span\", Object.assign({}, htmlProps)));\n        // don't render normal link tag when editing, if no children exist\n        // this preserves normal-ish behavior if not using a link body (no hacks required)\n        if (!children) {\n            return resultTags[0];\n        }\n    }\n    // handle link directly on field for forgetful devs\n    const link = dynamicField.href\n        ? field\n        : dynamicField.value;\n    if (!link) {\n        return null;\n    }\n    const anchor = link.linktype !== 'anchor' && link.anchor ? `#${link.anchor}` : '';\n    const querystring = link.querystring ? `?${link.querystring}` : '';\n    const anchorAttrs = {\n        href: `${link.href}${querystring}${anchor}`,\n        className: link.class,\n        title: link.title,\n        target: link.target,\n    };\n    if (anchorAttrs.target === '_blank' && !anchorAttrs.rel) {\n        // information disclosure attack prevention keeps target blank site from getting ref to window.opener\n        anchorAttrs.rel = 'noopener noreferrer';\n    }\n    const linkText = showLinkTextWithChildrenPresent || !children ? link.text || link.href : null;\n    resultTags.push(React.createElement('a', Object.assign(Object.assign(Object.assign({}, anchorAttrs), otherProps), { key: 'link', ref }), linkText, children));\n    return React.createElement(React.Fragment, null, resultTags);\n});\nLink.displayName = 'Link';\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nexport const File = (_a) => {\n    /*\n      File fields cannot be managed via the EE. We never output \"editable.\"\n    */\n    var { field, children } = _a, otherProps = __rest(_a, [\"field\", \"children\"]);\n    const dynamicField = field;\n    if (!field || (!dynamicField.value && !dynamicField.src)) {\n        return null;\n    }\n    // handle link directly on field for forgetful devs\n    const file = (dynamicField.src\n        ? field\n        : dynamicField.value);\n    if (!file) {\n        return null;\n    }\n    const linkText = !children ? file.title || file.displayName : null;\n    const anchorAttrs = {\n        href: file.src,\n    };\n    return React.createElement('a', Object.assign(Object.assign({}, anchorAttrs), otherProps), linkText, children);\n};\nFile.displayName = 'File';\n", "import React from 'react';\nimport { SitecoreContextReactContext } from '../components/SitecoreContext';\n/**\n * @param {WithSitecoreContextOptions} [options]\n */\nexport function withSitecoreContext(options) {\n    return function withSitecoreContextHoc(Component) {\n        return function WithSitecoreContext(props) {\n            return (React.createElement(SitecoreContextReactContext.Consumer, null, (context) => (React.createElement(Component, Object.assign({}, props, { sitecoreContext: context.context, updateSitecoreContext: options && options.updatable && context.setContext })))));\n        };\n    };\n}\n/**\n * This hook grants acсess to the current Sitecore page context\n * by default JSS includes the following properties in this context:\n * - pageEditing - Provided by Layout Service, a boolean indicating whether the route is being accessed via the Experience Editor.\n * - pageState - Like pageEditing, but a string: normal, preview or edit.\n * - site - Provided by Layout Service, an object containing the name of the current Sitecore site context.\n *\n * @see https://jss.sitecore.com/docs/techniques/extending-layout-service/layoutservice-extending-context\n *\n * @param {WithSitecoreContextOptions} [options] hook options\n *\n * @example\n * const EditMode = () => {\n *    const { sitecoreContext } = useSitecoreContext();\n *    return <span>Edit Mode is {sitecoreContext.pageEditing ? 'active' : 'inactive'}</span>\n * }\n *\n * @example\n * const EditMode = () => {\n *    const { sitecoreContext, updateSitecoreContext } = useSitecoreContext({ updatable: true });\n *    const onClick = () => updateSitecoreContext({ pageEditing: true });\n *    return <span onClick={onClick}>Edit Mode is {sitecoreContext.pageEditing ? 'active' : 'inactive'}</span>\n * }\n * @returns {Object} { sitecoreContext, updateSitecoreContext }\n */\nexport function useSitecoreContext(options) {\n    const reactContext = React.useContext(SitecoreContextReactContext);\n    const updatable = options === null || options === void 0 ? void 0 : options.updatable;\n    return {\n        sitecoreContext: reactContext.context,\n        updateSitecoreContext: updatable ? reactContext.setContext : undefined,\n    };\n}\n", "import { useSitecoreContext } from '../enhancers/withSitecoreContext';\nlet emittedVI = false;\nconst VIComponent = (props) => {\n    const { sitecoreContext } = useSitecoreContext();\n    if (emittedVI ||\n        typeof document === 'undefined' ||\n        !sitecoreContext.visitorIdentificationTimestamp) {\n        // Don't emit VI script and meta tag if we've already done so,\n        // aren't rendering client-side, or don't have a VI timestamp.\n        return null;\n    }\n    emittedVI = true;\n    const script = document.createElement('script');\n    script.src = '/layouts/system/VisitorIdentification.js';\n    script.type = 'text/javascript';\n    script.defer = props.defer;\n    const meta = document.createElement('meta');\n    meta.name = 'VIcurrentDateTime';\n    meta.content = sitecoreContext.visitorIdentificationTimestamp.toString();\n    const head = document.querySelector('head');\n    head && head.appendChild(script);\n    head && head.appendChild(meta);\n    return null;\n};\nVIComponent.displayName = 'VisitorIdentification';\n/**\n * Reset the VI switch to allow VIComponent to render\n * Mainly for unit testing\n */\nexport function resetEmittedVI() {\n    emittedVI = false;\n}\nexport const VisitorIdentification = VIComponent;\n", "import React from 'react';\nimport { resetEditorChromes } from '..';\nexport const withEditorChromes = (WrappedComponent) => {\n    class Enhancer extends React.Component {\n        constructor() {\n            super(...arguments);\n            this.displayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n        }\n        componentDidUpdate() {\n            resetEditorChromes();\n        }\n        render() {\n            return React.createElement(WrappedComponent, Object.assign({}, this.props));\n        }\n    }\n    return Enhancer;\n};\n", "import React from 'react';\nimport { PlaceholderCommon } from '../components/PlaceholderCommon';\nimport { withComponentFactory } from './withComponentFactory';\n/**\n * @param {WithPlaceholderSpec} placeholders\n * @param {WithPlaceholderOptions} [options]\n */\nexport function withPlaceholder(placeholders, options) {\n    return (WrappedComponent) => {\n        class WithPlaceholder extends PlaceholderCommon {\n            constructor(props) {\n                super(props);\n            }\n            render() {\n                let childProps = Object.assign({}, this.props);\n                delete childProps.componentFactory;\n                if (options && options.propsTransformer) {\n                    childProps = options.propsTransformer(childProps);\n                }\n                if (this.state.error) {\n                    if (childProps.errorComponent) {\n                        return React.createElement(childProps.errorComponent, { error: this.state.error });\n                    }\n                    return (React.createElement(\"div\", { className: \"sc-jss-placeholder-error\" },\n                        \"A rendering error occurred: \",\n                        this.state.error.message,\n                        \".\"));\n                }\n                const renderingData = options && options.resolvePlaceholderDataFromProps\n                    ? options.resolvePlaceholderDataFromProps(childProps)\n                    : childProps.rendering;\n                const definitelyArrayPlacholders = !Array.isArray(placeholders)\n                    ? [placeholders]\n                    : placeholders;\n                definitelyArrayPlacholders.forEach((placeholder) => {\n                    let placeholderData;\n                    if (typeof placeholder !== 'string' && placeholder.placeholder && placeholder.prop) {\n                        placeholderData = PlaceholderCommon.getPlaceholderDataFromRenderingData(renderingData, placeholder.placeholder);\n                        if (placeholderData) {\n                            childProps[placeholder.prop] = this.getComponentsForRenderingData(placeholderData);\n                        }\n                    }\n                    else {\n                        placeholderData = PlaceholderCommon.getPlaceholderDataFromRenderingData(renderingData, placeholder);\n                        if (placeholderData) {\n                            childProps[placeholder] = this.getComponentsForRenderingData(placeholderData);\n                        }\n                    }\n                });\n                return React.createElement(WrappedComponent, Object.assign({}, childProps));\n            }\n        }\n        WithPlaceholder.propTypes = PlaceholderCommon.propTypes;\n        return withComponentFactory(WithPlaceholder);\n    };\n}\n", "import React from 'react';\nimport { useSitecoreContext } from './withSitecoreContext';\nexport const DefaultEditingError = () => (React.createElement(\"div\", { className: \"sc-jss-editing-error\", role: \"alert\" }, \"Datasource is required. Please choose a content item for this component.\"));\n/**\n * Checks whether a Sitecore datasource is present and renders appropriately depending on page mode (normal vs editing).\n * @param {WithDatasourceCheckOptions} [options]\n * @returns\n *  The wrapped component, if a datasource is present.\n *  A null component (in normal mode) or an error component (in editing mode), if a datasource is not present.\n */\nexport function withDatasourceCheck(options) {\n    return function withDatasourceCheckHoc(Component) {\n        return function WithDatasourceCheck(props) {\n            var _a, _b;\n            const { sitecoreContext } = useSitecoreContext();\n            const EditingError = (_a = options === null || options === void 0 ? void 0 : options.editingErrorComponent) !== null && _a !== void 0 ? _a : DefaultEditingError;\n            return ((_b = props.rendering) === null || _b === void 0 ? void 0 : _b.dataSource) ? (React.createElement(Component, Object.assign({}, props))) : sitecoreContext.pageEditing ? (React.createElement(EditingError, null)) : null;\n        };\n    };\n}\n", "import React from 'react';\nimport { useSitecoreContext } from '../enhancers/withSitecoreContext';\nimport { mapButtonToCommand, } from '@sitecore-jss/sitecore-jss/utils';\nexport const EditFrame = ({ children, dataSource, buttons, title, tooltip, cssClass, parameters, }) => {\n    var _a;\n    const { sitecoreContext } = useSitecoreContext();\n    if (!sitecoreContext.pageEditing) {\n        return React.createElement(React.Fragment, null, children);\n    }\n    const chromeData = {\n        displayName: title,\n        expandedDisplayName: tooltip,\n    };\n    const frameProps = {};\n    frameProps.className = 'scLooseFrameZone';\n    if (cssClass) {\n        frameProps.className = `${frameProps.className} ${cssClass}`;\n    }\n    // item uri for edit frame target\n    if (dataSource) {\n        const databaseName = dataSource.databaseName || ((_a = sitecoreContext.route) === null || _a === void 0 ? void 0 : _a.databaseName);\n        const language = dataSource.language || sitecoreContext.language;\n        frameProps.sc_item = `sitecore://${databaseName}/${dataSource.itemId}?lang=${language}`;\n        chromeData.contextItemUri = frameProps.sc_item;\n    }\n    chromeData.commands = buttons === null || buttons === void 0 ? void 0 : buttons.map((value) => {\n        return mapButtonToCommand(value, dataSource === null || dataSource === void 0 ? void 0 : dataSource.itemId, parameters);\n    });\n    return (React.createElement(\"div\", Object.assign({ className: \"scLooseFrameZone\" }, frameProps),\n        React.createElement(\"span\", { className: \"scChromeData\" }, JSON.stringify(chromeData)),\n        children));\n};\n", "/**\n * React implementation of component builder class for building components based on the configuration.\n */\nexport class ComponentBuilder {\n    constructor(config) {\n        this.config = config;\n        this.components = new Map([...config.components]);\n    }\n    /**\n     * Creates a new instance of component factory\n     * @returns {ComponentFactory} Component factory implementation\n     */\n    getComponentFactory() {\n        return (componentName) => {\n            const component = this.components.get(componentName);\n            if (!component)\n                return null;\n            return component;\n        };\n    }\n}\n"],
  "mappings": "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AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,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",
  "names": ["s", "h", "w", "y", "parse", "debug", "self", "v", "v", "F", "globalThis", "exports", "Headers", "status", "fetch", "location", "_", "location", "OperationTypeNode", "DirectiveLocation", "Kind", "indent", "TokenKind", "location", "instanceOf", "document", "x", "i", "result", "require_browser", "_a", "document", "ClientError", "GraphQLWebSocketMessage", "_a", "GraphQLWebSocketClient", "__awaiter", "_e", "e", "document", "_a", "fetch", "GraphQLClient", "__rest", "_e", "document", "variables", "data", "v", "k", "location", "parse", "wrap", "b", "parseValue", "v", "h", "status", "wrap", "axios", "require_axios", "isServer", "require_utils", "k", "resolveUrl", "result", "_a", "HorizonEditor", "isEditorActive", "resetEditorChromes", "mapButtonToCommand", "_", "_a", "require_utils", "require_utils", "LayoutServicePageState", "RenderingType", "require_utils", "getFieldValue", "getChildPlaceholder", "SitecoreTemplateId", "getContentStylesheetLink", "field", "_a", "rootNamespace", "enableDebug", "__rest", "s", "t", "AxiosDataFetcher", "debug", "fetchData", "RestLayoutService", "_a", "TimeoutPromise", "_", "__awaiter", "P", "DefaultRetryStrategy", "_a", "GraphQLRequestClient", "status", "__awaiter", "P", "GraphQLLayoutService", "_a", "getComponentLibraryStylesheetLinks", "_a", "_e", "require_layout", "fetchData", "k", "k2", "v", "trackingApi", "require_tracking", "_a", "__awaiter", "P", "_a", "_e", "__awaiter", "P", "_a", "__awaiter", "P", "GraphQLDictionaryService", "__awaiter", "P", "RestDictionaryService", "require_i18n", "require_graphql", "Symbol", "isObjectLike", "unescape", "k", "k2", "v", "mediaApi", "require_media", "require_themes", "getFEAASLibraryStylesheetLinks", "_a", "require_feaas", "parse", "s", "require_react", "b", "SitecoreTemplateId", "debug", "import_graphql_request", "import_utils", "import_layout", "import_media", "import_react", "import_react", "React", "s", "t", "styleParse", "import_react", "React", "import_react", "objectKeysToKebabCase", "object", "acc", "key", "toKebabCase", "objectKeysToCamelCase", "toCamelCase", "str", "KEBAB_REGEX", "match", "input", "word", "index", "t", "registerDataType", "handler", "name", "BYOCDataTypes", "XMLinkHandler", "ItemHandler", "_a", "properties", "schema", "__rest", "propertiesToFields", "fields", "title", "rest", "XMTypes", "property", "traverseSchema", "callback", "traversed", "value", "item", "transformSchema", "defaults", "transformSchemaObject", "construct", "transformed", "given", "custom", "subKey", "_b", "transformUiSchema", "uiSchema", "_c", "_d", "parseValue", "type", "e", "parseSchemaProperties", "props", "prev", "prop", "definition", "parsed", "getSchemaProperties", "getSchemaDefaults", "registeredDatasources", "registerDatasource", "options", "normalizeDatasourceOptions", "setRegistrationCallback", "getDatasource", "id", "datasourceOptions", "sample", "description", "settings", "registrationCallback", "customizeDataSettings", "datasource", "normalizeOptions", "component", "thumbnail", "group", "ui", "isHidden", "datasourceIds", "links", "meta", "explicitUISchema", "explicitSchema", "schemaOptions", "schemaBase", "useSchemaBase", "WebComponent", "registered", "registerComponent", "normalizedOptions", "isWebComponent", "BYOCRegistration", "getComponentProperties", "getComponent", "getComponent", "id", "name", "query", "base", "registered", "overload", "pair", "s", "k", "v", "propertyDefinition", "_a", "parseValue", "_c", "_b", "getMergedComponentProperties", "props", "componentName", "className", "fallbackWrapper", "fallback", "suppressHydrationWarning", "_dynamic", "datasources", "givenProps", "__rest", "parsedDatasources", "e", "dataProperties", "properties", "getComponentProperties", "attributes", "objectKeysToKebabCase", "serializedContextProperties", "key", "toKebabCase", "contextProperties", "value", "setRegistrationCallback", "registrationCallback", "BYOCRegistration", "WebComponent", "component", "registerComponent", "datasource", "getDatasource", "registerDatasource", "settings", "tagName", "win", "serializedContextProperties", "BYOCRegistration", "import_react", "y", "NextClientsideRenderer", "NextDynamicFunction", "NextComponent", "props", "componentName", "clientFallback", "attributes", "__rest", "Component", "_a", "getComponent", "Regular", "React", "RegularComponent", "External", "sanitizedAttributes", "Component", "props", "React", "NextDynamicFunction", "NextComponent", "RegularComponent", "RegularComponent", "props", "componentName", "fallback", "fallbackWrapper", "definition", "getComponent", "Component", "attributes", "properties", "merged", "getMergedComponentProperties", "React", "isWebComponent", "webComponentName", "toKebabCase", "el", "_a", "import_react", "import_react", "G", "O", "v", "q", "T", "t", "ie", "s", "le", "_", "Y", "h", "b", "y", "C", "N", "k", "B", "S", "V", "me", "be", "H", "t", "s", "O", "x", "ee", "Z", "D", "M", "E", "v", "me", "Q", "X", "z", "G", "q", "h", "N", "C", "te", "k", "B", "S", "V", "b", "y", "A", "$", "U", "R", "J", "P", "j", "ze", "Dr", "t", "t", "s", "h", "_", "X", "I", "Q", "_", "import_layout", "P", "_a", "_e", "React", "fetchData", "x", "import_react", "_a", "styles", "React", "import_react", "__awaiter", "P", "_a", "React", "x", "import_react", "_a", "styles", "React", "__rest", "s", "t", "React", "_a", "import_react", "import_react", "React", "_a", "fastDeepEqual", "import_react", "React", "import_utils", "React", "import_react", "__rest", "s", "t", "React", "_a", "Image", "import_react", "__rest", "s", "t", "_a", "React", "import_react", "__rest", "s", "t", "_a", "React", "import_react", "__rest", "s", "t", "_a", "React", "import_react", "__rest", "s", "t", "_a", "React", "import_react", "__rest", "s", "t", "File", "_a", "React", "import_react", "React", "import_react", "React", "import_react", "React", "import_react", "React", "_a", "import_react", "import_utils", "_a", "React"]
}
