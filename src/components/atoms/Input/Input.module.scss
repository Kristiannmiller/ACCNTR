@use 'toolbox' as *;

@layer atoms {
    .input {
        width: 100%;
        display: flex;
        flex-direction: column;

        .label {
            align-self: stretch;
            margin-bottom: var(--semantic-measures-spacing-004);
            color: var(--semantic-color-content-default-primary);
            @include typography-forms-field_label;
        }

        .input-container {
            position: relative;

            .input-box {
                width: 100%;
                flex: 1;
                box-sizing: border-box;
                color: var(--semantic-color-content-default-secondary);
                @include typography-forms-field-text;
                padding: calc(
                    var(--semantic-measures-spacing-016) -
                        var(--semantic-measures-stroke-small)
                );
                border: var(--semantic-measures-stroke-small) solid
                    var(--semantic-color-border-default-tertiary);
                background: var(--semantic-color-surface-default-primary);

                &[aria-invalid='true'] {
                    border-color: var(
                        --semantic-color-border-default-utility-field-error
                    );
                    background: var(
                        --semantic-color-surface-default-utility-negative
                    );
                    color: var(--semantic-color-content-default-primary);
                }

                &:focus {
                    outline: var(--semantic-measures-spacing-002) solid
                        var(--semantic-color-border-default-utility-focus-dark);
                    outline-offset: var(--semantic-measures-stroke-large);
                    border-radius: var(--semantic-measures-radius-medium);
                }

                + .inline-btn {
                    position: absolute;
                    top: var(--semantic-measures-spacing-000);
                    z-index: 1;
                    display: flex;
                    height: 100%;
                    justify-content: center;
                    align-items: center;
                    right: var(--semantic-measures-spacing-016);
                }
            }
        }

        .error-message {
            align-self: stretch;
            margin-top: var(--semantic-measures-spacing-008);
            @include typography-forms-explainer;
        }

        .show-error {
            color: var(--semantic-color-content-default-utility-field-error);
        }
    }
}
