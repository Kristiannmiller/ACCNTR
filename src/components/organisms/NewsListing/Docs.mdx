import { Meta, Stories, Controls } from '@storybook/blocks';
import * as NewsListingStories from './NewsListing.stories';

<Meta title="Design System/organisms/NewsListing/Docs" of={ NewsListingStories} />

# NewsListing

Story Link: [#329](https://github.com/ahc-digital/migration-planning-tracking/issues/329)

Description: The News Listing component is a component that displays a list of all news pages within the site, pulled automatically from the indexes. It supports pagination and provides a way for users to browse the entire archive of news items.

---
# Acceptance Criteria

The component is created within Sitecore and meets the following criteria:
- Template name and structure matches specification in "Sitecore Details" section
- Content authors are able to add, modify, and remove the component via experience editor

For ADA, component should be fully operable via keyboard (tab index, panel toggling, etc) without mouse interaction. Component must also pass Storybook ADA plugin validation.

Component is added to storybook, and each content author editable field is editable within storybook.

Should implement the exclude from translation class around the entire component.

The top of the container should be the anchor target with the id from the rendering parameter.

The list of articles should populate automatically from the index and pull in all articles on the current site for display. Articles should be ordered by publish date, with newest articles appearing first.

The text based search, if enabled, searches the article title and the page content.

Content authors should be able to specify the number of results per page.

News articles can be flagged as featured. This will be handled via a field on the News Article itself. If more than one featured news article is found in the index, we take the most recently published.


<Stories />

## Props
<Controls />

## Example Usage(s)
```tsx
<NewsListing>
<NewsListingCard
   image={<JSSImage field={{ src: mockImages[1].src, alt: mockImages[1].alt }} />}
   headline={<JSSLink field={{href: '#',text: 'Headline for search result'}}/>}
   supportCopyText = {<JSSRichText field={{value: 'Body copy for search result. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ve'}}/>}
/>
<NewsListingCard
   image={<JSSImage field={{ src: mockImages[1].src, alt: mockImages[1].alt }} />}
   headline={<JSSLink field={{href: '#',text: 'Headline for search result'}}/>}
   supportCopyText = {<JSSRichText field={{value: 'Body copy for search result. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ve'}}/>}
/>
<NewsListingCard
   image={<JSSImage field={{ src: mockImages[1].src, alt: mockImages[1].alt }} />}
   headline={<JSSLink field={{href: '#',text: 'Headline for search result'}}/>}
   supportCopyText = {<JSSRichText field={{value: 'Body copy for search result. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ve'}}/>}
/>
<NewsListingCard
   image={<JSSImage field={{ src: mockImages[1].src, alt: mockImages[1].alt }} />}
   headline={<JSSLink field={{href: '#',text: 'Headline for search result'}}/>}
   supportCopyText = {<JSSRichText field={{value: 'Body copy for search result. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ve'}}/>}
/>
<NewsListingCard
   image={<JSSImage field={{ src: mockImages[1].src, alt: mockImages[1].alt }} />}
   headline={<JSSLink field={{href: '#',text: 'Headline for search result'}}/>}
   supportCopyText = {<JSSRichText field={{value: 'Body copy for search result. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ve'}}/>}
/>
<NewsListingCard
   image={<JSSImage field={{ src: mockImages[1].src, alt: mockImages[1].alt }} />}
   headline={<JSSLink field={{href: '#',text: 'Headline for search result'}}/>}
   supportCopyText = {<JSSRichText field={{value: 'Body copy for search result. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim ve'}}/>}
/>
<NewsListing />
```

